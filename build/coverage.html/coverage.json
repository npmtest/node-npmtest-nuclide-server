{"/home/travis/build/npmtest/node-npmtest-nuclide-server/test.js":{"path":"/home/travis/build/npmtest/node-npmtest-nuclide-server/test.js","s":{"1":2,"2":2,"3":2,"4":2,"5":2,"6":2,"7":2,"8":1,"9":2,"10":2,"11":1,"12":1,"13":1,"14":1,"15":2,"16":2,"17":2,"18":2,"19":1,"20":1,"21":2,"22":2,"23":2,"24":1,"25":1,"26":1,"27":1,"28":1,"29":1,"30":1,"31":1,"32":1,"33":1,"34":1,"35":1,"36":1,"37":1,"38":1,"39":2,"40":2,"41":1,"42":2,"43":2,"44":1,"45":2,"46":2,"47":1,"48":2,"49":2,"50":1,"51":1,"52":1,"53":1,"54":1},"b":{"1":[2,1,1,1],"2":[1,1,1,1],"3":[1,1],"4":[1,1],"5":[1,1],"6":[1,1],"7":[1,1],"8":[1,1],"9":[1,1],"10":[1,1,1],"11":[1,1],"12":[1,1],"13":[1,1],"14":[1,1],"15":[1,1],"16":[1,1],"17":[1,1]},"f":{"1":2,"2":2,"3":2,"4":2,"5":2,"6":1,"7":1,"8":1,"9":2,"10":2,"11":2,"12":2,"13":1},"fnMap":{"1":{"name":"(anonymous_1)","line":12,"loc":{"start":{"line":12,"column":1},"end":{"line":12,"column":13}}},"2":{"name":"(anonymous_2)","line":19,"loc":{"start":{"line":19,"column":5},"end":{"line":19,"column":17}}},"3":{"name":"(anonymous_3)","line":23,"loc":{"start":{"line":23,"column":24},"end":{"line":23,"column":36}}},"4":{"name":"(anonymous_4)","line":61,"loc":{"start":{"line":61,"column":5},"end":{"line":61,"column":17}}},"5":{"name":"(anonymous_5)","line":82,"loc":{"start":{"line":82,"column":5},"end":{"line":82,"column":17}}},"6":{"name":"(anonymous_6)","line":91,"loc":{"start":{"line":91,"column":77},"end":{"line":94,"column":10}}},"7":{"name":"(anonymous_7)","line":112,"loc":{"start":{"line":112,"column":83},"end":{"line":115,"column":10}},"skip":true},"8":{"name":"(anonymous_8)","line":123,"loc":{"start":{"line":123,"column":77},"end":{"line":126,"column":10}},"skip":true},"9":{"name":"(anonymous_9)","line":139,"loc":{"start":{"line":139,"column":12},"end":{"line":139,"column":40}},"skip":true},"10":{"name":"(anonymous_10)","line":147,"loc":{"start":{"line":147,"column":77},"end":{"line":150,"column":10}},"skip":true},"11":{"name":"(anonymous_11)","line":158,"loc":{"start":{"line":158,"column":83},"end":{"line":161,"column":10}},"skip":true},"12":{"name":"(anonymous_12)","line":169,"loc":{"start":{"line":169,"column":79},"end":{"line":172,"column":10}},"skip":true},"13":{"name":"(anonymous_13)","line":180,"loc":{"start":{"line":180,"column":75},"end":{"line":183,"column":10}},"skip":true}},"statementMap":{"1":{"start":{"line":12,"column":0},"end":{"line":195,"column":5}},"2":{"start":{"line":14,"column":4},"end":{"line":14,"column":14}},"3":{"start":{"line":19,"column":4},"end":{"line":56,"column":9}},"4":{"start":{"line":21,"column":8},"end":{"line":21,"column":19}},"5":{"start":{"line":23,"column":8},"end":{"line":35,"column":13}},"6":{"start":{"line":24,"column":12},"end":{"line":34,"column":13}},"7":{"start":{"line":25,"column":16},"end":{"line":28,"column":30}},"8":{"start":{"line":30,"column":16},"end":{"line":33,"column":27}},"9":{"start":{"line":37,"column":8},"end":{"line":39,"column":21}},"10":{"start":{"line":40,"column":8},"end":{"line":53,"column":9}},"11":{"start":{"line":43,"column":12},"end":{"line":46,"column":14}},"12":{"start":{"line":47,"column":12},"end":{"line":47,"column":18}},"13":{"start":{"line":50,"column":12},"end":{"line":51,"column":33}},"14":{"start":{"line":52,"column":12},"end":{"line":52,"column":18}},"15":{"start":{"line":55,"column":8},"end":{"line":55,"column":35}},"16":{"start":{"line":61,"column":4},"end":{"line":63,"column":9}},"17":{"start":{"line":62,"column":8},"end":{"line":62,"column":15}},"18":{"start":{"line":64,"column":4},"end":{"line":77,"column":5}},"19":{"start":{"line":70,"column":8},"end":{"line":70,"column":14}},"20":{"start":{"line":76,"column":8},"end":{"line":76,"column":14}},"21":{"start":{"line":82,"column":4},"end":{"line":84,"column":9}},"22":{"start":{"line":83,"column":8},"end":{"line":83,"column":15}},"23":{"start":{"line":85,"column":4},"end":{"line":194,"column":5}},"24":{"start":{"line":91,"column":8},"end":{"line":99,"column":10}},"25":{"start":{"line":98,"column":12},"end":{"line":98,"column":35}},"26":{"start":{"line":102,"column":8},"end":{"line":104,"column":63}},"27":{"start":{"line":105,"column":8},"end":{"line":105,"column":14}},"28":{"start":{"line":112,"column":8},"end":{"line":121,"column":10},"skip":true},"29":{"start":{"line":119,"column":12},"end":{"line":119,"column":55},"skip":true},"30":{"start":{"line":120,"column":12},"end":{"line":120,"column":48},"skip":true},"31":{"start":{"line":123,"column":8},"end":{"line":136,"column":10},"skip":true},"32":{"start":{"line":130,"column":12},"end":{"line":130,"column":76},"skip":true},"33":{"start":{"line":131,"column":12},"end":{"line":131,"column":73},"skip":true},"34":{"start":{"line":132,"column":12},"end":{"line":132,"column":74},"skip":true},"35":{"start":{"line":133,"column":12},"end":{"line":133,"column":79},"skip":true},"36":{"start":{"line":134,"column":12},"end":{"line":134,"column":25},"skip":true},"37":{"start":{"line":135,"column":12},"end":{"line":135,"column":45},"skip":true},"38":{"start":{"line":138,"column":8},"end":{"line":145,"column":14},"skip":true},"39":{"start":{"line":143,"column":16},"end":{"line":143,"column":29},"skip":true},"40":{"start":{"line":144,"column":16},"end":{"line":144,"column":55},"skip":true},"41":{"start":{"line":147,"column":8},"end":{"line":156,"column":10},"skip":true},"42":{"start":{"line":154,"column":12},"end":{"line":154,"column":25},"skip":true},"43":{"start":{"line":155,"column":12},"end":{"line":155,"column":45},"skip":true},"44":{"start":{"line":158,"column":8},"end":{"line":167,"column":10},"skip":true},"45":{"start":{"line":165,"column":12},"end":{"line":165,"column":25},"skip":true},"46":{"start":{"line":166,"column":12},"end":{"line":166,"column":48},"skip":true},"47":{"start":{"line":169,"column":8},"end":{"line":178,"column":10},"skip":true},"48":{"start":{"line":176,"column":12},"end":{"line":176,"column":25},"skip":true},"49":{"start":{"line":177,"column":12},"end":{"line":177,"column":46},"skip":true},"50":{"start":{"line":180,"column":8},"end":{"line":189,"column":10},"skip":true},"51":{"start":{"line":187,"column":12},"end":{"line":187,"column":94},"skip":true},"52":{"start":{"line":188,"column":12},"end":{"line":188,"column":48},"skip":true},"53":{"start":{"line":192,"column":8},"end":{"line":192,"column":35},"skip":true},"54":{"start":{"line":193,"column":8},"end":{"line":193,"column":14},"skip":true}},"branchMap":{"1":{"line":25,"type":"binary-expr","locations":[{"start":{"line":25,"column":23},"end":{"line":25,"column":62}},{"start":{"line":26,"column":20},"end":{"line":26,"column":70}},{"start":{"line":27,"column":20},"end":{"line":27,"column":71}},{"start":{"line":28,"column":20},"end":{"line":28,"column":29}}]},"2":{"line":30,"type":"binary-expr","locations":[{"start":{"line":30,"column":23},"end":{"line":30,"column":37}},{"start":{"line":31,"column":20},"end":{"line":31,"column":61}},{"start":{"line":32,"column":20},"end":{"line":32,"column":70}},{"start":{"line":33,"column":20},"end":{"line":33,"column":26}}]},"3":{"line":37,"type":"cond-expr","locations":[{"start":{"line":38,"column":14},"end":{"line":38,"column":20}},{"start":{"line":39,"column":14},"end":{"line":39,"column":20}}]},"4":{"line":40,"type":"switch","locations":[{"start":{"line":42,"column":8},"end":{"line":47,"column":18}},{"start":{"line":49,"column":8},"end":{"line":52,"column":18}}]},"5":{"line":44,"type":"binary-expr","locations":[{"start":{"line":44,"column":16},"end":{"line":44,"column":44}},{"start":{"line":44,"column":48},"end":{"line":44,"column":66}}]},"6":{"line":50,"type":"binary-expr","locations":[{"start":{"line":50,"column":21},"end":{"line":50,"column":49}},{"start":{"line":50,"column":53},"end":{"line":50,"column":72}}]},"7":{"line":64,"type":"switch","locations":[{"start":{"line":69,"column":4},"end":{"line":70,"column":14}},{"start":{"line":75,"column":4},"end":{"line":76,"column":14}}]},"8":{"line":85,"type":"switch","locations":[{"start":{"line":90,"column":4},"end":{"line":105,"column":14}},{"start":{"line":111,"column":4},"end":{"line":193,"column":14},"skip":true}]},"9":{"line":91,"type":"binary-expr","locations":[{"start":{"line":91,"column":42},"end":{"line":91,"column":73}},{"start":{"line":91,"column":77},"end":{"line":99,"column":9}}]},"10":{"line":102,"type":"binary-expr","locations":[{"start":{"line":102,"column":18},"end":{"line":102,"column":32}},{"start":{"line":103,"column":12},"end":{"line":103,"column":53}},{"start":{"line":104,"column":12},"end":{"line":104,"column":61}}]},"11":{"line":112,"type":"binary-expr","locations":[{"start":{"line":112,"column":45},"end":{"line":112,"column":79},"skip":true},{"start":{"line":112,"column":83},"end":{"line":121,"column":9},"skip":true}]},"12":{"line":123,"type":"binary-expr","locations":[{"start":{"line":123,"column":42},"end":{"line":123,"column":73},"skip":true},{"start":{"line":123,"column":77},"end":{"line":136,"column":9},"skip":true}]},"13":{"line":138,"type":"binary-expr","locations":[{"start":{"line":138,"column":48},"end":{"line":138,"column":85},"skip":true},{"start":{"line":139,"column":12},"end":{"line":145,"column":13},"skip":true}]},"14":{"line":147,"type":"binary-expr","locations":[{"start":{"line":147,"column":42},"end":{"line":147,"column":73},"skip":true},{"start":{"line":147,"column":77},"end":{"line":156,"column":9},"skip":true}]},"15":{"line":158,"type":"binary-expr","locations":[{"start":{"line":158,"column":45},"end":{"line":158,"column":79},"skip":true},{"start":{"line":158,"column":83},"end":{"line":167,"column":9},"skip":true}]},"16":{"line":169,"type":"binary-expr","locations":[{"start":{"line":169,"column":43},"end":{"line":169,"column":75},"skip":true},{"start":{"line":169,"column":79},"end":{"line":178,"column":9},"skip":true}]},"17":{"line":180,"type":"binary-expr","locations":[{"start":{"line":180,"column":41},"end":{"line":180,"column":71},"skip":true},{"start":{"line":180,"column":75},"end":{"line":189,"column":9},"skip":true}]}},"code":["/* istanbul instrument in package npmtest_nuclide_server */","/*jslint","    bitwise: true,","    browser: true,","    maxerr: 8,","    maxlen: 96,","    node: true,","    nomen: true,","    regexp: true,","    stupid: true","*/","(function () {","    'use strict';","    var local;","","","","    // run shared js-env code - pre-init","    (function () {","        // init local","        local = {};","        // init modeJs","        local.modeJs = (function () {","            try {","                return typeof navigator.userAgent === 'string' &&","                    typeof document.querySelector('body') === 'object' &&","                    typeof XMLHttpRequest.prototype.open === 'function' &&","                    'browser';","            } catch (errorCaughtBrowser) {","                return module.exports &&","                    typeof process.versions.node === 'string' &&","                    typeof require('http').createServer === 'function' &&","                    'node';","            }","        }());","        // init global","        local.global = local.modeJs === 'browser'","            ? window","            : global;","        switch (local.modeJs) {","        // re-init local from window.local","        case 'browser':","            local = local.global.utility2.objectSetDefault(","                local.global.utility2_rollup || local.global.local,","                local.global.utility2","            );","            break;","        // re-init local from example.js","        case 'node':","            local = (local.global.utility2_rollup || require('utility2'))","                .requireReadme();","            break;","        }","        // export local","        local.global.local = local;","    }());","","","","    // run shared js-env code - function","    (function () {","        return;","    }());","    switch (local.modeJs) {","","","","    // run browser js-env code - function","    case 'browser':","        break;","","","","    // run node js-env code - function","    case 'node':","        break;","    }","","","","    // run shared js-env code - post-init","    (function () {","        return;","    }());","    switch (local.modeJs) {","","","","    // run browser js-env code - post-init","    case 'browser':","        local.testCase_browser_nullCase = local.testCase_browser_nullCase || function (","            options,","            onError","        ) {","        /*","         * this function will test browsers's null-case handling-behavior-behavior","         */","            onError(null, options);","        };","","        // run tests","        local.nop(local.modeTest &&","            document.querySelector('#testRunButton1') &&","            document.querySelector('#testRunButton1').click());","        break;","","","","    // run node js-env code - post-init","    /* istanbul ignore next */","    case 'node':","        local.testCase_buildApidoc_default = local.testCase_buildApidoc_default || function (","            options,","            onError","        ) {","        /*","         * this function will test buildApidoc's default handling-behavior-behavior","         */","            options = { modulePathList: module.paths };","            local.buildApidoc(options, onError);","        };","","        local.testCase_buildApp_default = local.testCase_buildApp_default || function (","            options,","            onError","        ) {","        /*","         * this function will test buildApp's default handling-behavior-behavior","         */","            local.testCase_buildReadme_default(options, local.onErrorThrow);","            local.testCase_buildLib_default(options, local.onErrorThrow);","            local.testCase_buildTest_default(options, local.onErrorThrow);","            local.testCase_buildCustomOrg_default(options, local.onErrorThrow);","            options = [];","            local.buildApp(options, onError);","        };","","        local.testCase_buildCustomOrg_default = local.testCase_buildCustomOrg_default ||","            function (options, onError) {","            /*","             * this function will test buildCustomOrg's default handling-behavior","             */","                options = {};","                local.buildCustomOrg(options, onError);","            };","","        local.testCase_buildLib_default = local.testCase_buildLib_default || function (","            options,","            onError","        ) {","        /*","         * this function will test buildLib's default handling-behavior","         */","            options = {};","            local.buildLib(options, onError);","        };","","        local.testCase_buildReadme_default = local.testCase_buildReadme_default || function (","            options,","            onError","        ) {","        /*","         * this function will test buildReadme's default handling-behavior-behavior","         */","            options = {};","            local.buildReadme(options, onError);","        };","","        local.testCase_buildTest_default = local.testCase_buildTest_default || function (","            options,","            onError","        ) {","        /*","         * this function will test buildTest's default handling-behavior","         */","            options = {};","            local.buildTest(options, onError);","        };","","        local.testCase_webpage_default = local.testCase_webpage_default || function (","            options,","            onError","        ) {","        /*","         * this function will test webpage's default handling-behavior","         */","            options = { modeCoverageMerge: true, url: local.serverLocalHost + '?modeTest=1' };","            local.browserTest(options, onError);","        };","","        // run test-server","        local.testRunServer(local);","        break;","    }","}());",""],"l":{"12":2,"14":2,"19":2,"21":2,"23":2,"24":2,"25":2,"30":1,"37":2,"40":2,"43":1,"47":1,"50":1,"52":1,"55":2,"61":2,"62":2,"64":2,"70":1,"76":1,"82":2,"83":2,"85":2,"91":1,"98":1,"102":1,"105":1,"112":1,"119":1,"120":1,"123":1,"130":1,"131":1,"132":1,"133":1,"134":1,"135":1,"138":1,"143":2,"144":2,"147":1,"154":2,"155":2,"158":1,"165":2,"166":2,"169":1,"176":2,"177":2,"180":1,"187":1,"188":1,"192":1,"193":1}},"/home/travis/build/npmtest/node-npmtest-nuclide-server/lib.npmtest_nuclide_server.js":{"path":"/home/travis/build/npmtest/node-npmtest-nuclide-server/lib.npmtest_nuclide_server.js","s":{"1":2,"2":2,"3":2,"4":2,"5":2,"6":2,"7":2,"8":1,"9":2,"10":2,"11":2,"12":2,"13":1,"14":1,"15":1,"16":1},"b":{"1":[2,1,1,1],"2":[1,1,1,1],"3":[1,1],"4":[2,2],"5":[1,1]},"f":{"1":2,"2":2,"3":2},"fnMap":{"1":{"name":"(anonymous_1)","line":12,"loc":{"start":{"line":12,"column":1},"end":{"line":12,"column":13}}},"2":{"name":"(anonymous_2)","line":19,"loc":{"start":{"line":19,"column":5},"end":{"line":19,"column":17}}},"3":{"name":"(anonymous_3)","line":23,"loc":{"start":{"line":23,"column":24},"end":{"line":23,"column":36}}}},"statementMap":{"1":{"start":{"line":12,"column":0},"end":{"line":53,"column":5}},"2":{"start":{"line":14,"column":4},"end":{"line":14,"column":14}},"3":{"start":{"line":19,"column":4},"end":{"line":52,"column":9}},"4":{"start":{"line":21,"column":8},"end":{"line":21,"column":19}},"5":{"start":{"line":23,"column":8},"end":{"line":35,"column":13}},"6":{"start":{"line":24,"column":12},"end":{"line":34,"column":13}},"7":{"start":{"line":25,"column":16},"end":{"line":28,"column":30}},"8":{"start":{"line":30,"column":16},"end":{"line":33,"column":27}},"9":{"start":{"line":37,"column":8},"end":{"line":39,"column":21}},"10":{"start":{"line":41,"column":8},"end":{"line":41,"column":54}},"11":{"start":{"line":43,"column":8},"end":{"line":43,"column":59}},"12":{"start":{"line":45,"column":8},"end":{"line":51,"column":9}},"13":{"start":{"line":46,"column":12},"end":{"line":46,"column":65}},"14":{"start":{"line":48,"column":12},"end":{"line":48,"column":35}},"15":{"start":{"line":49,"column":12},"end":{"line":49,"column":49}},"16":{"start":{"line":50,"column":12},"end":{"line":50,"column":43}}},"branchMap":{"1":{"line":25,"type":"binary-expr","locations":[{"start":{"line":25,"column":23},"end":{"line":25,"column":62}},{"start":{"line":26,"column":20},"end":{"line":26,"column":70}},{"start":{"line":27,"column":20},"end":{"line":27,"column":71}},{"start":{"line":28,"column":20},"end":{"line":28,"column":29}}]},"2":{"line":30,"type":"binary-expr","locations":[{"start":{"line":30,"column":23},"end":{"line":30,"column":37}},{"start":{"line":31,"column":20},"end":{"line":31,"column":61}},{"start":{"line":32,"column":20},"end":{"line":32,"column":70}},{"start":{"line":33,"column":20},"end":{"line":33,"column":26}}]},"3":{"line":37,"type":"cond-expr","locations":[{"start":{"line":38,"column":14},"end":{"line":38,"column":20}},{"start":{"line":39,"column":14},"end":{"line":39,"column":20}}]},"4":{"line":41,"type":"binary-expr","locations":[{"start":{"line":41,"column":16},"end":{"line":41,"column":44}},{"start":{"line":41,"column":48},"end":{"line":41,"column":53}}]},"5":{"line":45,"type":"if","locations":[{"start":{"line":45,"column":8},"end":{"line":45,"column":8}},{"start":{"line":45,"column":8},"end":{"line":45,"column":8}}]}},"code":["/* istanbul instrument in package npmtest_nuclide_server */","/*jslint","    bitwise: true,","    browser: true,","    maxerr: 8,","    maxlen: 96,","    node: true,","    nomen: true,","    regexp: true,","    stupid: true","*/","(function () {","    'use strict';","    var local;","","","","    // run shared js-env code - pre-init","    (function () {","        // init local","        local = {};","        // init modeJs","        local.modeJs = (function () {","            try {","                return typeof navigator.userAgent === 'string' &&","                    typeof document.querySelector('body') === 'object' &&","                    typeof XMLHttpRequest.prototype.open === 'function' &&","                    'browser';","            } catch (errorCaughtBrowser) {","                return module.exports &&","                    typeof process.versions.node === 'string' &&","                    typeof require('http').createServer === 'function' &&","                    'node';","            }","        }());","        // init global","        local.global = local.modeJs === 'browser'","            ? window","            : global;","        // init utility2_rollup","        local = local.global.utility2_rollup || local;","        // init lib","        local.local = local.npmtest_nuclide_server = local;","        // init exports","        if (local.modeJs === 'browser') {","            local.global.utility2_npmtest_nuclide_server = local;","        } else {","            module.exports = local;","            module.exports.__dirname = __dirname;","            module.exports.module = module;","        }","    }());","}());",""],"l":{"12":2,"14":2,"19":2,"21":2,"23":2,"24":2,"25":2,"30":1,"37":2,"41":2,"43":2,"45":2,"46":1,"48":1,"49":1,"50":1}},"/home/travis/build/npmtest/node-npmtest-nuclide-server/example.js":{"path":"/home/travis/build/npmtest/node-npmtest-nuclide-server/example.js","s":{"1":2,"2":2,"3":2,"4":2,"5":2,"6":2,"7":2,"8":1,"9":2,"10":2,"11":2,"12":2,"13":1,"14":2,"15":2,"16":2,"17":2,"18":2,"19":0,"20":2,"21":1,"22":1,"23":1,"24":1,"25":1,"26":0,"27":0,"28":1,"29":1,"30":2,"31":0,"32":0,"33":0,"34":1,"35":2,"36":2,"37":3,"38":3,"39":3,"40":3,"41":0,"42":3,"43":3,"44":3,"45":1,"46":3,"47":1,"48":1,"49":1,"50":1,"51":1,"52":1,"53":1,"54":1,"55":1,"56":1,"57":0,"58":1,"59":6,"60":6,"61":1,"62":2,"63":0,"64":2,"65":1,"66":1,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0},"b":{"1":[2,1,1,1],"2":[1,1,1,1],"3":[1,1],"4":[2,2],"5":[1,1],"6":[1,1],"7":[2,0],"8":[2,1,1,1,1,1],"9":[0,2,0],"10":[1,1],"11":[2,1,1],"12":[1,0],"13":[0,2],"14":[2,0,0,0,0,0,0],"15":[0,3],"16":[3,0],"17":[1,1],"18":[0,1],"19":[1,2,0,2],"20":[1,0],"21":[1,1],"22":[0,0],"23":[0,0],"24":[0,0],"25":[0,0],"26":[0,0],"27":[0,0],"28":[0,0]},"f":{"1":2,"2":2,"3":2,"4":2,"5":2,"6":2,"7":3,"8":3,"9":3,"10":1,"11":6,"12":0},"fnMap":{"1":{"name":"(anonymous_1)","line":26,"loc":{"start":{"line":26,"column":1},"end":{"line":26,"column":13}}},"2":{"name":"(anonymous_2)","line":33,"loc":{"start":{"line":33,"column":5},"end":{"line":33,"column":17}}},"3":{"name":"(anonymous_3)","line":37,"loc":{"start":{"line":37,"column":24},"end":{"line":37,"column":36}}},"4":{"name":"(anonymous_4)","line":69,"loc":{"start":{"line":69,"column":31},"end":{"line":69,"column":48}},"skip":true},"5":{"name":"(anonymous_5)","line":78,"loc":{"start":{"line":78,"column":26},"end":{"line":78,"column":45}},"skip":true},"6":{"name":"(anonymous_6)","line":123,"loc":{"start":{"line":123,"column":33},"end":{"line":123,"column":48}},"skip":true},"7":{"name":"(anonymous_7)","line":125,"loc":{"start":{"line":125,"column":27},"end":{"line":125,"column":39}},"skip":true},"8":{"name":"(anonymous_8)","line":133,"loc":{"start":{"line":133,"column":59},"end":{"line":133,"column":74}},"skip":true},"9":{"name":"(anonymous_9)","line":143,"loc":{"start":{"line":143,"column":45},"end":{"line":143,"column":62}},"skip":true},"10":{"name":"(anonymous_10)","line":144,"loc":{"start":{"line":144,"column":73},"end":{"line":144,"column":92}},"skip":true},"11":{"name":"(anonymous_11)","line":272,"loc":{"start":{"line":272,"column":51},"end":{"line":272,"column":77}},"skip":true},"12":{"name":"(anonymous_12)","line":315,"loc":{"start":{"line":315,"column":32},"end":{"line":315,"column":61}},"skip":true}},"statementMap":{"1":{"start":{"line":26,"column":0},"end":{"line":326,"column":5}},"2":{"start":{"line":28,"column":4},"end":{"line":28,"column":14}},"3":{"start":{"line":33,"column":4},"end":{"line":60,"column":9}},"4":{"start":{"line":35,"column":8},"end":{"line":35,"column":19}},"5":{"start":{"line":37,"column":8},"end":{"line":49,"column":13}},"6":{"start":{"line":38,"column":12},"end":{"line":48,"column":13}},"7":{"start":{"line":39,"column":16},"end":{"line":42,"column":30}},"8":{"start":{"line":44,"column":16},"end":{"line":47,"column":27}},"9":{"start":{"line":51,"column":8},"end":{"line":53,"column":21}},"10":{"start":{"line":55,"column":8},"end":{"line":57,"column":45}},"11":{"start":{"line":59,"column":8},"end":{"line":59,"column":35}},"12":{"start":{"line":61,"column":4},"end":{"line":325,"column":5}},"13":{"start":{"line":69,"column":8},"end":{"line":121,"column":10},"skip":true},"14":{"start":{"line":70,"column":12},"end":{"line":88,"column":13},"skip":true},"15":{"start":{"line":76,"column":16},"end":{"line":87,"column":19},"skip":true},"16":{"start":{"line":79,"column":20},"end":{"line":86,"column":21},"skip":true},"17":{"start":{"line":82,"column":24},"end":{"line":82,"column":43},"skip":true},"18":{"start":{"line":83,"column":24},"end":{"line":83,"column":30},"skip":true},"19":{"start":{"line":85,"column":24},"end":{"line":85,"column":49},"skip":true},"20":{"start":{"line":89,"column":12},"end":{"line":107,"column":13},"skip":true},"21":{"start":{"line":92,"column":16},"end":{"line":102,"column":17},"skip":true},"22":{"start":{"line":93,"column":20},"end":{"line":93,"column":86},"skip":true},"23":{"start":{"line":94,"column":20},"end":{"line":95,"column":45},"skip":true},"24":{"start":{"line":96,"column":20},"end":{"line":96,"column":42},"skip":true},"25":{"start":{"line":97,"column":20},"end":{"line":97,"column":48},"skip":true},"26":{"start":{"line":100,"column":20},"end":{"line":100,"column":85},"skip":true},"27":{"start":{"line":101,"column":20},"end":{"line":101,"column":96},"skip":true},"28":{"start":{"line":103,"column":16},"end":{"line":103,"column":22},"skip":true},"29":{"start":{"line":106,"column":16},"end":{"line":106,"column":22},"skip":true},"30":{"start":{"line":108,"column":12},"end":{"line":120,"column":13},"skip":true},"31":{"start":{"line":114,"column":16},"end":{"line":119,"column":17},"skip":true},"32":{"start":{"line":116,"column":20},"end":{"line":116,"column":78},"skip":true},"33":{"start":{"line":118,"column":20},"end":{"line":118,"column":47},"skip":true},"34":{"start":{"line":123,"column":8},"end":{"line":141,"column":11},"skip":true},"35":{"start":{"line":124,"column":12},"end":{"line":124,"column":54},"skip":true},"36":{"start":{"line":125,"column":12},"end":{"line":140,"column":14},"skip":true},"37":{"start":{"line":126,"column":16},"end":{"line":126,"column":28},"skip":true},"38":{"start":{"line":127,"column":16},"end":{"line":127,"column":69},"skip":true},"39":{"start":{"line":128,"column":16},"end":{"line":128,"column":75},"skip":true},"40":{"start":{"line":129,"column":16},"end":{"line":131,"column":17},"skip":true},"41":{"start":{"line":130,"column":20},"end":{"line":130,"column":27},"skip":true},"42":{"start":{"line":133,"column":16},"end":{"line":137,"column":36},"skip":true},"43":{"start":{"line":134,"column":20},"end":{"line":136,"column":55},"skip":true},"44":{"start":{"line":139,"column":16},"end":{"line":139,"column":57},"skip":true},"45":{"start":{"line":143,"column":8},"end":{"line":147,"column":11},"skip":true},"46":{"start":{"line":144,"column":12},"end":{"line":146,"column":15},"skip":true},"47":{"start":{"line":145,"column":16},"end":{"line":145,"column":70},"skip":true},"48":{"start":{"line":149,"column":8},"end":{"line":149,"column":31},"skip":true},"49":{"start":{"line":150,"column":8},"end":{"line":150,"column":14},"skip":true},"50":{"start":{"line":158,"column":8},"end":{"line":158,"column":31},"skip":true},"51":{"start":{"line":160,"column":8},"end":{"line":160,"column":33},"skip":true},"52":{"start":{"line":161,"column":8},"end":{"line":161,"column":37},"skip":true},"53":{"start":{"line":162,"column":8},"end":{"line":162,"column":35},"skip":true},"54":{"start":{"line":164,"column":8},"end":{"line":164,"column":50},"skip":true},"55":{"start":{"line":166,"column":8},"end":{"line":256,"column":2},"skip":true},"56":{"start":{"line":258,"column":8},"end":{"line":286,"column":9},"skip":true},"57":{"start":{"line":259,"column":12},"end":{"line":269,"column":14},"skip":true},"58":{"start":{"line":271,"column":12},"end":{"line":285,"column":19},"skip":true},"59":{"start":{"line":274,"column":20},"end":{"line":274,"column":35},"skip":true},"60":{"start":{"line":275,"column":20},"end":{"line":284,"column":21},"skip":true},"61":{"start":{"line":277,"column":24},"end":{"line":277,"column":64},"skip":true},"62":{"start":{"line":279,"column":24},"end":{"line":279,"column":40},"skip":true},"63":{"start":{"line":281,"column":24},"end":{"line":281,"column":40},"skip":true},"64":{"start":{"line":283,"column":24},"end":{"line":283,"column":39},"skip":true},"65":{"start":{"line":288,"column":8},"end":{"line":290,"column":9},"skip":true},"66":{"start":{"line":289,"column":12},"end":{"line":289,"column":18},"skip":true},"67":{"start":{"line":291,"column":8},"end":{"line":293,"column":54},"skip":true},"68":{"start":{"line":296,"column":8},"end":{"line":301,"column":37},"skip":true},"69":{"start":{"line":303,"column":8},"end":{"line":303,"column":82},"skip":true},"70":{"start":{"line":306,"column":8},"end":{"line":308,"column":9},"skip":true},"71":{"start":{"line":307,"column":12},"end":{"line":307,"column":82},"skip":true},"72":{"start":{"line":310,"column":8},"end":{"line":312,"column":9},"skip":true},"73":{"start":{"line":311,"column":12},"end":{"line":311,"column":18},"skip":true},"74":{"start":{"line":313,"column":8},"end":{"line":313,"column":54},"skip":true},"75":{"start":{"line":314,"column":8},"end":{"line":314,"column":69},"skip":true},"76":{"start":{"line":315,"column":8},"end":{"line":323,"column":36},"skip":true},"77":{"start":{"line":316,"column":12},"end":{"line":316,"column":61},"skip":true},"78":{"start":{"line":317,"column":12},"end":{"line":320,"column":13},"skip":true},"79":{"start":{"line":318,"column":16},"end":{"line":318,"column":75},"skip":true},"80":{"start":{"line":319,"column":16},"end":{"line":319,"column":23},"skip":true},"81":{"start":{"line":321,"column":12},"end":{"line":321,"column":38},"skip":true},"82":{"start":{"line":322,"column":12},"end":{"line":322,"column":27},"skip":true},"83":{"start":{"line":324,"column":8},"end":{"line":324,"column":14},"skip":true}},"branchMap":{"1":{"line":39,"type":"binary-expr","locations":[{"start":{"line":39,"column":23},"end":{"line":39,"column":62}},{"start":{"line":40,"column":20},"end":{"line":40,"column":70}},{"start":{"line":41,"column":20},"end":{"line":41,"column":71}},{"start":{"line":42,"column":20},"end":{"line":42,"column":29}}]},"2":{"line":44,"type":"binary-expr","locations":[{"start":{"line":44,"column":23},"end":{"line":44,"column":37}},{"start":{"line":45,"column":20},"end":{"line":45,"column":61}},{"start":{"line":46,"column":20},"end":{"line":46,"column":70}},{"start":{"line":47,"column":20},"end":{"line":47,"column":26}}]},"3":{"line":51,"type":"cond-expr","locations":[{"start":{"line":52,"column":14},"end":{"line":52,"column":20}},{"start":{"line":53,"column":14},"end":{"line":53,"column":20}}]},"4":{"line":55,"type":"binary-expr","locations":[{"start":{"line":55,"column":16},"end":{"line":55,"column":44}},{"start":{"line":55,"column":49},"end":{"line":57,"column":43}}]},"5":{"line":55,"type":"cond-expr","locations":[{"start":{"line":56,"column":14},"end":{"line":56,"column":58}},{"start":{"line":57,"column":14},"end":{"line":57,"column":43}}]},"6":{"line":61,"type":"switch","locations":[{"start":{"line":68,"column":4},"end":{"line":150,"column":14},"skip":true},{"start":{"line":156,"column":4},"end":{"line":324,"column":14},"skip":true}]},"7":{"line":70,"type":"if","locations":[{"start":{"line":70,"column":12},"end":{"line":70,"column":12},"skip":true},{"start":{"line":70,"column":12},"end":{"line":70,"column":12},"skip":true}]},"8":{"line":70,"type":"binary-expr","locations":[{"start":{"line":70,"column":16},"end":{"line":70,"column":22},"skip":true},{"start":{"line":70,"column":27},"end":{"line":70,"column":32},"skip":true},{"start":{"line":71,"column":20},"end":{"line":71,"column":39},"skip":true},{"start":{"line":72,"column":20},"end":{"line":72,"column":49},"skip":true},{"start":{"line":73,"column":20},"end":{"line":73,"column":58},"skip":true},{"start":{"line":74,"column":20},"end":{"line":74,"column":69},"skip":true}]},"9":{"line":79,"type":"switch","locations":[{"start":{"line":80,"column":20},"end":{"line":80,"column":33},"skip":true},{"start":{"line":81,"column":20},"end":{"line":83,"column":30},"skip":true},{"start":{"line":84,"column":20},"end":{"line":85,"column":49},"skip":true}]},"10":{"line":89,"type":"switch","locations":[{"start":{"line":90,"column":12},"end":{"line":103,"column":22},"skip":true},{"start":{"line":105,"column":12},"end":{"line":106,"column":22},"skip":true}]},"11":{"line":89,"type":"binary-expr","locations":[{"start":{"line":89,"column":20},"end":{"line":89,"column":25},"skip":true},{"start":{"line":89,"column":29},"end":{"line":89,"column":48},"skip":true},{"start":{"line":89,"column":52},"end":{"line":89,"column":74},"skip":true}]},"12":{"line":92,"type":"if","locations":[{"start":{"line":92,"column":16},"end":{"line":92,"column":16},"skip":true},{"start":{"line":92,"column":16},"end":{"line":92,"column":16},"skip":true}]},"13":{"line":108,"type":"if","locations":[{"start":{"line":108,"column":12},"end":{"line":108,"column":12},"skip":true},{"start":{"line":108,"column":12},"end":{"line":108,"column":12},"skip":true}]},"14":{"line":108,"type":"binary-expr","locations":[{"start":{"line":108,"column":16},"end":{"line":108,"column":61},"skip":true},{"start":{"line":108,"column":66},"end":{"line":108,"column":72},"skip":true},{"start":{"line":108,"column":77},"end":{"line":108,"column":82},"skip":true},{"start":{"line":109,"column":20},"end":{"line":109,"column":39},"skip":true},{"start":{"line":110,"column":20},"end":{"line":110,"column":49},"skip":true},{"start":{"line":111,"column":20},"end":{"line":111,"column":58},"skip":true},{"start":{"line":112,"column":20},"end":{"line":112,"column":68},"skip":true}]},"15":{"line":129,"type":"if","locations":[{"start":{"line":129,"column":16},"end":{"line":129,"column":16},"skip":true},{"start":{"line":129,"column":16},"end":{"line":129,"column":16},"skip":true}]},"16":{"line":134,"type":"cond-expr","locations":[{"start":{"line":135,"column":26},"end":{"line":135,"column":29},"skip":true},{"start":{"line":136,"column":26},"end":{"line":136,"column":54},"skip":true}]},"17":{"line":164,"type":"binary-expr","locations":[{"start":{"line":164,"column":27},"end":{"line":164,"column":43},"skip":true},{"start":{"line":164,"column":47},"end":{"line":164,"column":49},"skip":true}]},"18":{"line":258,"type":"if","locations":[{"start":{"line":258,"column":8},"end":{"line":258,"column":8},"skip":true},{"start":{"line":258,"column":8},"end":{"line":258,"column":8},"skip":true}]},"19":{"line":275,"type":"switch","locations":[{"start":{"line":276,"column":20},"end":{"line":277,"column":64},"skip":true},{"start":{"line":278,"column":20},"end":{"line":279,"column":40},"skip":true},{"start":{"line":280,"column":20},"end":{"line":281,"column":40},"skip":true},{"start":{"line":282,"column":20},"end":{"line":283,"column":39},"skip":true}]},"20":{"line":288,"type":"if","locations":[{"start":{"line":288,"column":8},"end":{"line":288,"column":8},"skip":true},{"start":{"line":288,"column":8},"end":{"line":288,"column":8},"skip":true}]},"21":{"line":288,"type":"binary-expr","locations":[{"start":{"line":288,"column":12},"end":{"line":288,"column":40},"skip":true},{"start":{"line":288,"column":44},"end":{"line":288,"column":67},"skip":true}]},"22":{"line":292,"type":"binary-expr","locations":[{"start":{"line":292,"column":12},"end":{"line":292,"column":50},"skip":true},{"start":{"line":293,"column":12},"end":{"line":293,"column":53},"skip":true}]},"23":{"line":297,"type":"binary-expr","locations":[{"start":{"line":297,"column":12},"end":{"line":297,"column":72},"skip":true},{"start":{"line":298,"column":12},"end":{"line":301,"column":36},"skip":true}]},"24":{"line":303,"type":"binary-expr","locations":[{"start":{"line":303,"column":43},"end":{"line":303,"column":75},"skip":true},{"start":{"line":303,"column":79},"end":{"line":303,"column":81},"skip":true}]},"25":{"line":306,"type":"if","locations":[{"start":{"line":306,"column":8},"end":{"line":306,"column":8},"skip":true},{"start":{"line":306,"column":8},"end":{"line":306,"column":8},"skip":true}]},"26":{"line":310,"type":"if","locations":[{"start":{"line":310,"column":8},"end":{"line":310,"column":8},"skip":true},{"start":{"line":310,"column":8},"end":{"line":310,"column":8},"skip":true}]},"27":{"line":313,"type":"binary-expr","locations":[{"start":{"line":313,"column":27},"end":{"line":313,"column":43},"skip":true},{"start":{"line":313,"column":47},"end":{"line":313,"column":53},"skip":true}]},"28":{"line":317,"type":"if","locations":[{"start":{"line":317,"column":12},"end":{"line":317,"column":12},"skip":true},{"start":{"line":317,"column":12},"end":{"line":317,"column":12},"skip":true}]}},"code":["/*","example.js","","quickstart example","","instruction","    1. save this script as example.js","    2. run the shell command:","        $ npm install npmtest-nuclide-server && PORT=8081 node example.js","    3. play with the browser-demo on http://127.0.0.1:8081","*/","","","","/* istanbul instrument in package npmtest_nuclide_server */","/*jslint","    bitwise: true,","    browser: true,","    maxerr: 8,","    maxlen: 96,","    node: true,","    nomen: true,","    regexp: true,","    stupid: true","*/","(function () {","    'use strict';","    var local;","","","","    // run shared js-env code - pre-init","    (function () {","        // init local","        local = {};","        // init modeJs","        local.modeJs = (function () {","            try {","                return typeof navigator.userAgent === 'string' &&","                    typeof document.querySelector('body') === 'object' &&","                    typeof XMLHttpRequest.prototype.open === 'function' &&","                    'browser';","            } catch (errorCaughtBrowser) {","                return module.exports &&","                    typeof process.versions.node === 'string' &&","                    typeof require('http').createServer === 'function' &&","                    'node';","            }","        }());","        // init global","        local.global = local.modeJs === 'browser'","            ? window","            : global;","        // init utility2_rollup","        local = local.global.utility2_rollup || (local.modeJs === 'browser'","            ? local.global.utility2_npmtest_nuclide_server","            : global.utility2_moduleExports);","        // export local","        local.global.local = local;","    }());","    switch (local.modeJs) {","","","","    // post-init","    // run browser js-env code - post-init","    /* istanbul ignore next */","    case 'browser':","        local.testRunBrowser = function (event) {","            if (!event || (event &&","                    event.currentTarget &&","                    event.currentTarget.className &&","                    event.currentTarget.className.includes &&","                    event.currentTarget.className.includes('onreset'))) {","                // reset output","                Array.from(","                    document.querySelectorAll('body > .resettable')","                ).forEach(function (element) {","                    switch (element.tagName) {","                    case 'INPUT':","                    case 'TEXTAREA':","                        element.value = '';","                        break;","                    default:","                        element.textContent = '';","                    }","                });","            }","            switch (event && event.currentTarget && event.currentTarget.id) {","            case 'testRunButton1':","                // show tests","                if (document.querySelector('#testReportDiv1').style.display === 'none') {","                    document.querySelector('#testReportDiv1').style.display = 'block';","                    document.querySelector('#testRunButton1').textContent =","                        'hide internal test';","                    local.modeTest = true;","                    local.testRunDefault(local);","                // hide tests","                } else {","                    document.querySelector('#testReportDiv1').style.display = 'none';","                    document.querySelector('#testRunButton1').textContent = 'run internal test';","                }","                break;","            // custom-case","            default:","                break;","            }","            if (document.querySelector('#inputTextareaEval1') && (!event || (event &&","                    event.currentTarget &&","                    event.currentTarget.className &&","                    event.currentTarget.className.includes &&","                    event.currentTarget.className.includes('oneval')))) {","                // try to eval input-code","                try {","                    /*jslint evil: true*/","                    eval(document.querySelector('#inputTextareaEval1').value);","                } catch (errorCaught) {","                    console.error(errorCaught);","                }","            }","        };","        // log stderr and stdout to #outputTextareaStdout1","        ['error', 'log'].forEach(function (key) {","            console[key + '_original'] = console[key];","            console[key] = function () {","                var element;","                console[key + '_original'].apply(console, arguments);","                element = document.querySelector('#outputTextareaStdout1');","                if (!element) {","                    return;","                }","                // append text to #outputTextareaStdout1","                element.value += Array.from(arguments).map(function (arg) {","                    return typeof arg === 'string'","                        ? arg","                        : JSON.stringify(arg, null, 4);","                }).join(' ') + '\\n';","                // scroll textarea to bottom","                element.scrollTop = element.scrollHeight;","            };","        });","        // init event-handling","        ['change', 'click', 'keyup'].forEach(function (event) {","            Array.from(document.querySelectorAll('.on' + event)).forEach(function (element) {","                element.addEventListener(event, local.testRunBrowser);","            });","        });","        // run tests","        local.testRunBrowser();","        break;","","","","    // run node js-env code - post-init","    /* istanbul ignore next */","    case 'node':","        // export local","        module.exports = local;","        // require modules","        local.fs = require('fs');","        local.http = require('http');","        local.url = require('url');","        // init assets","        local.assetsDict = local.assetsDict || {};","        /* jslint-ignore-begin */","        local.assetsDict['/assets.index.template.html'] = '\\","<!doctype html>\\n\\","<html lang=\"en\">\\n\\","<head>\\n\\","<meta charset=\"UTF-8\">\\n\\","<meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\\n\\","<title>{{env.npm_package_name}} (v{{env.npm_package_version}})</title>\\n\\","<style>\\n\\","/*csslint\\n\\","    box-sizing: false,\\n\\","    universal-selector: false\\n\\","*/\\n\\","* {\\n\\","    box-sizing: border-box;\\n\\","}\\n\\","body {\\n\\","    background: #dde;\\n\\","    font-family: Arial, Helvetica, sans-serif;\\n\\","    margin: 2rem;\\n\\","}\\n\\","body > * {\\n\\","    margin-bottom: 1rem;\\n\\","}\\n\\",".utility2FooterDiv {\\n\\","    margin-top: 20px;\\n\\","    text-align: center;\\n\\","}\\n\\","</style>\\n\\","<style>\\n\\","/*csslint\\n\\","*/\\n\\","textarea {\\n\\","    font-family: monospace;\\n\\","    height: 10rem;\\n\\","    width: 100%;\\n\\","}\\n\\","textarea[readonly] {\\n\\","    background: #ddd;\\n\\","}\\n\\","</style>\\n\\","</head>\\n\\","<body>\\n\\","<!-- utility2-comment\\n\\","<div id=\"ajaxProgressDiv1\" style=\"background: #d00; height: 2px; left: 0; margin: 0; padding: 0; position: fixed; top: 0; transition: background 0.5s, width 1.5s; width: 25%;\"></div>\\n\\","utility2-comment -->\\n\\","<h1>\\n\\","<!-- utility2-comment\\n\\","    <a\\n\\","        {{#if env.npm_package_homepage}}\\n\\","        href=\"{{env.npm_package_homepage}}\"\\n\\","        {{/if env.npm_package_homepage}}\\n\\","        target=\"_blank\"\\n\\","    >\\n\\","utility2-comment -->\\n\\","        {{env.npm_package_name}} (v{{env.npm_package_version}})\\n\\","<!-- utility2-comment\\n\\","    </a>\\n\\","utility2-comment -->\\n\\","</h1>\\n\\","<h3>{{env.npm_package_description}}</h3>\\n\\","<!-- utility2-comment\\n\\","<h4><a download href=\"assets.app.js\">download standalone app</a></h4>\\n\\","<button class=\"onclick onreset\" id=\"testRunButton1\">run internal test</button><br>\\n\\","<div id=\"testReportDiv1\" style=\"display: none;\"></div>\\n\\","utility2-comment -->\\n\\","\\n\\","\\n\\","\\n\\","<label>stderr and stdout</label>\\n\\","<textarea class=\"resettable\" id=\"outputTextareaStdout1\" readonly></textarea>\\n\\","<!-- utility2-comment\\n\\","{{#if isRollup}}\\n\\","<script src=\"assets.app.js\"></script>\\n\\","{{#unless isRollup}}\\n\\","utility2-comment -->\\n\\","<script src=\"assets.utility2.rollup.js\"></script>\\n\\","<script src=\"jsonp.utility2._stateInit?callback=window.utility2._stateInit\"></script>\\n\\","<script src=\"assets.npmtest_nuclide_server.rollup.js\"></script>\\n\\","<script src=\"assets.example.js\"></script>\\n\\","<script src=\"assets.test.js\"></script>\\n\\","<!-- utility2-comment\\n\\","{{/if isRollup}}\\n\\","utility2-comment -->\\n\\","<div class=\"utility2FooterDiv\">\\n\\","    [ this app was created with\\n\\","    <a href=\"https://github.com/kaizhu256/node-utility2\" target=\"_blank\">utility2</a>\\n\\","    ]\\n\\","</div>\\n\\","</body>\\n\\","</html>\\n\\","';","        /* jslint-ignore-end */","        if (local.templateRender) {","            local.assetsDict['/'] = local.templateRender(","                local.assetsDict['/assets.index.template.html'],","                {","                    env: local.objectSetDefault(local.env, {","                        npm_package_description: 'the greatest app in the world!',","                        npm_package_name: 'my-app',","                        npm_package_nameAlias: 'my_app',","                        npm_package_version: '0.0.1'","                    })","                }","            );","        } else {","            local.assetsDict['/'] = local.assetsDict['/assets.index.template.html']","                .replace((/\\{\\{env\\.(\\w+?)\\}\\}/g), function (match0, match1) {","                    // jslint-hack","                    String(match0);","                    switch (match1) {","                    case 'npm_package_description':","                        return 'the greatest app in the world!';","                    case 'npm_package_name':","                        return 'my-app';","                    case 'npm_package_nameAlias':","                        return 'my_app';","                    case 'npm_package_version':","                        return '0.0.1';","                    }","                });","        }","        // run the cli","        if (local.global.utility2_rollup || module !== require.main) {","            break;","        }","        local.assetsDict['/assets.example.js'] =","            local.assetsDict['/assets.example.js'] ||","            local.fs.readFileSync(__filename, 'utf8');","        // bug-workaround - long $npm_package_buildCustomOrg","        /* jslint-ignore-begin */","        local.assetsDict['/assets.npmtest_nuclide_server.rollup.js'] =","            local.assetsDict['/assets.npmtest_nuclide_server.rollup.js'] ||","            local.fs.readFileSync(","                local.npmtest_nuclide_server.__dirname + '/lib.npmtest_nuclide_server.js',","                'utf8'","            ).replace((/^#!/), '//');","        /* jslint-ignore-end */","        local.assetsDict['/favicon.ico'] = local.assetsDict['/favicon.ico'] || '';","        // if $npm_config_timeout_exit exists,","        // then exit this process after $npm_config_timeout_exit ms","        if (Number(process.env.npm_config_timeout_exit)) {","            setTimeout(process.exit, Number(process.env.npm_config_timeout_exit));","        }","        // start server","        if (local.global.utility2_serverHttp1) {","            break;","        }","        process.env.PORT = process.env.PORT || '8081';","        console.error('server starting on port ' + process.env.PORT);","        local.http.createServer(function (request, response) {","            request.urlParsed = local.url.parse(request.url);","            if (local.assetsDict[request.urlParsed.pathname] !== undefined) {","                response.end(local.assetsDict[request.urlParsed.pathname]);","                return;","            }","            response.statusCode = 404;","            response.end();","        }).listen(process.env.PORT);","        break;","    }","}());",""],"l":{"26":2,"28":2,"33":2,"35":2,"37":2,"38":2,"39":2,"44":1,"51":2,"55":2,"59":2,"61":2,"69":1,"70":2,"76":2,"79":2,"82":2,"83":2,"85":1,"89":2,"92":1,"93":1,"94":1,"96":1,"97":1,"100":1,"101":1,"103":1,"106":1,"108":2,"114":1,"116":1,"118":1,"123":1,"124":2,"125":2,"126":3,"127":3,"128":3,"129":3,"130":1,"133":3,"134":3,"139":3,"143":1,"144":3,"145":1,"149":1,"150":1,"158":1,"160":1,"161":1,"162":1,"164":1,"166":1,"258":1,"259":1,"271":1,"274":6,"275":6,"277":1,"279":2,"281":1,"283":2,"288":1,"289":1,"291":1,"296":1,"303":1,"306":1,"307":1,"310":1,"311":1,"313":1,"314":1,"315":1,"316":1,"317":1,"318":1,"319":1,"321":1,"322":1,"324":1}},"/home/travis/build/npmtest/node-npmtest-nuclide-server/node_modules/nuclide-server/lib/blocked.js":{"path":"/home/travis/build/npmtest/node-npmtest-nuclide-server/node_modules/nuclide-server/lib/blocked.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":0,"7":0,"8":0,"9":0,"10":0},"b":{"1":[1,0],"2":[1,0],"3":[1,0],"4":[1,0],"5":[0,0]},"f":{"1":1,"2":0},"fnMap":{"1":{"name":"(anonymous_1)","line":18,"loc":{"start":{"line":18,"column":17},"end":{"line":18,"column":31}}},"2":{"name":"(anonymous_2)","line":24,"loc":{"start":{"line":24,"column":21},"end":{"line":24,"column":33}}}},"statementMap":{"1":{"start":{"line":18,"column":0},"end":{"line":32,"column":2}},"2":{"start":{"line":19,"column":2},"end":{"line":19,"column":92}},"3":{"start":{"line":20,"column":2},"end":{"line":20,"column":92}},"4":{"start":{"line":22,"column":2},"end":{"line":22,"column":25}},"5":{"start":{"line":24,"column":2},"end":{"line":31,"column":17}},"6":{"start":{"line":25,"column":4},"end":{"line":25,"column":37}},"7":{"start":{"line":26,"column":4},"end":{"line":26,"column":43}},"8":{"start":{"line":27,"column":4},"end":{"line":29,"column":5}},"9":{"start":{"line":28,"column":6},"end":{"line":28,"column":22}},"10":{"start":{"line":30,"column":4},"end":{"line":30,"column":23}}},"branchMap":{"1":{"line":19,"type":"cond-expr","locations":[{"start":{"line":19,"column":73},"end":{"line":19,"column":76}},{"start":{"line":19,"column":79},"end":{"line":19,"column":91}}]},"2":{"line":19,"type":"binary-expr","locations":[{"start":{"line":19,"column":19},"end":{"line":19,"column":40}},{"start":{"line":19,"column":44},"end":{"line":19,"column":70}}]},"3":{"line":20,"type":"cond-expr","locations":[{"start":{"line":20,"column":74},"end":{"line":20,"column":76}},{"start":{"line":20,"column":79},"end":{"line":20,"column":91}}]},"4":{"line":20,"type":"binary-expr","locations":[{"start":{"line":20,"column":20},"end":{"line":20,"column":41}},{"start":{"line":20,"column":45},"end":{"line":20,"column":71}}]},"5":{"line":27,"type":"if","locations":[{"start":{"line":27,"column":4},"end":{"line":27,"column":4}},{"start":{"line":27,"column":4},"end":{"line":27,"column":4}}]}},"code":["","/*"," * Copyright (c) 2015-present, Facebook, Inc."," * All rights reserved."," *"," * This source code is licensed under the license found in the LICENSE file in"," * the root directory of this source tree."," */","","/**"," * Copy of the npm package: blocked, but without the unref, because that doesn't work in apm tests."," * https://github.com/tj/node-blocked/blob/master/index.js"," *"," * The blocked module checks and reports every event loop block time over a given threshold."," * @return the interval handler."," * To cancel, call clearInterval on the returned interval handler."," */","module.exports = function (fn) {","  var intervalMs = arguments.length <= 1 || arguments[1] === undefined ? 100 : arguments[1];","  var thresholdMs = arguments.length <= 2 || arguments[2] === undefined ? 50 : arguments[2];","","  var start = Date.now();","","  return setInterval(function () {","    var deltaMs = Date.now() - start;","    var blockTimeMs = deltaMs - intervalMs;","    if (blockTimeMs > thresholdMs) {","      fn(blockTimeMs);","    }","    start = Date.now();","  }, intervalMs);","};","//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi92YXIvZm9sZGVycy94Zi9yc3BoNF9jNTczMTVyczU3eHhzZHNrcnhudjM2dDAvVC90bXBwZmw1Mm5wdWJsaXNoX3BhY2thZ2VzL25wbS9udWNsaWRlLXNlcnZlci9saWIvYmxvY2tlZC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxXQUFXLENBQUM7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQW1CWixNQUFNLENBQUMsT0FBTyxHQUFHLFVBQUMsRUFBRSxFQUErRDtNQUF2QyxVQUFVLHlEQUFHLEdBQUc7TUFBRSxXQUFXLHlEQUFHLEVBQUU7O0FBQzVFLE1BQUksS0FBSyxHQUFHLElBQUksQ0FBQyxHQUFHLEVBQUUsQ0FBQzs7QUFFdkIsU0FBTyxXQUFXLENBQUMsWUFBTTtBQUN2QixRQUFNLE9BQU8sR0FBRyxJQUFJLENBQUMsR0FBRyxFQUFFLEdBQUcsS0FBSyxDQUFDO0FBQ25DLFFBQU0sV0FBVyxHQUFHLE9BQU8sR0FBRyxVQUFVLENBQUM7QUFDekMsUUFBSSxXQUFXLEdBQUcsV0FBVyxFQUFFO0FBQzdCLFFBQUUsQ0FBQyxXQUFXLENBQUMsQ0FBQztLQUNqQjtBQUNELFNBQUssR0FBRyxJQUFJLENBQUMsR0FBRyxFQUFFLENBQUM7R0FDcEIsRUFBRSxVQUFVLENBQUMsQ0FBQztDQUNoQixDQUFDIiwiZmlsZSI6Ii92YXIvZm9sZGVycy94Zi9yc3BoNF9jNTczMTVyczU3eHhzZHNrcnhudjM2dDAvVC90bXBwZmw1Mm5wdWJsaXNoX3BhY2thZ2VzL25wbS9udWNsaWRlLXNlcnZlci9saWIvYmxvY2tlZC5qcyIsInNvdXJjZXNDb250ZW50IjpbIid1c2UgYmFiZWwnO1xuLyogQGZsb3cgKi9cblxuLypcbiAqIENvcHlyaWdodCAoYykgMjAxNS1wcmVzZW50LCBGYWNlYm9vaywgSW5jLlxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBsaWNlbnNlIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgaW5cbiAqIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICovXG5cbi8qKlxuICogQ29weSBvZiB0aGUgbnBtIHBhY2thZ2U6IGJsb2NrZWQsIGJ1dCB3aXRob3V0IHRoZSB1bnJlZiwgYmVjYXVzZSB0aGF0IGRvZXNuJ3Qgd29yayBpbiBhcG0gdGVzdHMuXG4gKiBodHRwczovL2dpdGh1Yi5jb20vdGovbm9kZS1ibG9ja2VkL2Jsb2IvbWFzdGVyL2luZGV4LmpzXG4gKlxuICogVGhlIGJsb2NrZWQgbW9kdWxlIGNoZWNrcyBhbmQgcmVwb3J0cyBldmVyeSBldmVudCBsb29wIGJsb2NrIHRpbWUgb3ZlciBhIGdpdmVuIHRocmVzaG9sZC5cbiAqIEByZXR1cm4gdGhlIGludGVydmFsIGhhbmRsZXIuXG4gKiBUbyBjYW5jZWwsIGNhbGwgY2xlYXJJbnRlcnZhbCBvbiB0aGUgcmV0dXJuZWQgaW50ZXJ2YWwgaGFuZGxlci5cbiAqL1xubW9kdWxlLmV4cG9ydHMgPSAoZm46IChtczogbnVtYmVyKSA9PiB2b2lkLCBpbnRlcnZhbE1zID0gMTAwLCB0aHJlc2hvbGRNcyA9IDUwKSA9PiB7XG4gIGxldCBzdGFydCA9IERhdGUubm93KCk7XG5cbiAgcmV0dXJuIHNldEludGVydmFsKCgpID0+IHtcbiAgICBjb25zdCBkZWx0YU1zID0gRGF0ZS5ub3coKSAtIHN0YXJ0O1xuICAgIGNvbnN0IGJsb2NrVGltZU1zID0gZGVsdGFNcyAtIGludGVydmFsTXM7XG4gICAgaWYgKGJsb2NrVGltZU1zID4gdGhyZXNob2xkTXMpIHtcbiAgICAgIGZuKGJsb2NrVGltZU1zKTtcbiAgICB9XG4gICAgc3RhcnQgPSBEYXRlLm5vdygpO1xuICB9LCBpbnRlcnZhbE1zKTtcbn07XG4iXX0=",""],"l":{"18":1,"19":1,"20":1,"22":1,"24":1,"25":0,"26":0,"27":0,"28":0,"30":0}},"/home/travis/build/npmtest/node-npmtest-nuclide-server/node_modules/nuclide-server/lib/config.js":{"path":"/home/travis/build/npmtest/node-npmtest-nuclide-server/node_modules/nuclide-server/lib/config.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":2,"13":2,"14":0,"15":0,"16":2,"17":1,"18":1,"19":2,"20":1,"21":1,"22":1,"23":2,"24":1,"25":1,"26":3,"27":3,"28":1,"29":1},"b":{"1":[0,2]},"f":{"1":2,"2":1,"3":2,"4":1,"5":1,"6":2,"7":1,"8":3},"fnMap":{"1":{"name":"loadConfigs","line":35,"loc":{"start":{"line":35,"column":0},"end":{"line":35,"column":23}}},"2":{"name":"loadConfigsOfServiceWithServiceFramework","line":46,"loc":{"start":{"line":46,"column":0},"end":{"line":46,"column":52}}},"3":{"name":"(anonymous_3)","line":47,"loc":{"start":{"line":47,"column":30},"end":{"line":47,"column":48}}},"4":{"name":"(anonymous_4)","line":49,"loc":{"start":{"line":49,"column":9},"end":{"line":49,"column":27}}},"5":{"name":"loadConfigsOfServiceWithoutServiceFramework","line":58,"loc":{"start":{"line":58,"column":0},"end":{"line":58,"column":55}}},"6":{"name":"(anonymous_6)","line":59,"loc":{"start":{"line":59,"column":30},"end":{"line":59,"column":48}}},"7":{"name":"(anonymous_7)","line":61,"loc":{"start":{"line":61,"column":9},"end":{"line":61,"column":27}}},"8":{"name":"_resolveServiceConfigPath","line":74,"loc":{"start":{"line":74,"column":0},"end":{"line":74,"column":54}}}},"statementMap":{"1":{"start":{"line":19,"column":0},"end":{"line":19,"column":28}},"2":{"start":{"line":20,"column":0},"end":{"line":20,"column":27}},"3":{"start":{"line":22,"column":0},"end":{"line":22,"column":49}},"4":{"start":{"line":26,"column":0},"end":{"line":26,"column":143}},"5":{"start":{"line":27,"column":0},"end":{"line":27,"column":36}},"6":{"start":{"line":28,"column":0},"end":{"line":28,"column":64}},"7":{"start":{"line":29,"column":0},"end":{"line":29,"column":60}},"8":{"start":{"line":30,"column":0},"end":{"line":30,"column":58}},"9":{"start":{"line":32,"column":0},"end":{"line":32,"column":49}},"10":{"start":{"line":33,"column":0},"end":{"line":33,"column":78}},"11":{"start":{"line":35,"column":0},"end":{"line":44,"column":1}},"12":{"start":{"line":36,"column":2},"end":{"line":36,"column":49}},"13":{"start":{"line":38,"column":2},"end":{"line":41,"column":3}},"14":{"start":{"line":39,"column":4},"end":{"line":39,"column":61}},"15":{"start":{"line":40,"column":4},"end":{"line":40,"column":50}},"16":{"start":{"line":43,"column":2},"end":{"line":43,"column":20}},"17":{"start":{"line":46,"column":0},"end":{"line":56,"column":1}},"18":{"start":{"line":47,"column":2},"end":{"line":55,"column":5}},"19":{"start":{"line":48,"column":4},"end":{"line":48,"column":38}},"20":{"start":{"line":50,"column":4},"end":{"line":54,"column":6}},"21":{"start":{"line":58,"column":0},"end":{"line":64,"column":1}},"22":{"start":{"line":59,"column":2},"end":{"line":63,"column":5}},"23":{"start":{"line":60,"column":4},"end":{"line":60,"column":39}},"24":{"start":{"line":62,"column":4},"end":{"line":62,"column":50}},"25":{"start":{"line":74,"column":0},"end":{"line":80,"column":1}},"26":{"start":{"line":75,"column":2},"end":{"line":79,"column":3}},"27":{"start":{"line":76,"column":4},"end":{"line":76,"column":46}},"28":{"start":{"line":78,"column":4},"end":{"line":78,"column":79}},"29":{"start":{"line":82,"column":0},"end":{"line":90,"column":2}}},"branchMap":{"1":{"line":38,"type":"if","locations":[{"start":{"line":38,"column":2},"end":{"line":38,"column":2}},{"start":{"line":38,"column":2},"end":{"line":38,"column":2}}]}},"code":["","/*"," * Copyright (c) 2015-present, Facebook, Inc."," * All rights reserved."," *"," * This source code is licensed under the license found in the LICENSE file in"," * the root directory of this source tree."," */","/**","  * Currently we have two different ways to config a service in service-config.json:","  *   1. `{\"useServiceFramework\": false, \"path\": \"path/to/service/file\"}`, a old fashioned way","  *      to config a service and it is deprecated.","  *   2. `{\"useServiceFramework\": true,","  *        \"definition\": \"path/to/service/defintion\",","  *        \"implementation\": \"path/to/local/implementation\"}, use service framework to config","  *      a service definition and a local implementation.","  */","","var fs = require('fs-plus');","var path = require('path');","","var PACKAGE_ROOT = path.resolve(__dirname, '..');","","// Custom services path is defined in \"package.json\", which is always in the root, so resolve","// the path to the custom services config from the root as well.","var CUSTOM_SERVICES_CONFIG_PATH = path.resolve(PACKAGE_ROOT, require(path.resolve(PACKAGE_ROOT, 'package.json'))['nuclide']['customServices']);","var HEARTBEAT_CHANNEL = 'heartbeat';","var SERVICE_FRAMEWORK_EVENT_CHANNEL = 'service_framework_event';","var SERVICE_FRAMEWORK_RPC_CHANNEL = 'service_framework_rpc';","var SERVICE_FRAMEWORK3_CHANNEL = 'service_framework3_rpc';","","var SERVICE_FRAMEWORK_RPC_TIMEOUT_MS = 60 * 1000;","var SERVICES_CONFIG_PATH = path.resolve(PACKAGE_ROOT, 'services-config.json');","","function loadConfigs() {","  var configList = require(SERVICES_CONFIG_PATH);","","  if (fs.isFileSync(CUSTOM_SERVICES_CONFIG_PATH)) {","    var customConfigs = require(CUSTOM_SERVICES_CONFIG_PATH);","    configList = configList.concat(customConfigs);","  }","","  return configList;","}","","function loadConfigsOfServiceWithServiceFramework() {","  return loadConfigs().filter(function (config) {","    return config.useServiceFramework;","  }).map(function (config) {","    return {","      name: config.name,","      definition: _resolveServiceConfigPath(config.definition),","      implementation: _resolveServiceConfigPath(config.implementation)","    };","  });","}","","function loadConfigsOfServiceWithoutServiceFramework() {","  return loadConfigs().filter(function (config) {","    return !config.useServiceFramework;","  }).map(function (config) {","    return _resolveServiceConfigPath(config.path);","  });","}","","/**","  * Resolve service path defined in service-config.json to absolute path. The service path could","  * be in one of following forms:","  *   1. A path relative to the folder contains `service-config.json`.","  *   2. An absolute path.","  *   3. A path in form of `$dependency_package/path/to/service`. For example,","  *      'nuclide-commons/lib/array.js'.","  */","function _resolveServiceConfigPath(serviceConfigPath) {","  try {","    return require.resolve(serviceConfigPath);","  } catch (e) {","    return path.resolve(path.dirname(SERVICES_CONFIG_PATH), serviceConfigPath);","  }","}","","module.exports = {","  loadConfigsOfServiceWithoutServiceFramework: loadConfigsOfServiceWithoutServiceFramework,","  loadConfigsOfServiceWithServiceFramework: loadConfigsOfServiceWithServiceFramework,","  HEARTBEAT_CHANNEL: HEARTBEAT_CHANNEL,","  SERVICE_FRAMEWORK_EVENT_CHANNEL: SERVICE_FRAMEWORK_EVENT_CHANNEL,","  SERVICE_FRAMEWORK_RPC_CHANNEL: SERVICE_FRAMEWORK_RPC_CHANNEL,","  SERVICE_FRAMEWORK_RPC_TIMEOUT_MS: SERVICE_FRAMEWORK_RPC_TIMEOUT_MS,","  SERVICE_FRAMEWORK3_CHANNEL: SERVICE_FRAMEWORK3_CHANNEL","};","//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi92YXIvZm9sZGVycy94Zi9yc3BoNF9jNTczMTVyczU3eHhzZHNrcnhudjM2dDAvVC90bXBwZmw1Mm5wdWJsaXNoX3BhY2thZ2VzL25wbS9udWNsaWRlLXNlcnZlci9saWIvY29uZmlnLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLFdBQVcsQ0FBQzs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQW9CWixJQUFNLEVBQUUsR0FBRyxPQUFPLENBQUMsU0FBUyxDQUFDLENBQUM7QUFDOUIsSUFBTSxJQUFJLEdBQUcsT0FBTyxDQUFDLE1BQU0sQ0FBQyxDQUFDOztBQUU3QixJQUFNLFlBQVksR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLFNBQVMsRUFBRSxJQUFJLENBQUMsQ0FBQzs7OztBQUluRCxJQUFNLDJCQUEyQixHQUFHLElBQUksQ0FBQyxPQUFPLENBQzlDLFlBQVksRUFDWixPQUFPLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxZQUFZLEVBQUUsY0FBYyxDQUFDLENBQUMsQ0FBQyxTQUFTLENBQUMsQ0FBQyxnQkFBZ0IsQ0FBQyxDQUNqRixDQUFDO0FBQ0YsSUFBTSxpQkFBaUIsR0FBRyxXQUFXLENBQUM7QUFDdEMsSUFBTSwrQkFBK0IsR0FBRyx5QkFBeUIsQ0FBQztBQUNsRSxJQUFNLDZCQUE2QixHQUFHLHVCQUF1QixDQUFDO0FBQzlELElBQU0sMEJBQTBCLEdBQUcsd0JBQXdCLENBQUM7O0FBRTVELElBQU0sZ0NBQWdDLEdBQUcsRUFBRSxHQUFHLElBQUksQ0FBQztBQUNuRCxJQUFNLG9CQUFvQixHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsWUFBWSxFQUFFLHNCQUFzQixDQUFDLENBQUM7O0FBRWhGLFNBQVMsV0FBVyxHQUFlO0FBQ2pDLE1BQUksVUFBVSxHQUFHLE9BQU8sQ0FBQyxvQkFBb0IsQ0FBQyxDQUFDOztBQUUvQyxNQUFJLEVBQUUsQ0FBQyxVQUFVLENBQUMsMkJBQTJCLENBQUMsRUFBRTtBQUM5QyxRQUFNLGFBQWEsR0FBRyxPQUFPLENBQUMsMkJBQTJCLENBQUMsQ0FBQztBQUMzRCxjQUFVLEdBQUcsVUFBVSxDQUFDLE1BQU0sQ0FBQyxhQUFhLENBQUMsQ0FBQztHQUMvQzs7QUFFRCxTQUFPLFVBQVUsQ0FBQztDQUNuQjs7QUFFRCxTQUFTLHdDQUF3QyxHQUFlO0FBQzlELFNBQU8sV0FBVyxFQUFFLENBQ2pCLE1BQU0sQ0FBQyxVQUFBLE1BQU07V0FBSSxNQUFNLENBQUMsbUJBQW1CO0dBQUEsQ0FBQyxDQUM1QyxHQUFHLENBQUMsVUFBQSxNQUFNLEVBQUk7QUFDYixXQUFPO0FBQ0wsVUFBSSxFQUFFLE1BQU0sQ0FBQyxJQUFJO0FBQ2pCLGdCQUFVLEVBQUUseUJBQXlCLENBQUMsTUFBTSxDQUFDLFVBQVUsQ0FBQztBQUN4RCxvQkFBYyxFQUFFLHlCQUF5QixDQUFDLE1BQU0sQ0FBQyxjQUFjLENBQUM7S0FDakUsQ0FBQztHQUNILENBQUMsQ0FBQztDQUNOOztBQUVELFNBQVMsMkNBQTJDLEdBQWtCO0FBQ3BFLFNBQU8sV0FBVyxFQUFFLENBQ2pCLE1BQU0sQ0FBQyxVQUFBLE1BQU07V0FBSSxDQUFDLE1BQU0sQ0FBQyxtQkFBbUI7R0FBQSxDQUFDLENBQzdDLEdBQUcsQ0FBQyxVQUFBLE1BQU07V0FBSSx5QkFBeUIsQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDO0dBQUEsQ0FBQyxDQUFDO0NBQzFEOzs7Ozs7Ozs7O0FBVUQsU0FBUyx5QkFBeUIsQ0FBQyxpQkFBeUIsRUFBVTtBQUNwRSxNQUFJO0FBQ0YsV0FBTyxPQUFPLENBQUMsT0FBTyxDQUFDLGlCQUFpQixDQUFDLENBQUM7R0FDM0MsQ0FBQyxPQUFPLENBQUMsRUFBRTtBQUNWLFdBQU8sSUFBSSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLG9CQUFvQixDQUFDLEVBQUUsaUJBQWlCLENBQUMsQ0FBQztHQUM1RTtDQUNGOztBQUVELE1BQU0sQ0FBQyxPQUFPLEdBQUc7QUFDZiw2Q0FBMkMsRUFBM0MsMkNBQTJDO0FBQzNDLDBDQUF3QyxFQUF4Qyx3Q0FBd0M7QUFDeEMsbUJBQWlCLEVBQWpCLGlCQUFpQjtBQUNqQixpQ0FBK0IsRUFBL0IsK0JBQStCO0FBQy9CLCtCQUE2QixFQUE3Qiw2QkFBNkI7QUFDN0Isa0NBQWdDLEVBQWhDLGdDQUFnQztBQUNoQyw0QkFBMEIsRUFBMUIsMEJBQTBCO0NBQzNCLENBQUMiLCJmaWxlIjoiL3Zhci9mb2xkZXJzL3hmL3JzcGg0X2M1NzMxNXJzNTd4eHNkc2tyeG52MzZ0MC9UL3RtcHBmbDUybnB1Ymxpc2hfcGFja2FnZXMvbnBtL251Y2xpZGUtc2VydmVyL2xpYi9jb25maWcuanMiLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIGJhYmVsJztcbi8qIEBmbG93ICovXG5cbi8qXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTUtcHJlc2VudCwgRmFjZWJvb2ssIEluYy5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgbGljZW5zZSBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGluXG4gKiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqL1xuLyoqXG4gICogQ3VycmVudGx5IHdlIGhhdmUgdHdvIGRpZmZlcmVudCB3YXlzIHRvIGNvbmZpZyBhIHNlcnZpY2UgaW4gc2VydmljZS1jb25maWcuanNvbjpcbiAgKiAgIDEuIGB7XCJ1c2VTZXJ2aWNlRnJhbWV3b3JrXCI6IGZhbHNlLCBcInBhdGhcIjogXCJwYXRoL3RvL3NlcnZpY2UvZmlsZVwifWAsIGEgb2xkIGZhc2hpb25lZCB3YXlcbiAgKiAgICAgIHRvIGNvbmZpZyBhIHNlcnZpY2UgYW5kIGl0IGlzIGRlcHJlY2F0ZWQuXG4gICogICAyLiBge1widXNlU2VydmljZUZyYW1ld29ya1wiOiB0cnVlLFxuICAqICAgICAgICBcImRlZmluaXRpb25cIjogXCJwYXRoL3RvL3NlcnZpY2UvZGVmaW50aW9uXCIsXG4gICogICAgICAgIFwiaW1wbGVtZW50YXRpb25cIjogXCJwYXRoL3RvL2xvY2FsL2ltcGxlbWVudGF0aW9uXCJ9LCB1c2Ugc2VydmljZSBmcmFtZXdvcmsgdG8gY29uZmlnXG4gICogICAgICBhIHNlcnZpY2UgZGVmaW5pdGlvbiBhbmQgYSBsb2NhbCBpbXBsZW1lbnRhdGlvbi5cbiAgKi9cblxuY29uc3QgZnMgPSByZXF1aXJlKCdmcy1wbHVzJyk7XG5jb25zdCBwYXRoID0gcmVxdWlyZSgncGF0aCcpO1xuXG5jb25zdCBQQUNLQUdFX1JPT1QgPSBwYXRoLnJlc29sdmUoX19kaXJuYW1lLCAnLi4nKTtcblxuLy8gQ3VzdG9tIHNlcnZpY2VzIHBhdGggaXMgZGVmaW5lZCBpbiBcInBhY2thZ2UuanNvblwiLCB3aGljaCBpcyBhbHdheXMgaW4gdGhlIHJvb3QsIHNvIHJlc29sdmVcbi8vIHRoZSBwYXRoIHRvIHRoZSBjdXN0b20gc2VydmljZXMgY29uZmlnIGZyb20gdGhlIHJvb3QgYXMgd2VsbC5cbmNvbnN0IENVU1RPTV9TRVJWSUNFU19DT05GSUdfUEFUSCA9IHBhdGgucmVzb2x2ZShcbiAgUEFDS0FHRV9ST09ULFxuICByZXF1aXJlKHBhdGgucmVzb2x2ZShQQUNLQUdFX1JPT1QsICdwYWNrYWdlLmpzb24nKSlbJ251Y2xpZGUnXVsnY3VzdG9tU2VydmljZXMnXVxuKTtcbmNvbnN0IEhFQVJUQkVBVF9DSEFOTkVMID0gJ2hlYXJ0YmVhdCc7XG5jb25zdCBTRVJWSUNFX0ZSQU1FV09SS19FVkVOVF9DSEFOTkVMID0gJ3NlcnZpY2VfZnJhbWV3b3JrX2V2ZW50JztcbmNvbnN0IFNFUlZJQ0VfRlJBTUVXT1JLX1JQQ19DSEFOTkVMID0gJ3NlcnZpY2VfZnJhbWV3b3JrX3JwYyc7XG5jb25zdCBTRVJWSUNFX0ZSQU1FV09SSzNfQ0hBTk5FTCA9ICdzZXJ2aWNlX2ZyYW1ld29yazNfcnBjJztcblxuY29uc3QgU0VSVklDRV9GUkFNRVdPUktfUlBDX1RJTUVPVVRfTVMgPSA2MCAqIDEwMDA7XG5jb25zdCBTRVJWSUNFU19DT05GSUdfUEFUSCA9IHBhdGgucmVzb2x2ZShQQUNLQUdFX1JPT1QsICdzZXJ2aWNlcy1jb25maWcuanNvbicpO1xuXG5mdW5jdGlvbiBsb2FkQ29uZmlncygpOiBBcnJheTxhbnk+IHtcbiAgbGV0IGNvbmZpZ0xpc3QgPSByZXF1aXJlKFNFUlZJQ0VTX0NPTkZJR19QQVRIKTtcblxuICBpZiAoZnMuaXNGaWxlU3luYyhDVVNUT01fU0VSVklDRVNfQ09ORklHX1BBVEgpKSB7XG4gICAgY29uc3QgY3VzdG9tQ29uZmlncyA9IHJlcXVpcmUoQ1VTVE9NX1NFUlZJQ0VTX0NPTkZJR19QQVRIKTtcbiAgICBjb25maWdMaXN0ID0gY29uZmlnTGlzdC5jb25jYXQoY3VzdG9tQ29uZmlncyk7XG4gIH1cblxuICByZXR1cm4gY29uZmlnTGlzdDtcbn1cblxuZnVuY3Rpb24gbG9hZENvbmZpZ3NPZlNlcnZpY2VXaXRoU2VydmljZUZyYW1ld29yaygpOiBBcnJheTxhbnk+IHtcbiAgcmV0dXJuIGxvYWRDb25maWdzKClcbiAgICAuZmlsdGVyKGNvbmZpZyA9PiBjb25maWcudXNlU2VydmljZUZyYW1ld29yaylcbiAgICAubWFwKGNvbmZpZyA9PiB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBuYW1lOiBjb25maWcubmFtZSxcbiAgICAgICAgZGVmaW5pdGlvbjogX3Jlc29sdmVTZXJ2aWNlQ29uZmlnUGF0aChjb25maWcuZGVmaW5pdGlvbiksXG4gICAgICAgIGltcGxlbWVudGF0aW9uOiBfcmVzb2x2ZVNlcnZpY2VDb25maWdQYXRoKGNvbmZpZy5pbXBsZW1lbnRhdGlvbiksXG4gICAgICB9O1xuICAgIH0pO1xufVxuXG5mdW5jdGlvbiBsb2FkQ29uZmlnc09mU2VydmljZVdpdGhvdXRTZXJ2aWNlRnJhbWV3b3JrKCk6IEFycmF5PHN0cmluZz4ge1xuICByZXR1cm4gbG9hZENvbmZpZ3MoKVxuICAgIC5maWx0ZXIoY29uZmlnID0+ICFjb25maWcudXNlU2VydmljZUZyYW1ld29yaylcbiAgICAubWFwKGNvbmZpZyA9PiBfcmVzb2x2ZVNlcnZpY2VDb25maWdQYXRoKGNvbmZpZy5wYXRoKSk7XG59XG5cbi8qKlxuICAqIFJlc29sdmUgc2VydmljZSBwYXRoIGRlZmluZWQgaW4gc2VydmljZS1jb25maWcuanNvbiB0byBhYnNvbHV0ZSBwYXRoLiBUaGUgc2VydmljZSBwYXRoIGNvdWxkXG4gICogYmUgaW4gb25lIG9mIGZvbGxvd2luZyBmb3JtczpcbiAgKiAgIDEuIEEgcGF0aCByZWxhdGl2ZSB0byB0aGUgZm9sZGVyIGNvbnRhaW5zIGBzZXJ2aWNlLWNvbmZpZy5qc29uYC5cbiAgKiAgIDIuIEFuIGFic29sdXRlIHBhdGguXG4gICogICAzLiBBIHBhdGggaW4gZm9ybSBvZiBgJGRlcGVuZGVuY3lfcGFja2FnZS9wYXRoL3RvL3NlcnZpY2VgLiBGb3IgZXhhbXBsZSxcbiAgKiAgICAgICdudWNsaWRlLWNvbW1vbnMvbGliL2FycmF5LmpzJy5cbiAgKi9cbmZ1bmN0aW9uIF9yZXNvbHZlU2VydmljZUNvbmZpZ1BhdGgoc2VydmljZUNvbmZpZ1BhdGg6IHN0cmluZyk6IHN0cmluZyB7XG4gIHRyeSB7XG4gICAgcmV0dXJuIHJlcXVpcmUucmVzb2x2ZShzZXJ2aWNlQ29uZmlnUGF0aCk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICByZXR1cm4gcGF0aC5yZXNvbHZlKHBhdGguZGlybmFtZShTRVJWSUNFU19DT05GSUdfUEFUSCksIHNlcnZpY2VDb25maWdQYXRoKTtcbiAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgbG9hZENvbmZpZ3NPZlNlcnZpY2VXaXRob3V0U2VydmljZUZyYW1ld29yayxcbiAgbG9hZENvbmZpZ3NPZlNlcnZpY2VXaXRoU2VydmljZUZyYW1ld29yayxcbiAgSEVBUlRCRUFUX0NIQU5ORUwsXG4gIFNFUlZJQ0VfRlJBTUVXT1JLX0VWRU5UX0NIQU5ORUwsXG4gIFNFUlZJQ0VfRlJBTUVXT1JLX1JQQ19DSEFOTkVMLFxuICBTRVJWSUNFX0ZSQU1FV09SS19SUENfVElNRU9VVF9NUyxcbiAgU0VSVklDRV9GUkFNRVdPUkszX0NIQU5ORUwsXG59O1xuIl19",""],"l":{"19":1,"20":1,"22":1,"26":1,"27":1,"28":1,"29":1,"30":1,"32":1,"33":1,"35":1,"36":2,"38":2,"39":0,"40":0,"43":2,"46":1,"47":1,"48":2,"50":1,"58":1,"59":1,"60":2,"62":1,"74":1,"75":3,"76":3,"78":1,"82":1}},"/home/travis/build/npmtest/node-npmtest-nuclide-server/node_modules/nuclide-server/lib/main.js":{"path":"/home/travis/build/npmtest/node-npmtest-nuclide-server/node_modules/nuclide-server/lib/main.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":0,"11":0,"12":0,"13":1,"14":1,"15":1,"16":1,"17":0,"18":0,"19":0,"20":0,"21":1,"22":2,"23":1,"24":1,"25":1,"26":1,"27":1,"28":1,"29":1,"30":2,"31":2,"32":2,"33":0,"34":0,"35":2,"36":1,"37":1,"38":1,"39":1,"40":1,"41":1,"42":1,"43":1,"44":1,"45":1,"46":1,"47":1,"48":1,"49":1,"50":1,"51":1,"52":0,"53":1,"54":0,"55":0,"56":1,"57":0,"58":1,"59":1},"b":{"1":[0,1],"2":[1,0,0],"3":[0,2],"4":[2,2],"5":[1,1]},"f":{"1":1,"2":2,"3":1,"4":1,"5":1,"6":2,"7":1,"8":0,"9":0,"10":0},"fnMap":{"1":{"name":"(anonymous_1)","line":4,"loc":{"start":{"line":4,"column":29},"end":{"line":4,"column":46}}},"2":{"name":"_interopRequireDefault","line":40,"loc":{"start":{"line":40,"column":0},"end":{"line":40,"column":37}}},"3":{"name":"_asyncToGenerator","line":42,"loc":{"start":{"line":42,"column":0},"end":{"line":42,"column":31}}},"4":{"name":"(anonymous_4)","line":42,"loc":{"start":{"line":42,"column":40},"end":{"line":42,"column":52}}},"5":{"name":"(anonymous_5)","line":42,"loc":{"start":{"line":42,"column":110},"end":{"line":42,"column":137}}},"6":{"name":"step","line":42,"loc":{"start":{"line":42,"column":221},"end":{"line":42,"column":245}}},"7":{"name":"setupServer","line":70,"loc":{"start":{"line":70,"column":0},"end":{"line":70,"column":23}}},"8":{"name":"(anonymous_8)","line":76,"loc":{"start":{"line":76,"column":27},"end":{"line":76,"column":44}}},"9":{"name":"(anonymous_9)","line":80,"loc":{"start":{"line":80,"column":32},"end":{"line":80,"column":47}}},"10":{"name":"(anonymous_10)","line":95,"loc":{"start":{"line":95,"column":33},"end":{"line":95,"column":59}}}},"statementMap":{"1":{"start":{"line":4,"column":0},"end":{"line":38,"column":2}},"2":{"start":{"line":5,"column":2},"end":{"line":5,"column":86}},"3":{"start":{"line":6,"column":2},"end":{"line":34,"column":3}},"4":{"start":{"line":7,"column":4},"end":{"line":7,"column":18}},"5":{"start":{"line":8,"column":4},"end":{"line":8,"column":25}},"6":{"start":{"line":9,"column":4},"end":{"line":9,"column":23}},"7":{"start":{"line":10,"column":4},"end":{"line":10,"column":25}},"8":{"start":{"line":11,"column":4},"end":{"line":11,"column":21}},"9":{"start":{"line":13,"column":4},"end":{"line":17,"column":5}},"10":{"start":{"line":14,"column":6},"end":{"line":14,"column":46}},"11":{"start":{"line":15,"column":6},"end":{"line":15,"column":48}},"12":{"start":{"line":16,"column":6},"end":{"line":16,"column":44}},"13":{"start":{"line":18,"column":4},"end":{"line":24,"column":7}},"14":{"start":{"line":25,"column":4},"end":{"line":25,"column":27}},"15":{"start":{"line":26,"column":4},"end":{"line":26,"column":33}},"16":{"start":{"line":27,"column":4},"end":{"line":27,"column":63}},"17":{"start":{"line":30,"column":4},"end":{"line":30,"column":53}},"18":{"start":{"line":31,"column":4},"end":{"line":31,"column":38}},"19":{"start":{"line":32,"column":4},"end":{"line":32,"column":20}},"20":{"start":{"line":33,"column":4},"end":{"line":33,"column":45}},"21":{"start":{"line":40,"column":0},"end":{"line":40,"column":97}},"22":{"start":{"line":40,"column":39},"end":{"line":40,"column":95}},"23":{"start":{"line":42,"column":0},"end":{"line":42,"column":462}},"24":{"start":{"line":42,"column":33},"end":{"line":42,"column":460}},"25":{"start":{"line":42,"column":54},"end":{"line":42,"column":90}},"26":{"start":{"line":42,"column":91},"end":{"line":42,"column":457}},"27":{"start":{"line":42,"column":139},"end":{"line":42,"column":178}},"28":{"start":{"line":42,"column":179},"end":{"line":42,"column":220}},"29":{"start":{"line":42,"column":221},"end":{"line":42,"column":441}},"30":{"start":{"line":42,"column":247},"end":{"line":42,"column":345}},"31":{"start":{"line":42,"column":253},"end":{"line":42,"column":278}},"32":{"start":{"line":42,"column":279},"end":{"line":42,"column":302}},"33":{"start":{"line":42,"column":321},"end":{"line":42,"column":335}},"34":{"start":{"line":42,"column":336},"end":{"line":42,"column":343}},"35":{"start":{"line":42,"column":346},"end":{"line":42,"column":439}},"36":{"start":{"line":42,"column":363},"end":{"line":42,"column":378}},"37":{"start":{"line":42,"column":388},"end":{"line":42,"column":437}},"38":{"start":{"line":42,"column":442},"end":{"line":42,"column":453}},"39":{"start":{"line":52,"column":0},"end":{"line":52,"column":24}},"40":{"start":{"line":54,"column":0},"end":{"line":54,"column":39}},"41":{"start":{"line":56,"column":0},"end":{"line":56,"column":49}},"42":{"start":{"line":58,"column":0},"end":{"line":58,"column":53}},"43":{"start":{"line":60,"column":0},"end":{"line":60,"column":48}},"44":{"start":{"line":62,"column":0},"end":{"line":62,"column":61}},"45":{"start":{"line":64,"column":0},"end":{"line":64,"column":12}},"46":{"start":{"line":66,"column":0},"end":{"line":66,"column":24}},"47":{"start":{"line":68,"column":0},"end":{"line":68,"column":46}},"48":{"start":{"line":70,"column":0},"end":{"line":74,"column":1}},"49":{"start":{"line":71,"column":2},"end":{"line":73,"column":16}},"50":{"start":{"line":72,"column":4},"end":{"line":72,"column":40}},"51":{"start":{"line":76,"column":0},"end":{"line":78,"column":3}},"52":{"start":{"line":77,"column":2},"end":{"line":77,"column":56}},"53":{"start":{"line":80,"column":0},"end":{"line":86,"column":3}},"54":{"start":{"line":82,"column":2},"end":{"line":82,"column":42}},"55":{"start":{"line":85,"column":2},"end":{"line":85,"column":43}},"56":{"start":{"line":95,"column":0},"end":{"line":97,"column":3}},"57":{"start":{"line":96,"column":2},"end":{"line":96,"column":77}},"58":{"start":{"line":99,"column":0},"end":{"line":99,"column":66}},"59":{"start":{"line":101,"column":0},"end":{"line":101,"column":11}}},"branchMap":{"1":{"line":13,"type":"if","locations":[{"start":{"line":13,"column":4},"end":{"line":13,"column":4}},{"start":{"line":13,"column":4},"end":{"line":13,"column":4}}]},"2":{"line":13,"type":"binary-expr","locations":[{"start":{"line":13,"column":8},"end":{"line":13,"column":11}},{"start":{"line":13,"column":15},"end":{"line":13,"column":19}},{"start":{"line":13,"column":23},"end":{"line":13,"column":25}}]},"3":{"line":40,"type":"cond-expr","locations":[{"start":{"line":40,"column":70},"end":{"line":40,"column":73}},{"start":{"line":40,"column":76},"end":{"line":40,"column":94}}]},"4":{"line":40,"type":"binary-expr","locations":[{"start":{"line":40,"column":46},"end":{"line":40,"column":49}},{"start":{"line":40,"column":53},"end":{"line":40,"column":67}}]},"5":{"line":42,"type":"if","locations":[{"start":{"line":42,"column":346},"end":{"line":42,"column":346}},{"start":{"line":42,"column":346},"end":{"line":42,"column":346}}]}},"code":["","// Swallow the error while runing in open sourced version.","","var main = _asyncToGenerator(function* (args) {","  var serverStartTimer = (0, _nuclideAnalytics.startTracking)('nuclide-server:start');","  try {","    setupServer();","    var port = args.port;","    var key = args.key;","    var cert = args.cert;","    var ca = args.ca;","","    if (key && cert && ca) {","      key = _fs2['default'].readFileSync(key);","      cert = _fs2['default'].readFileSync(cert);","      ca = _fs2['default'].readFileSync(ca);","    }","    var server = new _NuclideServer2['default']({","      port: port,","      serverKey: key,","      serverCertificate: cert,","      certificateAuthorityCertificate: ca,","      trackEventLoop: true","    });","    yield server.connect();","    serverStartTimer.onSuccess();","    logger.info('NuclideServer started on port ' + port + '.');","  } catch (e) {","    // Ensure logging is configured.","    yield (0, _nuclideLogging.initialUpdateConfig)();","    yield serverStartTimer.onError(e);","    logger.fatal(e);","    (0, _nuclideLogging.flushLogsAndExit)(1);","  }","}","","// This should never happen because the server must be started with stderr redirected to a log file.",");","","function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }","","function _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { var callNext = step.bind(null, 'next'); var callThrow = step.bind(null, 'throw'); function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(callNext, callThrow); } } callNext(); }); }; }","","/*"," * Copyright (c) 2015-present, Facebook, Inc."," * All rights reserved."," *"," * This source code is licensed under the license found in the LICENSE file in"," * the root directory of this source tree."," */","","var _fs = require('fs');","","var _fs2 = _interopRequireDefault(_fs);","","var _nuclideLogging = require('nuclide-logging');","","var _nuclideAnalytics = require('nuclide-analytics');","","var _NuclideServer = require('./NuclideServer');","","var _NuclideServer2 = _interopRequireDefault(_NuclideServer);","","'use babel';","","var DEFAULT_PORT = 9090;","","var logger = (0, _nuclideLogging.getLogger)();","","function setupServer() {","  try {","    require('./fb/setup').setupServer();","  } catch (e) {}","}","","process.stderr.on('error', function (error) {","  throw new Error('Can not write to stderr! :' + error);","});","","process.on('uncaughtException', function (err) {","  // Log the error and continue the server crash.","  logger.fatal('uncaughtException:', err);","  // According to the docs, we need to close our server when this happens once we logged or","  // handled it: https://nodejs.org/api/process.html#process_event_uncaughtexception","  (0, _nuclideLogging.flushLogsAndExit)(1);","});","","// This works in io.js as of v2.4.0 (possibly earlier versions, as well). Support for this was","// introduced by https://github.com/nodejs/io.js/pull/758 in io.js.","//","// Unfortunately, the analogous change was rejected in Node v0.12.x:","// https://github.com/joyent/node/issues/8997.","//","// We include this code here in anticipation of the Node/io.js merger.","process.on('unhandledRejection', function (error, promise) {","  logger.error('Unhandled promise rejection ' + promise + '. Error:', error);","});","","var argv = require('yargs')['default']('port', DEFAULT_PORT).argv;","","main(argv);","//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi92YXIvZm9sZGVycy94Zi9yc3BoNF9jNTczMTVyczU3eHhzZHNrcnhudjM2dDAvVC90bXBwZmw1Mm5wdWJsaXNoX3BhY2thZ2VzL25wbS9udWNsaWRlLXNlcnZlci9saWIvbWFpbi5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7SUE0QmUsSUFBSSxxQkFBbkIsV0FBb0IsSUFBSSxFQUFFO0FBQ3hCLE1BQU0sZ0JBQWdCLEdBQUcsc0JBaEJuQixhQUFhLEVBZ0JvQixzQkFBc0IsQ0FBQyxDQUFDO0FBQy9ELE1BQUk7QUFDRixlQUFXLEVBQUUsQ0FBQztRQUNQLElBQUksR0FBSSxJQUFJLENBQVosSUFBSTtRQUNOLEdBQUcsR0FBYyxJQUFJLENBQXJCLEdBQUc7UUFBRSxJQUFJLEdBQVEsSUFBSSxDQUFoQixJQUFJO1FBQUUsRUFBRSxHQUFJLElBQUksQ0FBVixFQUFFOztBQUNsQixRQUFJLEdBQUcsSUFBSSxJQUFJLElBQUksRUFBRSxFQUFFO0FBQ3JCLFNBQUcsR0FBRyxnQkFBRyxZQUFZLENBQUMsR0FBRyxDQUFDLENBQUM7QUFDM0IsVUFBSSxHQUFHLGdCQUFHLFlBQVksQ0FBQyxJQUFJLENBQUMsQ0FBQztBQUM3QixRQUFFLEdBQUcsZ0JBQUcsWUFBWSxDQUFDLEVBQUUsQ0FBQyxDQUFDO0tBQzFCO0FBQ0QsUUFBTSxNQUFNLEdBQUcsK0JBQWtCO0FBQy9CLFVBQUksRUFBSixJQUFJO0FBQ0osZUFBUyxFQUFFLEdBQUc7QUFDZCx1QkFBaUIsRUFBRSxJQUFJO0FBQ3ZCLHFDQUErQixFQUFFLEVBQUU7QUFDbkMsb0JBQWMsRUFBRSxJQUFJO0tBQ3JCLENBQUMsQ0FBQztBQUNILFVBQU0sTUFBTSxDQUFDLE9BQU8sRUFBRSxDQUFDO0FBQ3ZCLG9CQUFnQixDQUFDLFNBQVMsRUFBRSxDQUFDO0FBQzdCLFVBQU0sQ0FBQyxJQUFJLENBQUMsZ0NBQWdDLEdBQUcsSUFBSSxHQUFHLEdBQUcsQ0FBQyxDQUFDO0dBQzVELENBQUMsT0FBTyxDQUFDLEVBQUU7O0FBRVYsVUFBTSxvQkF2QzJCLG1CQUFtQixHQXVDekIsQ0FBQztBQUM1QixVQUFNLGdCQUFnQixDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQztBQUNsQyxVQUFNLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDO0FBQ2hCLHdCQTFDZSxnQkFBZ0IsRUEwQ2QsQ0FBQyxDQUFDLENBQUM7R0FDckI7Q0FDRjs7Ozs7Ozs7Ozs7Ozs7Ozs7a0JBN0NjLElBQUk7Ozs7OEJBQzRDLGlCQUFpQjs7Z0NBQ3BELG1CQUFtQjs7NkJBQ3JCLGlCQUFpQjs7OztBQWQzQyxXQUFXLENBQUM7O0FBZ0JaLElBQU0sWUFBWSxHQUFHLElBQUksQ0FBQzs7QUFFMUIsSUFBTSxNQUFNLEdBQUcsb0JBTlAsU0FBUyxHQU1TLENBQUM7O0FBRTNCLFNBQVMsV0FBVyxHQUFTO0FBQzNCLE1BQUk7QUFDRixXQUFPLENBQUMsWUFBWSxDQUFDLENBQUMsV0FBVyxFQUFFLENBQUM7R0FDckMsQ0FBQyxPQUFPLENBQUMsRUFBRSxFQUVYO0NBQ0Y7O0FBaUNELE9BQU8sQ0FBQyxNQUFNLENBQUMsRUFBRSxDQUFDLE9BQU8sRUFBRSxVQUFDLEtBQUssRUFBSztBQUNwQyxRQUFNLElBQUksS0FBSyxDQUFDLDRCQUE0QixHQUFHLEtBQUssQ0FBQyxDQUFDO0NBQ3ZELENBQUMsQ0FBQzs7QUFFSCxPQUFPLENBQUMsRUFBRSxDQUFDLG1CQUFtQixFQUFFLFVBQUMsR0FBRyxFQUFLOztBQUV2QyxRQUFNLENBQUMsS0FBSyxDQUFDLG9CQUFvQixFQUFFLEdBQUcsQ0FBQyxDQUFDOzs7QUFHeEMsc0JBeERpQixnQkFBZ0IsRUF3RGhCLENBQUMsQ0FBQyxDQUFDO0NBQ3JCLENBQUMsQ0FBQzs7Ozs7Ozs7O0FBU0gsT0FBTyxDQUFDLEVBQUUsQ0FBQyxvQkFBb0IsRUFBRSxVQUFDLEtBQUssRUFBRSxPQUFPLEVBQUs7QUFDbkQsUUFBTSxDQUFDLEtBQUssa0NBQWdDLE9BQU8sZUFBWSxLQUFLLENBQUMsQ0FBQztDQUN2RSxDQUFDLENBQUM7O0FBRUgsSUFBTSxJQUFJLEdBQUcsT0FBTyxDQUFDLE9BQU8sQ0FBQyxXQUNqQixDQUFDLE1BQU0sRUFBRSxZQUFZLENBQUMsQ0FDN0IsSUFBSSxDQUFDOztBQUVWLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyIsImZpbGUiOiIvdmFyL2ZvbGRlcnMveGYvcnNwaDRfYzU3MzE1cnM1N3h4c2Rza3J4bnYzNnQwL1QvdG1wcGZsNTJucHVibGlzaF9wYWNrYWdlcy9ucG0vbnVjbGlkZS1zZXJ2ZXIvbGliL21haW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIGJhYmVsJztcbi8qIEBmbG93ICovXG5cbi8qXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTUtcHJlc2VudCwgRmFjZWJvb2ssIEluYy5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgbGljZW5zZSBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGluXG4gKiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqL1xuXG5pbXBvcnQgZnMgZnJvbSAnZnMnO1xuaW1wb3J0IHtnZXRMb2dnZXIsIGZsdXNoTG9nc0FuZEV4aXQsIGluaXRpYWxVcGRhdGVDb25maWd9IGZyb20gJ251Y2xpZGUtbG9nZ2luZyc7XG5pbXBvcnQge3N0YXJ0VHJhY2tpbmd9IGZyb20gJ251Y2xpZGUtYW5hbHl0aWNzJztcbmltcG9ydCBOdWNsaWRlU2VydmVyIGZyb20gJy4vTnVjbGlkZVNlcnZlcic7XG5cbmNvbnN0IERFRkFVTFRfUE9SVCA9IDkwOTA7XG5cbmNvbnN0IGxvZ2dlciA9IGdldExvZ2dlcigpO1xuXG5mdW5jdGlvbiBzZXR1cFNlcnZlcigpOiB2b2lkIHtcbiAgdHJ5IHtcbiAgICByZXF1aXJlKCcuL2ZiL3NldHVwJykuc2V0dXBTZXJ2ZXIoKTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIC8vIFN3YWxsb3cgdGhlIGVycm9yIHdoaWxlIHJ1bmluZyBpbiBvcGVuIHNvdXJjZWQgdmVyc2lvbi5cbiAgfVxufVxuXG5hc3luYyBmdW5jdGlvbiBtYWluKGFyZ3MpIHtcbiAgY29uc3Qgc2VydmVyU3RhcnRUaW1lciA9IHN0YXJ0VHJhY2tpbmcoJ251Y2xpZGUtc2VydmVyOnN0YXJ0Jyk7XG4gIHRyeSB7XG4gICAgc2V0dXBTZXJ2ZXIoKTtcbiAgICBjb25zdCB7cG9ydH0gPSBhcmdzO1xuICAgIGxldCB7a2V5LCBjZXJ0LCBjYX0gPSBhcmdzO1xuICAgIGlmIChrZXkgJiYgY2VydCAmJiBjYSkge1xuICAgICAga2V5ID0gZnMucmVhZEZpbGVTeW5jKGtleSk7XG4gICAgICBjZXJ0ID0gZnMucmVhZEZpbGVTeW5jKGNlcnQpO1xuICAgICAgY2EgPSBmcy5yZWFkRmlsZVN5bmMoY2EpO1xuICAgIH1cbiAgICBjb25zdCBzZXJ2ZXIgPSBuZXcgTnVjbGlkZVNlcnZlcih7XG4gICAgICBwb3J0LFxuICAgICAgc2VydmVyS2V5OiBrZXksXG4gICAgICBzZXJ2ZXJDZXJ0aWZpY2F0ZTogY2VydCxcbiAgICAgIGNlcnRpZmljYXRlQXV0aG9yaXR5Q2VydGlmaWNhdGU6IGNhLFxuICAgICAgdHJhY2tFdmVudExvb3A6IHRydWUsXG4gICAgfSk7XG4gICAgYXdhaXQgc2VydmVyLmNvbm5lY3QoKTtcbiAgICBzZXJ2ZXJTdGFydFRpbWVyLm9uU3VjY2VzcygpO1xuICAgIGxvZ2dlci5pbmZvKCdOdWNsaWRlU2VydmVyIHN0YXJ0ZWQgb24gcG9ydCAnICsgcG9ydCArICcuJyk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICAvLyBFbnN1cmUgbG9nZ2luZyBpcyBjb25maWd1cmVkLlxuICAgIGF3YWl0IGluaXRpYWxVcGRhdGVDb25maWcoKTtcbiAgICBhd2FpdCBzZXJ2ZXJTdGFydFRpbWVyLm9uRXJyb3IoZSk7XG4gICAgbG9nZ2VyLmZhdGFsKGUpO1xuICAgIGZsdXNoTG9nc0FuZEV4aXQoMSk7XG4gIH1cbn1cblxuLy8gVGhpcyBzaG91bGQgbmV2ZXIgaGFwcGVuIGJlY2F1c2UgdGhlIHNlcnZlciBtdXN0IGJlIHN0YXJ0ZWQgd2l0aCBzdGRlcnIgcmVkaXJlY3RlZCB0byBhIGxvZyBmaWxlLlxucHJvY2Vzcy5zdGRlcnIub24oJ2Vycm9yJywgKGVycm9yKSA9PiB7XG4gIHRocm93IG5ldyBFcnJvcignQ2FuIG5vdCB3cml0ZSB0byBzdGRlcnIhIDonICsgZXJyb3IpO1xufSk7XG5cbnByb2Nlc3Mub24oJ3VuY2F1Z2h0RXhjZXB0aW9uJywgKGVycikgPT4ge1xuICAvLyBMb2cgdGhlIGVycm9yIGFuZCBjb250aW51ZSB0aGUgc2VydmVyIGNyYXNoLlxuICBsb2dnZXIuZmF0YWwoJ3VuY2F1Z2h0RXhjZXB0aW9uOicsIGVycik7XG4gIC8vIEFjY29yZGluZyB0byB0aGUgZG9jcywgd2UgbmVlZCB0byBjbG9zZSBvdXIgc2VydmVyIHdoZW4gdGhpcyBoYXBwZW5zIG9uY2Ugd2UgbG9nZ2VkIG9yXG4gIC8vIGhhbmRsZWQgaXQ6IGh0dHBzOi8vbm9kZWpzLm9yZy9hcGkvcHJvY2Vzcy5odG1sI3Byb2Nlc3NfZXZlbnRfdW5jYXVnaHRleGNlcHRpb25cbiAgZmx1c2hMb2dzQW5kRXhpdCgxKTtcbn0pO1xuXG4vLyBUaGlzIHdvcmtzIGluIGlvLmpzIGFzIG9mIHYyLjQuMCAocG9zc2libHkgZWFybGllciB2ZXJzaW9ucywgYXMgd2VsbCkuIFN1cHBvcnQgZm9yIHRoaXMgd2FzXG4vLyBpbnRyb2R1Y2VkIGJ5IGh0dHBzOi8vZ2l0aHViLmNvbS9ub2RlanMvaW8uanMvcHVsbC83NTggaW4gaW8uanMuXG4vL1xuLy8gVW5mb3J0dW5hdGVseSwgdGhlIGFuYWxvZ291cyBjaGFuZ2Ugd2FzIHJlamVjdGVkIGluIE5vZGUgdjAuMTIueDpcbi8vIGh0dHBzOi8vZ2l0aHViLmNvbS9qb3llbnQvbm9kZS9pc3N1ZXMvODk5Ny5cbi8vXG4vLyBXZSBpbmNsdWRlIHRoaXMgY29kZSBoZXJlIGluIGFudGljaXBhdGlvbiBvZiB0aGUgTm9kZS9pby5qcyBtZXJnZXIuXG5wcm9jZXNzLm9uKCd1bmhhbmRsZWRSZWplY3Rpb24nLCAoZXJyb3IsIHByb21pc2UpID0+IHtcbiAgbG9nZ2VyLmVycm9yKGBVbmhhbmRsZWQgcHJvbWlzZSByZWplY3Rpb24gJHtwcm9taXNlfS4gRXJyb3I6YCwgZXJyb3IpO1xufSk7XG5cbmNvbnN0IGFyZ3YgPSByZXF1aXJlKCd5YXJncycpXG4gICAgLmRlZmF1bHQoJ3BvcnQnLCBERUZBVUxUX1BPUlQpXG4gICAgLmFyZ3Y7XG5cbm1haW4oYXJndik7XG4iXX0=",""],"l":{"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"13":1,"14":0,"15":0,"16":0,"18":1,"25":1,"26":1,"27":1,"30":0,"31":0,"32":0,"33":0,"40":2,"42":2,"52":1,"54":1,"56":1,"58":1,"60":1,"62":1,"64":1,"66":1,"68":1,"70":1,"71":1,"72":1,"76":1,"77":0,"80":1,"82":0,"85":0,"95":1,"96":0,"99":1,"101":1}},"/home/travis/build/npmtest/node-npmtest-nuclide-server/node_modules/nuclide-server/lib/NuclideServer.js":{"path":"/home/travis/build/npmtest/node-npmtest-nuclide-server/node_modules/nuclide-server/lib/NuclideServer.js","s":{"1":1,"2":1,"3":1,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":1,"22":0,"23":0,"24":0,"25":0,"26":0,"27":1,"28":1,"29":2,"30":18,"31":18,"32":18,"33":18,"34":18,"35":18,"36":1,"37":1,"38":1,"39":1,"40":1,"41":1,"42":1,"43":2,"44":1,"45":12,"46":0,"47":0,"48":0,"49":0,"50":1,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":1,"61":1,"62":0,"63":1,"64":1,"65":1,"66":1,"67":1,"68":1,"69":1,"70":1,"71":1,"72":1,"73":1,"74":1,"75":1,"76":1,"77":1,"78":1,"79":1,"80":1,"81":1,"82":1,"83":1,"84":1,"85":1,"86":1,"87":1,"88":1,"89":1,"90":1,"91":1,"92":1,"93":1,"94":1,"95":1,"96":1,"97":1,"98":1,"99":1,"100":1,"101":1,"102":1,"103":0,"104":0,"105":1,"106":1,"107":1,"108":1,"109":1,"110":1,"111":1,"112":1,"113":0,"114":1,"115":1,"116":1,"117":1,"118":4,"119":10,"120":0,"121":0,"122":0,"123":1,"124":1,"125":1,"126":0,"127":1,"128":0,"129":1,"130":0,"131":0,"132":0,"133":0,"134":0,"135":0,"136":0,"137":0,"138":0,"139":0,"140":0,"141":0,"142":0,"143":0,"144":0,"145":0,"146":0,"147":0,"148":1,"149":1,"150":1,"151":4,"152":0,"153":0,"154":0,"155":0,"156":1,"157":1,"158":1,"159":1,"160":1,"161":3,"162":3,"163":1,"164":0,"165":0,"166":0,"167":1,"168":1,"169":1,"170":1,"171":1,"172":1,"173":1,"174":1,"175":1,"176":1,"177":1,"178":1,"179":1,"180":1,"181":1,"182":1,"183":1,"184":1,"185":1,"186":0,"187":0,"188":0,"189":1,"190":1,"191":0,"192":1,"193":1,"194":0,"195":0,"196":0,"197":0,"198":0,"199":0,"200":0,"201":0,"202":1,"203":0,"204":0,"205":0,"206":0,"207":1,"208":1,"209":1,"210":1,"211":1,"212":0,"213":0,"214":1,"215":0,"216":0,"217":0,"218":0,"219":10,"220":1,"221":10,"222":0,"223":10,"224":10,"225":10,"226":10,"227":10,"228":0,"229":0,"230":0,"231":0,"232":0,"233":0,"234":0,"235":0,"236":0,"237":0,"238":0,"239":0,"240":0,"241":0,"242":0,"243":0,"244":0,"245":0,"246":0,"247":0,"248":0,"249":0,"250":0,"251":0,"252":0,"253":0,"254":0,"255":0,"256":0,"257":0,"258":0,"259":0,"260":0,"261":0,"262":0,"263":0,"264":0,"265":0,"266":0,"267":0,"268":0,"269":0,"270":0,"271":0,"272":0,"273":0,"274":0,"275":0,"276":0,"277":0,"278":0,"279":0,"280":0,"281":0,"282":0,"283":0,"284":0,"285":0,"286":0,"287":0,"288":0,"289":0,"290":0,"291":0,"292":0,"293":0,"294":0,"295":0,"296":0,"297":0,"298":0,"299":0,"300":0,"301":0,"302":0,"303":0,"304":1,"305":1},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[18,18],"9":[18,0],"10":[1,0],"11":[1,0],"12":[0,2],"13":[2,2],"14":[0,0],"15":[0,1],"16":[0,1],"17":[1,0,0],"18":[1,0],"19":[0,0],"20":[0,0],"21":[0,0],"22":[0,0],"23":[0,1],"24":[1,0],"25":[0,0],"26":[0,0],"27":[0,0],"28":[0,0],"29":[1,9],"30":[0,10],"31":[0,0],"32":[0,0],"33":[0,0],"34":[0,0],"35":[0,0],"36":[0,0],"37":[0,0],"38":[0,0],"39":[0,0],"40":[0,0],"41":[0,0],"42":[0,0],"43":[0,0],"44":[0,0],"45":[0,0],"46":[0,0]},"f":{"1":1,"2":0,"3":0,"4":1,"5":2,"6":1,"7":2,"8":12,"9":0,"10":0,"11":0,"12":1,"13":1,"14":1,"15":0,"16":1,"17":4,"18":10,"19":0,"20":1,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":1,"28":4,"29":0,"30":1,"31":1,"32":1,"33":1,"34":0,"35":1,"36":0,"37":1,"38":0,"39":0,"40":0,"41":1,"42":1,"43":1,"44":0,"45":0,"46":10,"47":10,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0},"fnMap":{"1":{"name":"(anonymous_1)","line":5,"loc":{"start":{"line":5,"column":22},"end":{"line":5,"column":34}}},"2":{"name":"sliceIterator","line":5,"loc":{"start":{"line":5,"column":36},"end":{"line":5,"column":67}}},"3":{"name":"(anonymous_3)","line":5,"loc":{"start":{"line":5,"column":437},"end":{"line":5,"column":455}}},"4":{"name":"(anonymous_4)","line":7,"loc":{"start":{"line":7,"column":20},"end":{"line":7,"column":32}}},"5":{"name":"defineProperties","line":7,"loc":{"start":{"line":7,"column":34},"end":{"line":7,"column":75}}},"6":{"name":"(anonymous_6)","line":7,"loc":{"start":{"line":7,"column":358},"end":{"line":7,"column":406}}},"7":{"name":"_interopRequireDefault","line":9,"loc":{"start":{"line":9,"column":0},"end":{"line":9,"column":37}}},"8":{"name":"_asyncToGenerator","line":11,"loc":{"start":{"line":11,"column":0},"end":{"line":11,"column":31}}},"9":{"name":"(anonymous_9)","line":11,"loc":{"start":{"line":11,"column":40},"end":{"line":11,"column":52}}},"10":{"name":"(anonymous_10)","line":11,"loc":{"start":{"line":11,"column":110},"end":{"line":11,"column":137}}},"11":{"name":"step","line":11,"loc":{"start":{"line":11,"column":221},"end":{"line":11,"column":245}}},"12":{"name":"_classCallCheck","line":13,"loc":{"start":{"line":13,"column":0},"end":{"line":13,"column":48}}},"13":{"name":"(anonymous_13)","line":72,"loc":{"start":{"line":72,"column":21},"end":{"line":72,"column":33}}},"14":{"name":"NuclideServer","line":73,"loc":{"start":{"line":73,"column":2},"end":{"line":73,"column":34}}},"15":{"name":"(anonymous_15)","line":109,"loc":{"start":{"line":109,"column":14},"end":{"line":109,"column":28}}},"16":{"name":"_attachUtilHandlers","line":120,"loc":{"start":{"line":120,"column":11},"end":{"line":120,"column":45}}},"17":{"name":"(anonymous_17)","line":124,"loc":{"start":{"line":124,"column":47},"end":{"line":124,"column":69}}},"18":{"name":"(anonymous_18)","line":125,"loc":{"start":{"line":125,"column":33},"end":{"line":125,"column":57}}},"19":{"name":"(anonymous_19)","line":126,"loc":{"start":{"line":126,"column":30},"end":{"line":126,"column":65}}},"20":{"name":"_createWebSocketServer","line":139,"loc":{"start":{"line":139,"column":11},"end":{"line":139,"column":45}}},"21":{"name":"(anonymous_21)","line":143,"loc":{"start":{"line":143,"column":39},"end":{"line":143,"column":57}}},"22":{"name":"(anonymous_22)","line":146,"loc":{"start":{"line":146,"column":34},"end":{"line":146,"column":51}}},"23":{"name":"_getServiceFrameworkServiceAndRegisterEventHandle","line":153,"loc":{"start":{"line":153,"column":11},"end":{"line":153,"column":101}}},"24":{"name":"(anonymous_24)","line":163,"loc":{"start":{"line":163,"column":42},"end":{"line":163,"column":64}}},"25":{"name":"(anonymous_25)","line":164,"loc":{"start":{"line":164,"column":68},"end":{"line":164,"column":80}}},"26":{"name":"(anonymous_26)","line":170,"loc":{"start":{"line":170,"column":68},"end":{"line":170,"column":88}}},"27":{"name":"_registerServiceWithServiceFramework","line":194,"loc":{"start":{"line":194,"column":11},"end":{"line":194,"column":72}}},"28":{"name":"(anonymous_28)","line":199,"loc":{"start":{"line":199,"column":40},"end":{"line":199,"column":62}}},"29":{"name":"(anonymous_29)","line":204,"loc":{"start":{"line":204,"column":8},"end":{"line":204,"column":34}}},"30":{"name":"_registerServiceWithoutServiceFramework","line":216,"loc":{"start":{"line":216,"column":11},"end":{"line":216,"column":77}}},"31":{"name":"_setupServices","line":241,"loc":{"start":{"line":241,"column":11},"end":{"line":241,"column":37}}},"32":{"name":"(anonymous_32)","line":259,"loc":{"start":{"line":259,"column":58},"end":{"line":259,"column":76}}},"33":{"name":"(anonymous_33)","line":264,"loc":{"start":{"line":264,"column":55},"end":{"line":264,"column":73}}},"34":{"name":"(anonymous_34)","line":270,"loc":{"start":{"line":270,"column":20},"end":{"line":270,"column":62}}},"35":{"name":"_setupHeartbeatHandler","line":280,"loc":{"start":{"line":280,"column":11},"end":{"line":280,"column":45}}},"36":{"name":"(anonymous_36)","line":283,"loc":{"start":{"line":283,"column":79},"end":{"line":283,"column":92}}},"37":{"name":"_setupServiceFrameworkSubscriptionHandler","line":289,"loc":{"start":{"line":289,"column":11},"end":{"line":289,"column":64}}},"38":{"name":"(anonymous_38)","line":292,"loc":{"start":{"line":292,"column":64},"end":{"line":292,"column":125}}},"39":{"name":"(anonymous_39)","line":296,"loc":{"start":{"line":296,"column":107},"end":{"line":296,"column":125}}},"40":{"name":"(anonymous_40)","line":313,"loc":{"start":{"line":313,"column":66},"end":{"line":313,"column":127}}},"41":{"name":"connect","line":323,"loc":{"start":{"line":323,"column":11},"end":{"line":323,"column":30}}},"42":{"name":"(anonymous_42)","line":326,"loc":{"start":{"line":326,"column":25},"end":{"line":326,"column":52}}},"43":{"name":"(anonymous_43)","line":327,"loc":{"start":{"line":327,"column":42},"end":{"line":327,"column":54}}},"44":{"name":"(anonymous_44)","line":330,"loc":{"start":{"line":330,"column":38},"end":{"line":330,"column":51}}},"45":{"name":"callService","line":343,"loc":{"start":{"line":343,"column":11},"end":{"line":343,"column":51}}},"46":{"name":"_registerService","line":358,"loc":{"start":{"line":358,"column":11},"end":{"line":358,"column":91}}},"47":{"name":"_registerHttpService","line":369,"loc":{"start":{"line":369,"column":11},"end":{"line":369,"column":78}}},"48":{"name":"(anonymous_48)","line":373,"loc":{"start":{"line":373,"column":66},"end":{"line":373,"column":102}}},"49":{"name":"_attachUrlHandler","line":394,"loc":{"start":{"line":394,"column":11},"end":{"line":394,"column":52}}},"50":{"name":"_onConnection","line":401,"loc":{"start":{"line":401,"column":11},"end":{"line":401,"column":42}}},"51":{"name":"(anonymous_51)","line":408,"loc":{"start":{"line":408,"column":25},"end":{"line":408,"column":38}}},"52":{"name":"(anonymous_52)","line":412,"loc":{"start":{"line":412,"column":29},"end":{"line":412,"column":49}}},"53":{"name":"(anonymous_53)","line":421,"loc":{"start":{"line":421,"column":46},"end":{"line":421,"column":65}}},"54":{"name":"(anonymous_54)","line":424,"loc":{"start":{"line":424,"column":29},"end":{"line":424,"column":48}}},"55":{"name":"(anonymous_55)","line":429,"loc":{"start":{"line":429,"column":25},"end":{"line":429,"column":37}}},"56":{"name":"(anonymous_56)","line":449,"loc":{"start":{"line":449,"column":29},"end":{"line":449,"column":57}}},"57":{"name":"_sendSocketMessage","line":482,"loc":{"start":{"line":482,"column":11},"end":{"line":482,"column":53}}},"58":{"name":"(anonymous_58)","line":494,"loc":{"start":{"line":494,"column":40},"end":{"line":494,"column":55}}},"59":{"name":"close","line":507,"loc":{"start":{"line":507,"column":11},"end":{"line":507,"column":28}}},"60":{"name":"(anonymous_60)","line":515,"loc":{"start":{"line":515,"column":58},"end":{"line":515,"column":82}}},"61":{"name":"shutdown","line":527,"loc":{"start":{"line":527,"column":11},"end":{"line":527,"column":31}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":3,"column":3}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":666}},"3":{"start":{"line":5,"column":36},"end":{"line":5,"column":429}},"4":{"start":{"line":5,"column":69},"end":{"line":5,"column":83}},"5":{"start":{"line":5,"column":84},"end":{"line":5,"column":98}},"6":{"start":{"line":5,"column":99},"end":{"line":5,"column":114}},"7":{"start":{"line":5,"column":115},"end":{"line":5,"column":134}},"8":{"start":{"line":5,"column":135},"end":{"line":5,"column":414}},"9":{"start":{"line":5,"column":141},"end":{"line":5,"column":284}},"10":{"start":{"line":5,"column":227},"end":{"line":5,"column":247}},"11":{"start":{"line":5,"column":248},"end":{"line":5,"column":282}},"12":{"start":{"line":5,"column":276},"end":{"line":5,"column":282}},"13":{"start":{"line":5,"column":301},"end":{"line":5,"column":311}},"14":{"start":{"line":5,"column":312},"end":{"line":5,"column":321}},"15":{"start":{"line":5,"column":334},"end":{"line":5,"column":412}},"16":{"start":{"line":5,"column":340},"end":{"line":5,"column":380}},"17":{"start":{"line":5,"column":365},"end":{"line":5,"column":380}},"18":{"start":{"line":5,"column":393},"end":{"line":5,"column":410}},"19":{"start":{"line":5,"column":401},"end":{"line":5,"column":410}},"20":{"start":{"line":5,"column":415},"end":{"line":5,"column":427}},"21":{"start":{"line":5,"column":430},"end":{"line":5,"column":660}},"22":{"start":{"line":5,"column":457},"end":{"line":5,"column":657}},"23":{"start":{"line":5,"column":483},"end":{"line":5,"column":494}},"24":{"start":{"line":5,"column":502},"end":{"line":5,"column":657}},"25":{"start":{"line":5,"column":540},"end":{"line":5,"column":569}},"26":{"start":{"line":5,"column":579},"end":{"line":5,"column":655}},"27":{"start":{"line":7,"column":0},"end":{"line":7,"column":566}},"28":{"start":{"line":7,"column":34},"end":{"line":7,"column":350}},"29":{"start":{"line":7,"column":77},"end":{"line":7,"column":348}},"30":{"start":{"line":7,"column":118},"end":{"line":7,"column":144}},"31":{"start":{"line":7,"column":145},"end":{"line":7,"column":200}},"32":{"start":{"line":7,"column":201},"end":{"line":7,"column":232}},"33":{"start":{"line":7,"column":233},"end":{"line":7,"column":287}},"34":{"start":{"line":7,"column":260},"end":{"line":7,"column":287}},"35":{"start":{"line":7,"column":288},"end":{"line":7,"column":346}},"36":{"start":{"line":7,"column":351},"end":{"line":7,"column":560}},"37":{"start":{"line":7,"column":408},"end":{"line":7,"column":476}},"38":{"start":{"line":7,"column":424},"end":{"line":7,"column":476}},"39":{"start":{"line":7,"column":477},"end":{"line":7,"column":537}},"40":{"start":{"line":7,"column":494},"end":{"line":7,"column":537}},"41":{"start":{"line":7,"column":538},"end":{"line":7,"column":557}},"42":{"start":{"line":9,"column":0},"end":{"line":9,"column":97}},"43":{"start":{"line":9,"column":39},"end":{"line":9,"column":95}},"44":{"start":{"line":11,"column":0},"end":{"line":11,"column":462}},"45":{"start":{"line":11,"column":33},"end":{"line":11,"column":460}},"46":{"start":{"line":11,"column":54},"end":{"line":11,"column":90}},"47":{"start":{"line":11,"column":91},"end":{"line":11,"column":457}},"48":{"start":{"line":11,"column":139},"end":{"line":11,"column":178}},"49":{"start":{"line":11,"column":179},"end":{"line":11,"column":220}},"50":{"start":{"line":11,"column":221},"end":{"line":11,"column":441}},"51":{"start":{"line":11,"column":247},"end":{"line":11,"column":345}},"52":{"start":{"line":11,"column":253},"end":{"line":11,"column":278}},"53":{"start":{"line":11,"column":279},"end":{"line":11,"column":302}},"54":{"start":{"line":11,"column":321},"end":{"line":11,"column":335}},"55":{"start":{"line":11,"column":336},"end":{"line":11,"column":343}},"56":{"start":{"line":11,"column":346},"end":{"line":11,"column":439}},"57":{"start":{"line":11,"column":363},"end":{"line":11,"column":378}},"58":{"start":{"line":11,"column":388},"end":{"line":11,"column":437}},"59":{"start":{"line":11,"column":442},"end":{"line":11,"column":453}},"60":{"start":{"line":13,"column":0},"end":{"line":13,"column":153}},"61":{"start":{"line":13,"column":50},"end":{"line":13,"column":151}},"62":{"start":{"line":13,"column":92},"end":{"line":13,"column":149}},"63":{"start":{"line":15,"column":0},"end":{"line":15,"column":34}},"64":{"start":{"line":17,"column":0},"end":{"line":17,"column":32}},"65":{"start":{"line":19,"column":0},"end":{"line":19,"column":47}},"66":{"start":{"line":21,"column":0},"end":{"line":21,"column":54}},"67":{"start":{"line":23,"column":0},"end":{"line":23,"column":67}},"68":{"start":{"line":25,"column":0},"end":{"line":25,"column":49}},"69":{"start":{"line":27,"column":0},"end":{"line":27,"column":12}},"70":{"start":{"line":37,"column":0},"end":{"line":37,"column":35}},"71":{"start":{"line":38,"column":0},"end":{"line":38,"column":33}},"72":{"start":{"line":40,"column":0},"end":{"line":40,"column":44}},"73":{"start":{"line":42,"column":0},"end":{"line":42,"column":37}},"74":{"start":{"line":43,"column":0},"end":{"line":43,"column":53}},"75":{"start":{"line":45,"column":0},"end":{"line":45,"column":27}},"76":{"start":{"line":46,"column":0},"end":{"line":46,"column":29}},"77":{"start":{"line":48,"column":0},"end":{"line":48,"column":55}},"78":{"start":{"line":50,"column":0},"end":{"line":50,"column":56}},"79":{"start":{"line":52,"column":0},"end":{"line":52,"column":34}},"80":{"start":{"line":54,"column":0},"end":{"line":54,"column":42}},"81":{"start":{"line":56,"column":0},"end":{"line":56,"column":43}},"82":{"start":{"line":58,"column":0},"end":{"line":58,"column":35}},"83":{"start":{"line":60,"column":0},"end":{"line":60,"column":48}},"84":{"start":{"line":61,"column":0},"end":{"line":61,"column":50}},"85":{"start":{"line":62,"column":0},"end":{"line":62,"column":50}},"86":{"start":{"line":64,"column":0},"end":{"line":64,"column":43}},"87":{"start":{"line":66,"column":0},"end":{"line":66,"column":38}},"88":{"start":{"line":68,"column":0},"end":{"line":68,"column":46}},"89":{"start":{"line":70,"column":0},"end":{"line":70,"column":67}},"90":{"start":{"line":72,"column":0},"end":{"line":542,"column":5}},"91":{"start":{"line":73,"column":2},"end":{"line":116,"column":3}},"92":{"start":{"line":74,"column":4},"end":{"line":74,"column":41}},"93":{"start":{"line":76,"column":4},"end":{"line":76,"column":63}},"94":{"start":{"line":77,"column":4},"end":{"line":77,"column":36}},"95":{"start":{"line":79,"column":4},"end":{"line":79,"column":38}},"96":{"start":{"line":80,"column":4},"end":{"line":80,"column":54}},"97":{"start":{"line":81,"column":4},"end":{"line":81,"column":28}},"98":{"start":{"line":82,"column":4},"end":{"line":82,"column":82}},"99":{"start":{"line":83,"column":4},"end":{"line":83,"column":48}},"100":{"start":{"line":85,"column":4},"end":{"line":85,"column":26}},"101":{"start":{"line":86,"column":4},"end":{"line":86,"column":40}},"102":{"start":{"line":87,"column":4},"end":{"line":99,"column":5}},"103":{"start":{"line":88,"column":6},"end":{"line":94,"column":8}},"104":{"start":{"line":96,"column":6},"end":{"line":96,"column":72}},"105":{"start":{"line":98,"column":6},"end":{"line":98,"column":53}},"106":{"start":{"line":100,"column":4},"end":{"line":100,"column":22}},"107":{"start":{"line":102,"column":4},"end":{"line":102,"column":58}},"108":{"start":{"line":103,"column":4},"end":{"line":103,"column":23}},"109":{"start":{"line":104,"column":4},"end":{"line":104,"column":41}},"110":{"start":{"line":106,"column":4},"end":{"line":106,"column":26}},"111":{"start":{"line":108,"column":4},"end":{"line":112,"column":5}},"112":{"start":{"line":109,"column":6},"end":{"line":111,"column":9}},"113":{"start":{"line":110,"column":8},"end":{"line":110,"column":73}},"114":{"start":{"line":115,"column":4},"end":{"line":115,"column":84}},"115":{"start":{"line":118,"column":2},"end":{"line":539,"column":6}},"116":{"start":{"line":121,"column":6},"end":{"line":121,"column":23}},"117":{"start":{"line":124,"column":6},"end":{"line":135,"column":9}},"118":{"start":{"line":125,"column":8},"end":{"line":134,"column":10}},"119":{"start":{"line":126,"column":10},"end":{"line":133,"column":13}},"120":{"start":{"line":127,"column":12},"end":{"line":132,"column":13}},"121":{"start":{"line":129,"column":14},"end":{"line":129,"column":28}},"122":{"start":{"line":131,"column":14},"end":{"line":131,"column":47}},"123":{"start":{"line":140,"column":6},"end":{"line":140,"column":24}},"124":{"start":{"line":142,"column":6},"end":{"line":142,"column":77}},"125":{"start":{"line":143,"column":6},"end":{"line":145,"column":9}},"126":{"start":{"line":144,"column":8},"end":{"line":144,"column":44}},"127":{"start":{"line":146,"column":6},"end":{"line":148,"column":9}},"128":{"start":{"line":147,"column":8},"end":{"line":147,"column":61}},"129":{"start":{"line":149,"column":6},"end":{"line":149,"column":29}},"130":{"start":{"line":154,"column":6},"end":{"line":154,"column":24}},"131":{"start":{"line":156,"column":6},"end":{"line":156,"column":110}},"132":{"start":{"line":157,"column":6},"end":{"line":159,"column":7}},"133":{"start":{"line":158,"column":8},"end":{"line":158,"column":36}},"134":{"start":{"line":161,"column":6},"end":{"line":161,"column":89}},"135":{"start":{"line":163,"column":6},"end":{"line":187,"column":9}},"136":{"start":{"line":164,"column":8},"end":{"line":186,"column":11}},"137":{"start":{"line":165,"column":10},"end":{"line":167,"column":11}},"138":{"start":{"line":166,"column":12},"end":{"line":166,"column":41}},"139":{"start":{"line":169,"column":10},"end":{"line":169,"column":93}},"140":{"start":{"line":170,"column":10},"end":{"line":185,"column":13}},"141":{"start":{"line":171,"column":12},"end":{"line":171,"column":51}},"142":{"start":{"line":173,"column":12},"end":{"line":176,"column":13}},"143":{"start":{"line":174,"column":14},"end":{"line":174,"column":75}},"144":{"start":{"line":175,"column":14},"end":{"line":175,"column":21}},"145":{"start":{"line":178,"column":12},"end":{"line":184,"column":15}},"146":{"start":{"line":188,"column":6},"end":{"line":188,"column":92}},"147":{"start":{"line":190,"column":6},"end":{"line":190,"column":34}},"148":{"start":{"line":195,"column":6},"end":{"line":195,"column":24}},"149":{"start":{"line":197,"column":6},"end":{"line":197,"column":89}},"150":{"start":{"line":199,"column":6},"end":{"line":212,"column":9}},"151":{"start":{"line":200,"column":8},"end":{"line":211,"column":19}},"152":{"start":{"line":205,"column":10},"end":{"line":207,"column":11}},"153":{"start":{"line":206,"column":12},"end":{"line":206,"column":47}},"154":{"start":{"line":209,"column":10},"end":{"line":209,"column":125}},"155":{"start":{"line":210,"column":10},"end":{"line":210,"column":84}},"156":{"start":{"line":217,"column":6},"end":{"line":217,"column":47}},"157":{"start":{"line":219,"column":6},"end":{"line":219,"column":46}},"158":{"start":{"line":220,"column":6},"end":{"line":220,"column":40}},"159":{"start":{"line":221,"column":6},"end":{"line":221,"column":44}},"160":{"start":{"line":223,"column":6},"end":{"line":226,"column":7}},"161":{"start":{"line":224,"column":8},"end":{"line":224,"column":50}},"162":{"start":{"line":225,"column":8},"end":{"line":225,"column":108}},"163":{"start":{"line":228,"column":6},"end":{"line":233,"column":7}},"164":{"start":{"line":229,"column":8},"end":{"line":232,"column":9}},"165":{"start":{"line":230,"column":10},"end":{"line":230,"column":47}},"166":{"start":{"line":231,"column":10},"end":{"line":231,"column":83}},"167":{"start":{"line":235,"column":6},"end":{"line":237,"column":7}},"168":{"start":{"line":236,"column":8},"end":{"line":236,"column":25}},"169":{"start":{"line":242,"column":6},"end":{"line":242,"column":24}},"170":{"start":{"line":247,"column":6},"end":{"line":247,"column":42}},"171":{"start":{"line":249,"column":6},"end":{"line":249,"column":104}},"172":{"start":{"line":250,"column":6},"end":{"line":250,"column":110}},"173":{"start":{"line":252,"column":6},"end":{"line":252,"column":33}},"174":{"start":{"line":253,"column":6},"end":{"line":253,"column":46}},"175":{"start":{"line":254,"column":6},"end":{"line":254,"column":36}},"176":{"start":{"line":255,"column":6},"end":{"line":255,"column":55}},"177":{"start":{"line":256,"column":6},"end":{"line":256,"column":98}},"178":{"start":{"line":257,"column":6},"end":{"line":257,"column":92}},"179":{"start":{"line":259,"column":6},"end":{"line":262,"column":9}},"180":{"start":{"line":260,"column":8},"end":{"line":260,"column":63}},"181":{"start":{"line":261,"column":8},"end":{"line":261,"column":84}},"182":{"start":{"line":264,"column":6},"end":{"line":267,"column":9}},"183":{"start":{"line":265,"column":8},"end":{"line":265,"column":60}},"184":{"start":{"line":266,"column":8},"end":{"line":266,"column":86}},"185":{"start":{"line":270,"column":6},"end":{"line":276,"column":9}},"186":{"start":{"line":271,"column":8},"end":{"line":275,"column":9}},"187":{"start":{"line":272,"column":10},"end":{"line":272,"column":88}},"188":{"start":{"line":274,"column":10},"end":{"line":274,"column":17}},"189":{"start":{"line":281,"column":6},"end":{"line":281,"column":24}},"190":{"start":{"line":283,"column":6},"end":{"line":285,"column":24}},"191":{"start":{"line":284,"column":8},"end":{"line":284,"column":31}},"192":{"start":{"line":290,"column":6},"end":{"line":290,"column":24}},"193":{"start":{"line":292,"column":6},"end":{"line":311,"column":17}},"194":{"start":{"line":296,"column":8},"end":{"line":298,"column":11}},"195":{"start":{"line":297,"column":10},"end":{"line":297,"column":45}},"196":{"start":{"line":300,"column":8},"end":{"line":300,"column":120}},"197":{"start":{"line":302,"column":8},"end":{"line":302,"column":75}},"198":{"start":{"line":304,"column":8},"end":{"line":304,"column":96}},"199":{"start":{"line":306,"column":8},"end":{"line":306,"column":84}},"200":{"start":{"line":308,"column":8},"end":{"line":308,"column":122}},"201":{"start":{"line":310,"column":8},"end":{"line":310,"column":63}},"202":{"start":{"line":313,"column":6},"end":{"line":319,"column":17}},"203":{"start":{"line":314,"column":8},"end":{"line":314,"column":84}},"204":{"start":{"line":315,"column":8},"end":{"line":317,"column":9}},"205":{"start":{"line":316,"column":10},"end":{"line":316,"column":72}},"206":{"start":{"line":318,"column":8},"end":{"line":318,"column":65}},"207":{"start":{"line":324,"column":6},"end":{"line":324,"column":24}},"208":{"start":{"line":326,"column":6},"end":{"line":335,"column":9}},"209":{"start":{"line":327,"column":8},"end":{"line":329,"column":11}},"210":{"start":{"line":328,"column":10},"end":{"line":328,"column":20}},"211":{"start":{"line":330,"column":8},"end":{"line":333,"column":11}},"212":{"start":{"line":331,"column":10},"end":{"line":331,"column":49}},"213":{"start":{"line":332,"column":10},"end":{"line":332,"column":20}},"214":{"start":{"line":334,"column":8},"end":{"line":334,"column":47}},"215":{"start":{"line":344,"column":6},"end":{"line":344,"column":63}},"216":{"start":{"line":345,"column":6},"end":{"line":347,"column":7}},"217":{"start":{"line":346,"column":8},"end":{"line":346,"column":71}},"218":{"start":{"line":348,"column":6},"end":{"line":348,"column":47}},"219":{"start":{"line":359,"column":6},"end":{"line":359,"column":47}},"220":{"start":{"line":359,"column":32},"end":{"line":359,"column":47}},"221":{"start":{"line":361,"column":6},"end":{"line":363,"column":7}},"222":{"start":{"line":362,"column":8},"end":{"line":362,"column":88}},"223":{"start":{"line":364,"column":6},"end":{"line":364,"column":59}},"224":{"start":{"line":365,"column":6},"end":{"line":365,"column":69}},"225":{"start":{"line":370,"column":6},"end":{"line":370,"column":24}},"226":{"start":{"line":372,"column":6},"end":{"line":372,"column":51}},"227":{"start":{"line":373,"column":6},"end":{"line":385,"column":10}},"228":{"start":{"line":374,"column":8},"end":{"line":384,"column":9}},"229":{"start":{"line":375,"column":10},"end":{"line":375,"column":91}},"230":{"start":{"line":376,"column":10},"end":{"line":380,"column":11}},"231":{"start":{"line":377,"column":12},"end":{"line":377,"column":53}},"232":{"start":{"line":379,"column":12},"end":{"line":379,"column":47}},"233":{"start":{"line":383,"column":10},"end":{"line":383,"column":18}},"234":{"start":{"line":395,"column":6},"end":{"line":395,"column":94}},"235":{"start":{"line":397,"column":6},"end":{"line":397,"column":38}},"236":{"start":{"line":402,"column":6},"end":{"line":402,"column":25}},"237":{"start":{"line":404,"column":6},"end":{"line":404,"column":43}},"238":{"start":{"line":406,"column":6},"end":{"line":406,"column":24}},"239":{"start":{"line":408,"column":6},"end":{"line":410,"column":9}},"240":{"start":{"line":409,"column":8},"end":{"line":409,"column":94}},"241":{"start":{"line":412,"column":6},"end":{"line":427,"column":9}},"242":{"start":{"line":413,"column":8},"end":{"line":413,"column":130}},"243":{"start":{"line":415,"column":8},"end":{"line":418,"column":9}},"244":{"start":{"line":416,"column":10},"end":{"line":416,"column":32}},"245":{"start":{"line":417,"column":10},"end":{"line":417,"column":31}},"246":{"start":{"line":419,"column":8},"end":{"line":419,"column":74}},"247":{"start":{"line":420,"column":8},"end":{"line":420,"column":31}},"248":{"start":{"line":421,"column":8},"end":{"line":423,"column":11}},"249":{"start":{"line":422,"column":10},"end":{"line":422,"column":66}},"250":{"start":{"line":424,"column":8},"end":{"line":426,"column":11}},"251":{"start":{"line":425,"column":10},"end":{"line":425,"column":59}},"252":{"start":{"line":429,"column":6},"end":{"line":445,"column":9}},"253":{"start":{"line":430,"column":8},"end":{"line":432,"column":9}},"254":{"start":{"line":431,"column":10},"end":{"line":431,"column":17}},"255":{"start":{"line":433,"column":8},"end":{"line":435,"column":9}},"256":{"start":{"line":434,"column":10},"end":{"line":434,"column":31}},"257":{"start":{"line":436,"column":8},"end":{"line":436,"column":63}},"258":{"start":{"line":450,"column":6},"end":{"line":450,"column":36}},"259":{"start":{"line":451,"column":6},"end":{"line":454,"column":7}},"260":{"start":{"line":452,"column":8},"end":{"line":452,"column":61}},"261":{"start":{"line":453,"column":8},"end":{"line":453,"column":15}},"262":{"start":{"line":456,"column":6},"end":{"line":456,"column":29}},"263":{"start":{"line":457,"column":6},"end":{"line":457,"column":45}},"264":{"start":{"line":458,"column":6},"end":{"line":458,"column":43}},"265":{"start":{"line":459,"column":6},"end":{"line":459,"column":43}},"266":{"start":{"line":460,"column":6},"end":{"line":460,"column":51}},"267":{"start":{"line":461,"column":6},"end":{"line":461,"column":41}},"268":{"start":{"line":463,"column":6},"end":{"line":463,"column":24}},"269":{"start":{"line":464,"column":6},"end":{"line":464,"column":23}},"270":{"start":{"line":466,"column":6},"end":{"line":471,"column":7}},"271":{"start":{"line":467,"column":8},"end":{"line":467,"column":115}},"272":{"start":{"line":469,"column":8},"end":{"line":469,"column":87}},"273":{"start":{"line":470,"column":8},"end":{"line":470,"column":18}},"274":{"start":{"line":473,"column":6},"end":{"line":478,"column":9}},"275":{"start":{"line":485,"column":6},"end":{"line":485,"column":35}},"276":{"start":{"line":486,"column":6},"end":{"line":486,"column":25}},"277":{"start":{"line":487,"column":6},"end":{"line":487,"column":33}},"278":{"start":{"line":488,"column":6},"end":{"line":488,"column":45}},"279":{"start":{"line":490,"column":6},"end":{"line":490,"column":33}},"280":{"start":{"line":491,"column":6},"end":{"line":493,"column":7}},"281":{"start":{"line":492,"column":8},"end":{"line":492,"column":15}},"282":{"start":{"line":494,"column":6},"end":{"line":503,"column":9}},"283":{"start":{"line":495,"column":8},"end":{"line":502,"column":9}},"284":{"start":{"line":496,"column":10},"end":{"line":496,"column":76}},"285":{"start":{"line":498,"column":10},"end":{"line":498,"column":59}},"286":{"start":{"line":499,"column":10},"end":{"line":501,"column":11}},"287":{"start":{"line":500,"column":12},"end":{"line":500,"column":49}},"288":{"start":{"line":508,"column":6},"end":{"line":508,"column":25}},"289":{"start":{"line":510,"column":6},"end":{"line":510,"column":66}},"290":{"start":{"line":511,"column":6},"end":{"line":511,"column":38}},"291":{"start":{"line":513,"column":6},"end":{"line":513,"column":36}},"292":{"start":{"line":514,"column":6},"end":{"line":514,"column":30}},"293":{"start":{"line":515,"column":6},"end":{"line":523,"column":9}},"294":{"start":{"line":516,"column":8},"end":{"line":516,"column":46}},"295":{"start":{"line":518,"column":8},"end":{"line":518,"column":42}},"296":{"start":{"line":520,"column":8},"end":{"line":522,"column":9}},"297":{"start":{"line":521,"column":10},"end":{"line":521,"column":28}},"298":{"start":{"line":528,"column":6},"end":{"line":528,"column":46}},"299":{"start":{"line":529,"column":6},"end":{"line":537,"column":7}},"300":{"start":{"line":530,"column":8},"end":{"line":532,"column":9}},"301":{"start":{"line":531,"column":10},"end":{"line":531,"column":43}},"302":{"start":{"line":534,"column":8},"end":{"line":534,"column":77}},"303":{"start":{"line":536,"column":8},"end":{"line":536,"column":49}},"304":{"start":{"line":541,"column":2},"end":{"line":541,"column":23}},"305":{"start":{"line":544,"column":0},"end":{"line":544,"column":31}}},"branchMap":{"1":{"line":5,"type":"if","locations":[{"start":{"line":5,"column":248},"end":{"line":5,"column":248}},{"start":{"line":5,"column":248},"end":{"line":5,"column":248}}]},"2":{"line":5,"type":"binary-expr","locations":[{"start":{"line":5,"column":252},"end":{"line":5,"column":253}},{"start":{"line":5,"column":257},"end":{"line":5,"column":274}}]},"3":{"line":5,"type":"if","locations":[{"start":{"line":5,"column":340},"end":{"line":5,"column":340}},{"start":{"line":5,"column":340},"end":{"line":5,"column":340}}]},"4":{"line":5,"type":"binary-expr","locations":[{"start":{"line":5,"column":344},"end":{"line":5,"column":347}},{"start":{"line":5,"column":351},"end":{"line":5,"column":363}}]},"5":{"line":5,"type":"if","locations":[{"start":{"line":5,"column":393},"end":{"line":5,"column":393}},{"start":{"line":5,"column":393},"end":{"line":5,"column":393}}]},"6":{"line":5,"type":"if","locations":[{"start":{"line":5,"column":457},"end":{"line":5,"column":457}},{"start":{"line":5,"column":457},"end":{"line":5,"column":457}}]},"7":{"line":5,"type":"if","locations":[{"start":{"line":5,"column":502},"end":{"line":5,"column":502}},{"start":{"line":5,"column":502},"end":{"line":5,"column":502}}]},"8":{"line":7,"type":"binary-expr","locations":[{"start":{"line":7,"column":169},"end":{"line":7,"column":190}},{"start":{"line":7,"column":194},"end":{"line":7,"column":199}}]},"9":{"line":7,"type":"if","locations":[{"start":{"line":7,"column":233},"end":{"line":7,"column":233}},{"start":{"line":7,"column":233},"end":{"line":7,"column":233}}]},"10":{"line":7,"type":"if","locations":[{"start":{"line":7,"column":408},"end":{"line":7,"column":408}},{"start":{"line":7,"column":408},"end":{"line":7,"column":408}}]},"11":{"line":7,"type":"if","locations":[{"start":{"line":7,"column":477},"end":{"line":7,"column":477}},{"start":{"line":7,"column":477},"end":{"line":7,"column":477}}]},"12":{"line":9,"type":"cond-expr","locations":[{"start":{"line":9,"column":70},"end":{"line":9,"column":73}},{"start":{"line":9,"column":76},"end":{"line":9,"column":94}}]},"13":{"line":9,"type":"binary-expr","locations":[{"start":{"line":9,"column":46},"end":{"line":9,"column":49}},{"start":{"line":9,"column":53},"end":{"line":9,"column":67}}]},"14":{"line":11,"type":"if","locations":[{"start":{"line":11,"column":346},"end":{"line":11,"column":346}},{"start":{"line":11,"column":346},"end":{"line":11,"column":346}}]},"15":{"line":13,"type":"if","locations":[{"start":{"line":13,"column":50},"end":{"line":13,"column":50}},{"start":{"line":13,"column":50},"end":{"line":13,"column":50}}]},"16":{"line":87,"type":"if","locations":[{"start":{"line":87,"column":4},"end":{"line":87,"column":4}},{"start":{"line":87,"column":4},"end":{"line":87,"column":4}}]},"17":{"line":87,"type":"binary-expr","locations":[{"start":{"line":87,"column":8},"end":{"line":87,"column":17}},{"start":{"line":87,"column":21},"end":{"line":87,"column":38}},{"start":{"line":87,"column":42},"end":{"line":87,"column":73}}]},"18":{"line":108,"type":"if","locations":[{"start":{"line":108,"column":4},"end":{"line":108,"column":4}},{"start":{"line":108,"column":4},"end":{"line":108,"column":4}}]},"19":{"line":127,"type":"if","locations":[{"start":{"line":127,"column":12},"end":{"line":127,"column":12}},{"start":{"line":127,"column":12},"end":{"line":127,"column":12}}]},"20":{"line":157,"type":"if","locations":[{"start":{"line":157,"column":6},"end":{"line":157,"column":6}},{"start":{"line":157,"column":6},"end":{"line":157,"column":6}}]},"21":{"line":170,"type":"binary-expr","locations":[{"start":{"line":170,"column":11},"end":{"line":170,"column":52}},{"start":{"line":170,"column":56},"end":{"line":170,"column":58}}]},"22":{"line":173,"type":"if","locations":[{"start":{"line":173,"column":12},"end":{"line":173,"column":12}},{"start":{"line":173,"column":12},"end":{"line":173,"column":12}}]},"23":{"line":228,"type":"if","locations":[{"start":{"line":228,"column":6},"end":{"line":228,"column":6}},{"start":{"line":228,"column":6},"end":{"line":228,"column":6}}]},"24":{"line":235,"type":"if","locations":[{"start":{"line":235,"column":6},"end":{"line":235,"column":6}},{"start":{"line":235,"column":6},"end":{"line":235,"column":6}}]},"25":{"line":271,"type":"if","locations":[{"start":{"line":271,"column":8},"end":{"line":271,"column":8}},{"start":{"line":271,"column":8},"end":{"line":271,"column":8}}]},"26":{"line":308,"type":"binary-expr","locations":[{"start":{"line":308,"column":51},"end":{"line":308,"column":92}},{"start":{"line":308,"column":96},"end":{"line":308,"column":105}}]},"27":{"line":315,"type":"if","locations":[{"start":{"line":315,"column":8},"end":{"line":315,"column":8}},{"start":{"line":315,"column":8},"end":{"line":315,"column":8}}]},"28":{"line":345,"type":"if","locations":[{"start":{"line":345,"column":6},"end":{"line":345,"column":6}},{"start":{"line":345,"column":6},"end":{"line":345,"column":6}}]},"29":{"line":359,"type":"if","locations":[{"start":{"line":359,"column":6},"end":{"line":359,"column":6}},{"start":{"line":359,"column":6},"end":{"line":359,"column":6}}]},"30":{"line":361,"type":"if","locations":[{"start":{"line":361,"column":6},"end":{"line":361,"column":6}},{"start":{"line":361,"column":6},"end":{"line":361,"column":6}}]},"31":{"line":376,"type":"if","locations":[{"start":{"line":376,"column":10},"end":{"line":376,"column":10}},{"start":{"line":376,"column":10},"end":{"line":376,"column":10}}]},"32":{"line":377,"type":"binary-expr","locations":[{"start":{"line":377,"column":39},"end":{"line":377,"column":45}},{"start":{"line":377,"column":49},"end":{"line":377,"column":51}}]},"33":{"line":395,"type":"cond-expr","locations":[{"start":{"line":395,"column":73},"end":{"line":395,"column":78}},{"start":{"line":395,"column":81},"end":{"line":395,"column":93}}]},"34":{"line":395,"type":"binary-expr","locations":[{"start":{"line":395,"column":19},"end":{"line":395,"column":40}},{"start":{"line":395,"column":44},"end":{"line":395,"column":70}}]},"35":{"line":409,"type":"cond-expr","locations":[{"start":{"line":409,"column":61},"end":{"line":409,"column":70}},{"start":{"line":409,"column":73},"end":{"line":409,"column":81}}]},"36":{"line":413,"type":"binary-expr","locations":[{"start":{"line":413,"column":46},"end":{"line":413,"column":72}},{"start":{"line":413,"column":76},"end":{"line":413,"column":129}}]},"37":{"line":415,"type":"if","locations":[{"start":{"line":415,"column":8},"end":{"line":415,"column":8}},{"start":{"line":415,"column":8},"end":{"line":415,"column":8}}]},"38":{"line":430,"type":"if","locations":[{"start":{"line":430,"column":8},"end":{"line":430,"column":8}},{"start":{"line":430,"column":8},"end":{"line":430,"column":8}}]},"39":{"line":433,"type":"if","locations":[{"start":{"line":433,"column":8},"end":{"line":433,"column":8}},{"start":{"line":433,"column":8},"end":{"line":433,"column":8}}]},"40":{"line":451,"type":"if","locations":[{"start":{"line":451,"column":6},"end":{"line":451,"column":6}},{"start":{"line":451,"column":6},"end":{"line":451,"column":6}}]},"41":{"line":451,"type":"binary-expr","locations":[{"start":{"line":451,"column":10},"end":{"line":451,"column":26}},{"start":{"line":451,"column":30},"end":{"line":451,"column":85}}]},"42":{"line":491,"type":"if","locations":[{"start":{"line":491,"column":6},"end":{"line":491,"column":6}},{"start":{"line":491,"column":6},"end":{"line":491,"column":6}}]},"43":{"line":495,"type":"if","locations":[{"start":{"line":495,"column":8},"end":{"line":495,"column":8}},{"start":{"line":495,"column":8},"end":{"line":495,"column":8}}]},"44":{"line":499,"type":"if","locations":[{"start":{"line":499,"column":10},"end":{"line":499,"column":10}},{"start":{"line":499,"column":10},"end":{"line":499,"column":10}}]},"45":{"line":520,"type":"if","locations":[{"start":{"line":520,"column":8},"end":{"line":520,"column":8}},{"start":{"line":520,"column":8},"end":{"line":520,"column":8}}]},"46":{"line":530,"type":"if","locations":[{"start":{"line":530,"column":8},"end":{"line":530,"column":8}},{"start":{"line":530,"column":8},"end":{"line":530,"column":8}}]}},"code":["Object.defineProperty(exports, '__esModule', {","  value: true","});","","var _slicedToArray = (function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i['return']) _i['return'](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError('Invalid attempt to destructure non-iterable instance'); } }; })();","","var _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();","","function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }","","function _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { var callNext = step.bind(null, 'next'); var callThrow = step.bind(null, 'throw'); function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(callNext, callThrow); } } callNext(); }); }; }","","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }","","var _config = require('./config');","","var _assert = require('assert');","","var _assert2 = _interopRequireDefault(_assert);","","var _serviceframework = require('./serviceframework');","","var _serviceframework2 = _interopRequireDefault(_serviceframework);","","var _nuclideLogging = require('nuclide-logging');","","'use babel';","","/*"," * Copyright (c) 2015-present, Facebook, Inc."," * All rights reserved."," *"," * This source code is licensed under the license found in the LICENSE file in"," * the root directory of this source tree."," */","","var blocked = require('./blocked');","var connect = require('connect');","","var _require = require('./service-manager');","","var getService = _require.getService;","var getRemoteEventName = _require.getRemoteEventName;","","var http = require('http');","var https = require('https');","","var _require2 = require('nuclide-service-transformer');","","var parseServiceApiSync = _require2.parseServiceApiSync;","","var _require3 = require('events');","","var EventEmitter = _require3.EventEmitter;","","var WebSocketServer = require('ws').Server;","","var _require4 = require('./utils');","","var deserializeArgs = _require4.deserializeArgs;","var sendJsonResponse = _require4.sendJsonResponse;","var sendTextResponse = _require4.sendTextResponse;","","var _require5 = require('nuclide-version');","","var getVersion = _require5.getVersion;","","var logger = (0, _nuclideLogging.getLogger)();","","var EVENT_HANDLE_REGISTERED = '_nuclideServerEventHandleRegstered';","","var NuclideServer = (function () {","  function NuclideServer(options) {","    _classCallCheck(this, NuclideServer);","","    (0, _assert2['default'])(NuclideServer._theServer == null);","    NuclideServer._theServer = this;","","    var serverKey = options.serverKey;","    var serverCertificate = options.serverCertificate;","    var port = options.port;","    var certificateAuthorityCertificate = options.certificateAuthorityCertificate;","    var trackEventLoop = options.trackEventLoop;","","    this._app = connect();","    this._attachUtilHandlers(this._app);","    if (serverKey && serverCertificate && certificateAuthorityCertificate) {","      var webServerOptions = {","        key: serverKey,","        cert: serverCertificate,","        ca: certificateAuthorityCertificate,","        requestCert: true,","        rejectUnauthorized: true","      };","","      this._webServer = https.createServer(webServerOptions, this._app);","    } else {","      this._webServer = http.createServer(this._app);","    }","    this._port = port;","","    this._webSocketServer = this._createWebSocketServer();","    this._clients = {};","    this._eventSubscriptions = new Map();","","    this._setupServices(); // Setup 1.0 and 2.0 services.","","    if (trackEventLoop) {","      blocked(function (ms) {","        logger.info('NuclideServer event loop blocked for ' + ms + 'ms');","      });","    }","","    // Setup 3.0 services.","    this._serverComponent = new _serviceframework2['default'].ServerComponent(this);","  }","","  _createClass(NuclideServer, [{","    key: '_attachUtilHandlers',","    value: function _attachUtilHandlers(app) {","      var _this = this;","","      // Add specific method handlers.","      ['get', 'post', 'delete', 'put'].forEach(function (methodName) {","        _this._app[methodName] = function (uri, handler) {","          _this._app.use(uri, function (request, response, next) {","            if (request.method.toUpperCase() !== methodName.toUpperCase()) {","              // skip if method doesn't match.","              return next();","            } else {","              handler(request, response, next);","            }","          });","        };","      });","    }","  }, {","    key: '_createWebSocketServer',","    value: function _createWebSocketServer() {","      var _this2 = this;","","      var webSocketServer = new WebSocketServer({ server: this._webServer });","      webSocketServer.on('connection', function (socket) {","        return _this2._onConnection(socket);","      });","      webSocketServer.on('error', function (error) {","        return logger.error('WebSocketServer Error:', error);","      });","      return webSocketServer;","    }","  }, {","    key: '_getServiceFrameworkServiceAndRegisterEventHandle',","    value: function _getServiceFrameworkServiceAndRegisterEventHandle(serviceConfig, serviceOptions) {","      var _this3 = this;","","      var localServiceInstance = getService(serviceConfig.name, serviceOptions, serviceConfig.implementation);","      if (localServiceInstance[EVENT_HANDLE_REGISTERED]) {","        return localServiceInstance;","      }","","      var serviceApi = parseServiceApiSync(serviceConfig.definition, serviceConfig.name);","","      serviceApi.eventMethodNames.forEach(function (methodName) {","        localServiceInstance[methodName].call(localServiceInstance, function () {","          for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {","            args[_key] = arguments[_key];","          }","","          var eventName = getRemoteEventName(serviceConfig.name, methodName, serviceOptions);","          (_this3._eventSubscriptions.get(eventName) || []).forEach(function (clientId) {","            var client = _this3._clients[clientId];","","            if (!client) {","              logger.warn('Client with clientId: %s not found!', clientId);","              return;","            }","","            _this3._sendSocketMessage(client, {","              channel: _config.SERVICE_FRAMEWORK_EVENT_CHANNEL,","              event: {","                name: eventName,","                args: args","              }","            });","          });","        });","      });","      Object.defineProperty(localServiceInstance, EVENT_HANDLE_REGISTERED, { value: true });","","      return localServiceInstance;","    }","  }, {","    key: '_registerServiceWithServiceFramework',","    value: function _registerServiceWithServiceFramework(serviceConfig) {","      var _this4 = this;","","      var serviceApi = parseServiceApiSync(serviceConfig.definition, serviceConfig.name);","","      serviceApi.rpcMethodNames.forEach(function (methodName) {","        _this4._registerService('/' + serviceApi.className + '/' + methodName,","","        // Take serviceOptions as first argument for serviceFramework service.","        // TODO(chenshen) seperate the logic of service initialization.","        function (serviceOptions) {","          for (var _len2 = arguments.length, args = Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {","            args[_key2 - 1] = arguments[_key2];","          }","","          var localServiceInstance = _this4._getServiceFrameworkServiceAndRegisterEventHandle(serviceConfig, serviceOptions);","          return localServiceInstance[methodName].apply(localServiceInstance, args);","        }, 'post');","      });","    }","  }, {","    key: '_registerServiceWithoutServiceFramework',","    value: function _registerServiceWithoutServiceFramework(serviceFilePath) {","      var _require6 = require(serviceFilePath);","","      var urlHandlers = _require6.urlHandlers;","      var services = _require6.services;","      var initialize = _require6.initialize;","","      for (var serviceName in services) {","        var serviceConfig = services[serviceName];","        this._registerService(serviceName, serviceConfig.handler, serviceConfig.method, serviceConfig.text);","      }","","      if (urlHandlers) {","        for (var url in urlHandlers) {","          var handlerConfig = urlHandlers[url];","          this._attachUrlHandler(url, handlerConfig.handler, handlerConfig.method);","        }","      }","","      if (initialize) {","        initialize(this);","      }","    }","  }, {","    key: '_setupServices',","    value: function _setupServices() {","      var _this5 = this;","","      // Lazy require these functions so that we could spyOn them while testing in","      // ServiceIntegrationTestHelper.","","      var _require7 = require('./config');","","      var loadConfigsOfServiceWithServiceFramework = _require7.loadConfigsOfServiceWithServiceFramework;","      var loadConfigsOfServiceWithoutServiceFramework = _require7.loadConfigsOfServiceWithoutServiceFramework;","","      this._serviceRegistry = {};","      this._version = getVersion().toString();","      this._setupHeartbeatHandler();","      this._setupServiceFrameworkSubscriptionHandler();","      this._serviceWithoutServiceFrameworkConfigs = loadConfigsOfServiceWithoutServiceFramework();","      this._serviceWithServiceFrameworkConfigs = loadConfigsOfServiceWithServiceFramework();","","      this._serviceWithoutServiceFrameworkConfigs.forEach(function (config) {","        _this5._registerServiceWithoutServiceFramework(config);","        logger.debug('Registered service ' + config + ' without ServiceFramework.');","      });","","      this._serviceWithServiceFrameworkConfigs.forEach(function (config) {","        _this5._registerServiceWithServiceFramework(config);","        logger.debug('Registered service ' + config.name + ' with ServiceFramework.');","      });","","      // Setup error handler.","      this._app.use(function (error, request, response, next) {","        if (error) {","          sendJsonResponse(response, { code: error.code, message: error.message }, 500);","        } else {","          next();","        }","      });","    }","  }, {","    key: '_setupHeartbeatHandler',","    value: function _setupHeartbeatHandler() {","      var _this6 = this;","","      this._registerService('/' + _config.HEARTBEAT_CHANNEL, _asyncToGenerator(function* () {","        return _this6._version;","      }), 'post', true);","    }","  }, {","    key: '_setupServiceFrameworkSubscriptionHandler',","    value: function _setupServiceFrameworkSubscriptionHandler() {","      var _this7 = this;","","      this._registerService('/serviceFramework/subscribeEvent', function (serviceOptions, clientId, serviceName, methodName) {","","        // Create the service instance and register the event handle.","","        var _serviceWithServiceFrameworkConfigs$filter = _this7._serviceWithServiceFrameworkConfigs.filter(function (config) {","          return config.name === serviceName;","        });","","        var _serviceWithServiceFrameworkConfigs$filter2 = _slicedToArray(_serviceWithServiceFrameworkConfigs$filter, 1);","","        var serviceConfig = _serviceWithServiceFrameworkConfigs$filter2[0];","","        _this7._getServiceFrameworkServiceAndRegisterEventHandle(serviceConfig, serviceOptions);","","        var eventName = getRemoteEventName(serviceName, methodName, serviceOptions);","","        _this7._eventSubscriptions.set(eventName, (_this7._eventSubscriptions.get(eventName) || new Set()).add(clientId));","","        logger.debug(clientId + ' subscribed to ' + eventName);","      }, 'post');","","      this._registerService('/serviceFramework/unsubscribeEvent', function (serviceOptions, clientId, serviceName, methodName) {","        var eventName = getRemoteEventName(serviceName, methodName, serviceOptions);","        if (_this7._eventSubscriptions.has(eventName)) {","          _this7._eventSubscriptions.get(eventName)['delete'](clientId);","        }","        logger.debug(clientId + ' unsubscribed to ' + eventName);","      }, 'post');","    }","  }, {","    key: 'connect',","    value: function connect() {","      var _this8 = this;","","      return new Promise(function (resolve, reject) {","        _this8._webServer.on('listening', function () {","          resolve();","        });","        _this8._webServer.on('error', function (e) {","          _this8._webServer.removeAllListeners();","          reject(e);","        });","        _this8._webServer.listen(_this8._port);","      });","    }","","    /**","     * Calls a registered service with a name and arguments.","     */","  }, {","    key: 'callService',","    value: function callService(serviceName, args) {","      var serviceFunction = this._serviceRegistry[serviceName];","      if (!serviceFunction) {","        throw Error('No service registered with name: ' + serviceName);","      }","      return serviceFunction.apply(this, args);","    }","","    /**","     * Registers a service function to a service name.","     * This allows simple future calls of the service by name and arguments or http-triggered endpoint calls","     * with arguments serialized over http.","     */","  }, {","    key: '_registerService',","    value: function _registerService(serviceName, serviceFunction, method, isTextResponse) {","      if (method === undefined) method = 'get';","","      if (this._serviceRegistry[serviceName]) {","        throw new Error('A service with this name is already registered:', serviceName);","      }","      this._serviceRegistry[serviceName] = serviceFunction;","      this._registerHttpService(serviceName, method, isTextResponse);","    }","  }, {","    key: '_registerHttpService',","    value: function _registerHttpService(serviceName, method, isTextResponse) {","      var _this9 = this;","","      var loweredCaseMethod = method.toLowerCase();","      this._app[loweredCaseMethod](serviceName, _asyncToGenerator(function* (request, response, next) {","        try {","          var result = yield _this9.callService(serviceName, deserializeArgs(request.url));","          if (isTextResponse) {","            sendTextResponse(response, result || '');","          } else {","            sendJsonResponse(response, result);","          }","        } catch (e) {","          // Delegate to the registered connect error handler.","          next(e);","        }","      }));","    }","","    /**","     * Attach an explicit http connect handler for some services that need request/response related optimizations.","     * e.g. readFile and writeFile uses it to stream reading and writing files (perf improvement for big files).","     */","  }, {","    key: '_attachUrlHandler',","    value: function _attachUrlHandler(url, handler) {","      var method = arguments.length <= 2 || arguments[2] === undefined ? 'get' : arguments[2];","","      this._app[method](url, handler);","    }","  }, {","    key: '_onConnection',","    value: function _onConnection(socket) {","      var _this10 = this;","","      logger.debug('WebSocket connecting');","","      var client = null;","","      socket.on('error', function (e) {","        return logger.error('Client #%s error: %s', client ? client.id : 'unkown', e.message);","      });","","      socket.once('message', function (clientId) {","        client = _this10._clients[clientId] = _this10._clients[clientId] || { subscriptions: {}, id: clientId, messageQueue: [] };","        // If an existing client, we close its socket before listening to the new socket.","        if (client.socket) {","          client.socket.close();","          client.socket = null;","        }","        logger.info('Client #%s connecting with a new socket!', clientId);","        client.socket = socket;","        client.messageQueue.splice(0).forEach(function (message) {","          return _this10._sendSocketMessage(client, message.data);","        });","        socket.on('message', function (message) {","          return _this10._onSocketMessage(client, message);","        });","      });","","      socket.on('close', function () {","        if (!client) {","          return;","        }","        if (client.socket === socket) {","          client.socket = null;","        }","        logger.info('Client #%s closing a socket!', client.id);","        // TODO: enable subscription cleanup when we have a robust reconnect scenario.","        /*","        for (var channel in client.subscriptions) {","          this.unsubscribe(channel, subscriptions[channel]);","        }","        this._eventSubscriptions.forEach(value => value.delete(client.id));","        delete this._clients[client.id];","        */","      });","    }","  }, {","    key: '_onSocketMessage',","    value: _asyncToGenerator(function* (client, message) {","      message = JSON.parse(message);","      if (message.protocol && message.protocol === _config.SERVICE_FRAMEWORK3_CHANNEL) {","        this._serverComponent.handleMessage(client, message);","        return;","      }","","      var _message = message;","      var serviceName = _message.serviceName;","      var methodName = _message.methodName;","      var methodArgs = _message.methodArgs;","      var serviceOptions = _message.serviceOptions;","      var requestId = _message.requestId;","","      var result = null;","      var error = null;","","      try {","        result = yield this.callService('/' + serviceName + '/' + methodName, [serviceOptions].concat(methodArgs));","      } catch (e) {","        logger.error('Failed to call %s/%s with error %o', serviceName, methodName, e);","        error = e;","      }","","      this._sendSocketMessage(client, {","        channel: _config.SERVICE_FRAMEWORK_RPC_CHANNEL,","        requestId: requestId,","        result: result,","        error: error","      });","    })","  }, {","    key: '_sendSocketMessage',","    value: function _sendSocketMessage(client, data) {","      // Wrap the data in an object, because if `data` is a primitive data type,","      // finding it in an array would return the first matching item, not necessarily the same inserted item.","      var message = { data: data };","      var id = client.id;","      var socket = client.socket;","      var messageQueue = client.messageQueue;","","      messageQueue.push(message);","      if (!socket) {","        return;","      }","      socket.send(JSON.stringify(data), function (err) {","        if (err) {","          logger.warn('Failed sending socket message to client:', id, data);","        } else {","          var messageIndex = messageQueue.indexOf(message);","          if (messageIndex !== -1) {","            messageQueue.splice(messageIndex, 1);","          }","        }","      });","    }","  }, {","    key: 'close',","    value: function close() {","      var _this11 = this;","","      (0, _assert2['default'])(NuclideServer._theServer === this);","      NuclideServer._theServer = null;","","      this._webSocketServer.close();","      this._webServer.close();","      this._serviceWithoutServiceFrameworkConfigs.forEach(function (service_path) {","        var _require8 = require(service_path);","","        var shutdown = _require8.shutdown;","","        if (shutdown) {","          shutdown(_this11);","        }","      });","    }","  }], [{","    key: 'shutdown',","    value: function shutdown() {","      logger.info('Shutting down the server');","      try {","        if (NuclideServer._theServer != null) {","          NuclideServer._theServer.close();","        }","      } catch (e) {","        logger.error('Error while shutting down, but proceeding anyway:', e);","      } finally {","        (0, _nuclideLogging.flushLogsAndExit)(0);","      }","    }","  }]);","","  return NuclideServer;","})();","","module.exports = NuclideServer;","/* eventName */ /* clientId */","//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi92YXIvZm9sZGVycy94Zi9yc3BoNF9jNTczMTVyczU3eHhzZHNrcnhudjM2dDAvVC90bXBwZmw1Mm5wdWJsaXNoX3BhY2thZ2VzL25wbS9udWNsaWRlLXNlcnZlci9saWIvTnVjbGlkZVNlcnZlci5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7OztzQkFxQm1DLFVBQVU7O3NCQU92QixRQUFROzs7O2dDQUNELG9CQUFvQjs7Ozs4QkFFUCxpQkFBaUI7O0FBL0IzRCxXQUFXLENBQUM7Ozs7Ozs7Ozs7QUFXWixJQUFNLE9BQU8sR0FBRyxPQUFPLENBQUMsV0FBVyxDQUFDLENBQUM7QUFDckMsSUFBTSxPQUFPLEdBQUcsT0FBTyxDQUFDLFNBQVMsQ0FBQyxDQUFDOztlQUVNLE9BQU8sQ0FBQyxtQkFBbUIsQ0FBQzs7SUFBOUQsVUFBVSxZQUFWLFVBQVU7SUFBRSxrQkFBa0IsWUFBbEIsa0JBQWtCOztBQUNyQyxJQUFNLElBQUksR0FBRyxPQUFPLENBQUMsTUFBTSxDQUFDLENBQUM7QUFDN0IsSUFBTSxLQUFLLEdBQUcsT0FBTyxDQUFDLE9BQU8sQ0FBQyxDQUFDOztnQkFNRCxPQUFPLENBQUMsNkJBQTZCLENBQUM7O0lBQTdELG1CQUFtQixhQUFuQixtQkFBbUI7O2dCQUVILE9BQU8sQ0FBQyxRQUFRLENBQUM7O0lBQWpDLFlBQVksYUFBWixZQUFZOztBQUNuQixJQUFNLGVBQWUsR0FBRyxPQUFPLENBQUMsSUFBSSxDQUFDLENBQUMsTUFBTSxDQUFDOztnQkFDaUIsT0FBTyxDQUFDLFNBQVMsQ0FBQzs7SUFBekUsZUFBZSxhQUFmLGVBQWU7SUFBRSxnQkFBZ0IsYUFBaEIsZ0JBQWdCO0lBQUUsZ0JBQWdCLGFBQWhCLGdCQUFnQjs7Z0JBQ3JDLE9BQU8sQ0FBQyxpQkFBaUIsQ0FBQzs7SUFBeEMsVUFBVSxhQUFWLFVBQVU7O0FBS2pCLElBQU0sTUFBTSxHQUFHLG9CQURQLFNBQVMsR0FDUyxDQUFDOztBQUszQixJQUFNLHVCQUF1QixH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Q0FBQyxDQUFDLENBQUM7T0FDdEUsU0FBUztBQUNSLDRCQWhPYSxnQkFBZ0IsRUFnT1osQ0FBQyxDQUFDLENBQUM7T0FDckI7S0FDRjs7O1NBck1HLGFBQWE7OztBQWtabkIsTUFBTSxDQUFDLE9BQU8sR0FBRyxhQUFhLENBQUMiLCJmaWxlIjoiL3Zhci9mb2xkZXJzL3hmL3JzcGg0X2M1NzMxNXJzNTd4eHNkc2tyeG52MzZ0MC9UL3RtcHBmbDUybnB1Ymxpc2hfcGFja2FnZXMvbnBtL251Y2xpZGUtc2VydmVyL2xpYi9OdWNsaWRlU2VydmVyLmpzIiwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBiYWJlbCc7XG4vKiBAZmxvdyAqL1xuXG4vKlxuICogQ29weXJpZ2h0IChjKSAyMDE1LXByZXNlbnQsIEZhY2Vib29rLCBJbmMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIGxpY2Vuc2UgZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBpblxuICogdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKi9cblxuY29uc3QgYmxvY2tlZCA9IHJlcXVpcmUoJy4vYmxvY2tlZCcpO1xuY29uc3QgY29ubmVjdCA9IHJlcXVpcmUoJ2Nvbm5lY3QnKTtcblxuY29uc3Qge2dldFNlcnZpY2UsIGdldFJlbW90ZUV2ZW50TmFtZX0gPSByZXF1aXJlKCcuL3NlcnZpY2UtbWFuYWdlcicpO1xuY29uc3QgaHR0cCA9IHJlcXVpcmUoJ2h0dHAnKTtcbmNvbnN0IGh0dHBzID0gcmVxdWlyZSgnaHR0cHMnKTtcbmltcG9ydCB7XG4gIEhFQVJUQkVBVF9DSEFOTkVMLFxuICBTRVJWSUNFX0ZSQU1FV09SS19FVkVOVF9DSEFOTkVMLFxuICBTRVJWSUNFX0ZSQU1FV09SS19SUENfQ0hBTk5FTCxcbiAgU0VSVklDRV9GUkFNRVdPUkszX0NIQU5ORUx9IGZyb20gJy4vY29uZmlnJztcbmNvbnN0IHtwYXJzZVNlcnZpY2VBcGlTeW5jfSA9IHJlcXVpcmUoJ251Y2xpZGUtc2VydmljZS10cmFuc2Zvcm1lcicpO1xuXG5jb25zdCB7RXZlbnRFbWl0dGVyfSA9IHJlcXVpcmUoJ2V2ZW50cycpO1xuY29uc3QgV2ViU29ja2V0U2VydmVyID0gcmVxdWlyZSgnd3MnKS5TZXJ2ZXI7XG5jb25zdCB7ZGVzZXJpYWxpemVBcmdzLCBzZW5kSnNvblJlc3BvbnNlLCBzZW5kVGV4dFJlc3BvbnNlfSA9IHJlcXVpcmUoJy4vdXRpbHMnKTtcbmNvbnN0IHtnZXRWZXJzaW9ufSA9IHJlcXVpcmUoJ251Y2xpZGUtdmVyc2lvbicpO1xuaW1wb3J0IGludmFyaWFudCBmcm9tICdhc3NlcnQnO1xuaW1wb3J0IFNlcnZpY2VGcmFtZXdvcmsgZnJvbSAnLi9zZXJ2aWNlZnJhbWV3b3JrJztcblxuaW1wb3J0IHtnZXRMb2dnZXIsIGZsdXNoTG9nc0FuZEV4aXR9IGZyb20gJ251Y2xpZGUtbG9nZ2luZyc7XG5jb25zdCBsb2dnZXIgPSBnZXRMb2dnZXIoKTtcblxuXG5cblxuY29uc3QgRVZFTlRfSEFORExFX1JFR0lTVEVSRUQgPSAnX251Y2xpZGVTZXJ2ZXJFdmVudEhhbmRsZVJlZ3N0ZXJlZCc7XG5cblxudHlwZSBOdWNsaWRlU2VydmVyT3B0aW9ucyA9IHtcbiAgcG9ydDogbnVtYmVyO1xuICBzZXJ2ZXJLZXk6ID9CdWZmZXI7XG4gIHNlcnZlckNlcnRpZmljYXRlOiA/QnVmZmVyO1xuICBjZXJ0aWZpY2F0ZUF1dGhvcml0eUNlcnRpZmljYXRlOiA/QnVmZmVyO1xuICB0cmFja0V2ZW50TG9vcDogP2Jvb2xlYW47XG59XG5cbmV4cG9ydCB0eXBlIFNvY2tldENsaWVudCA9IHtcbiAgaWQ6IHN0cmluZztcbiAgc3Vic2NyaXB0aW9uczoge1tjaGFubmVsOiBzdHJpbmddOiAoZXZlbnQ6IGFueSkgPT4gdm9pZH07XG4gIHNvY2tldDogP1dlYlNvY2tldDtcbn07XG5cbnR5cGUgU2VydmljZUNvbmZpZyA9IHtcbiAgbmFtZTogc3RyaW5nO1xuICBkZWZpbml0aW9uOiBzdHJpbmc7XG4gIGltcGxlbWVudGF0aW9uOiBzdHJpbmc7XG59XG5cbmNsYXNzIE51Y2xpZGVTZXJ2ZXIge1xuICBzdGF0aWMgX3RoZVNlcnZlcjogP051Y2xpZGVTZXJ2ZXI7XG5cbiAgX3dlYlNlcnZlcjogaHR0cC5TZXJ2ZXIgfCBodHRwcy5TZXJ2ZXI7XG4gIF93ZWJTb2NrZXRTZXJ2ZXI6IFdlYlNvY2tldFNlcnZlcjtcbiAgX2NsaWVudHM6IHtbY2xpZW50SWQ6IHN0cmluZ106IFNvY2tldENsaWVudH07XG4gIF9ldmVudFN1YnNjcmlwdGlvbnM6IE1hcDwvKiBldmVudE5hbWUgKi8gc3RyaW5nLCBTZXQ8LyogY2xpZW50SWQgKi8gc3RyaW5nPj47XG4gIF9wb3J0OiBudW1iZXI7XG4gIF9zZXJ2aWNlV2l0aG91dFNlcnZpY2VGcmFtZXdvcmtDb25maWdzOiBBcnJheTxzdHJpbmc+O1xuICBfc2VydmljZVdpdGhTZXJ2aWNlRnJhbWV3b3JrQ29uZmlnczogQXJyYXk8YW55PjtcblxuICBfc2VydmVyQ29tcG9uZW50OiBTZXJ2aWNlRnJhbWV3b3JrLlNlcnZlckNvbXBvbmVudDtcblxuICBjb25zdHJ1Y3RvcihvcHRpb25zOiBOdWNsaWRlU2VydmVyT3B0aW9ucykge1xuICAgIGludmFyaWFudChOdWNsaWRlU2VydmVyLl90aGVTZXJ2ZXIgPT0gbnVsbCk7XG4gICAgTnVjbGlkZVNlcnZlci5fdGhlU2VydmVyID0gdGhpcztcblxuICAgIGNvbnN0IHtzZXJ2ZXJLZXksIHNlcnZlckNlcnRpZmljYXRlLCBwb3J0LCBjZXJ0aWZpY2F0ZUF1dGhvcml0eUNlcnRpZmljYXRlLCB0cmFja0V2ZW50TG9vcH0gPSBvcHRpb25zO1xuXG4gICAgdGhpcy5fYXBwID0gY29ubmVjdCgpO1xuICAgIHRoaXMuX2F0dGFjaFV0aWxIYW5kbGVycyh0aGlzLl9hcHApO1xuICAgIGlmIChzZXJ2ZXJLZXkgJiYgc2VydmVyQ2VydGlmaWNhdGUgJiYgY2VydGlmaWNhdGVBdXRob3JpdHlDZXJ0aWZpY2F0ZSkge1xuICAgICAgY29uc3Qgd2ViU2VydmVyT3B0aW9ucyA9IHtcbiAgICAgICAga2V5OiBzZXJ2ZXJLZXksXG4gICAgICAgIGNlcnQ6IHNlcnZlckNlcnRpZmljYXRlLFxuICAgICAgICBjYTogY2VydGlmaWNhdGVBdXRob3JpdHlDZXJ0aWZpY2F0ZSxcbiAgICAgICAgcmVxdWVzdENlcnQ6IHRydWUsXG4gICAgICAgIHJlamVjdFVuYXV0aG9yaXplZDogdHJ1ZSxcbiAgICAgIH07XG5cbiAgICAgIHRoaXMuX3dlYlNlcnZlciA9IGh0dHBzLmNyZWF0ZVNlcnZlcih3ZWJTZXJ2ZXJPcHRpb25zLCB0aGlzLl9hcHApO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl93ZWJTZXJ2ZXIgPSBodHRwLmNyZWF0ZVNlcnZlcih0aGlzLl9hcHApO1xuICAgIH1cbiAgICB0aGlzLl9wb3J0ID0gcG9ydDtcblxuICAgIHRoaXMuX3dlYlNvY2tldFNlcnZlciA9IHRoaXMuX2NyZWF0ZVdlYlNvY2tldFNlcnZlcigpO1xuICAgIHRoaXMuX2NsaWVudHMgPSB7fTtcbiAgICB0aGlzLl9ldmVudFN1YnNjcmlwdGlvbnMgPSBuZXcgTWFwKCk7XG5cbiAgICB0aGlzLl9zZXR1cFNlcnZpY2VzKCk7IC8vIFNldHVwIDEuMCBhbmQgMi4wIHNlcnZpY2VzLlxuXG4gICAgaWYgKHRyYWNrRXZlbnRMb29wKSB7XG4gICAgICBibG9ja2VkKChtczogbnVtYmVyKSA9PiB7XG4gICAgICAgIGxvZ2dlci5pbmZvKCdOdWNsaWRlU2VydmVyIGV2ZW50IGxvb3AgYmxvY2tlZCBmb3IgJyArIG1zICsgJ21zJyk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvLyBTZXR1cCAzLjAgc2VydmljZXMuXG4gICAgdGhpcy5fc2VydmVyQ29tcG9uZW50ID0gbmV3IFNlcnZpY2VGcmFtZXdvcmsuU2VydmVyQ29tcG9uZW50KHRoaXMpO1xuICB9XG5cbiAgX2F0dGFjaFV0aWxIYW5kbGVycyhhcHApIHtcbiAgICAvLyBBZGQgc3BlY2lmaWMgbWV0aG9kIGhhbmRsZXJzLlxuICAgIFsnZ2V0JywgJ3Bvc3QnLCAnZGVsZXRlJywgJ3B1dCddLmZvckVhY2goKG1ldGhvZE5hbWUpID0+IHtcbiAgICAgIHRoaXMuX2FwcFttZXRob2ROYW1lXSA9ICh1cmksIGhhbmRsZXIpID0+IHtcbiAgICAgICAgdGhpcy5fYXBwLnVzZSh1cmksIChyZXF1ZXN0LCByZXNwb25zZSwgbmV4dCkgPT4ge1xuICAgICAgICAgIGlmIChyZXF1ZXN0Lm1ldGhvZC50b1VwcGVyQ2FzZSgpICE9PSBtZXRob2ROYW1lLnRvVXBwZXJDYXNlKCkpIHtcbiAgICAgICAgICAgIC8vIHNraXAgaWYgbWV0aG9kIGRvZXNuJ3QgbWF0Y2guXG4gICAgICAgICAgICByZXR1cm4gbmV4dCgpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBoYW5kbGVyKHJlcXVlc3QsIHJlc3BvbnNlLCBuZXh0KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfTtcbiAgICB9KTtcbiAgfVxuXG4gIF9jcmVhdGVXZWJTb2NrZXRTZXJ2ZXIoKTogV2ViU29ja2V0U2VydmVyIHtcbiAgICBjb25zdCB3ZWJTb2NrZXRTZXJ2ZXIgPSBuZXcgV2ViU29ja2V0U2VydmVyKHtzZXJ2ZXI6IHRoaXMuX3dlYlNlcnZlcn0pO1xuICAgIHdlYlNvY2tldFNlcnZlci5vbignY29ubmVjdGlvbicsIChzb2NrZXQpID0+IHRoaXMuX29uQ29ubmVjdGlvbihzb2NrZXQpKTtcbiAgICB3ZWJTb2NrZXRTZXJ2ZXIub24oJ2Vycm9yJywgKGVycm9yKSA9PiBsb2dnZXIuZXJyb3IoJ1dlYlNvY2tldFNlcnZlciBFcnJvcjonLCBlcnJvcikpO1xuICAgIHJldHVybiB3ZWJTb2NrZXRTZXJ2ZXI7XG4gIH1cblxuICBfZ2V0U2VydmljZUZyYW1ld29ya1NlcnZpY2VBbmRSZWdpc3RlckV2ZW50SGFuZGxlKFxuICAgICAgc2VydmljZUNvbmZpZzogU2VydmljZUNvbmZpZywgc2VydmljZU9wdGlvbnM6IGFueSk6IGFueSB7XG4gICAgY29uc3QgbG9jYWxTZXJ2aWNlSW5zdGFuY2UgPSBnZXRTZXJ2aWNlKHNlcnZpY2VDb25maWcubmFtZSwgc2VydmljZU9wdGlvbnMsIHNlcnZpY2VDb25maWcuaW1wbGVtZW50YXRpb24pO1xuICAgIGlmIChsb2NhbFNlcnZpY2VJbnN0YW5jZVtFVkVOVF9IQU5ETEVfUkVHSVNURVJFRF0pIHtcbiAgICAgIHJldHVybiBsb2NhbFNlcnZpY2VJbnN0YW5jZTtcbiAgICB9XG5cbiAgICBjb25zdCBzZXJ2aWNlQXBpID0gcGFyc2VTZXJ2aWNlQXBpU3luYyhzZXJ2aWNlQ29uZmlnLmRlZmluaXRpb24sIHNlcnZpY2VDb25maWcubmFtZSk7XG5cbiAgICBzZXJ2aWNlQXBpLmV2ZW50TWV0aG9kTmFtZXMuZm9yRWFjaChtZXRob2ROYW1lID0+IHtcbiAgICAgIGxvY2FsU2VydmljZUluc3RhbmNlW21ldGhvZE5hbWVdLmNhbGwobG9jYWxTZXJ2aWNlSW5zdGFuY2UsICguLi5hcmdzKSA9PiB7XG4gICAgICAgIGNvbnN0IGV2ZW50TmFtZSA9IGdldFJlbW90ZUV2ZW50TmFtZShzZXJ2aWNlQ29uZmlnLm5hbWUsIG1ldGhvZE5hbWUsIHNlcnZpY2VPcHRpb25zKTtcbiAgICAgICAgKHRoaXMuX2V2ZW50U3Vic2NyaXB0aW9ucy5nZXQoZXZlbnROYW1lKSB8fCBbXSkuZm9yRWFjaChjbGllbnRJZCA9PiB7XG4gICAgICAgICAgY29uc3QgY2xpZW50ID0gdGhpcy5fY2xpZW50c1tjbGllbnRJZF07XG5cbiAgICAgICAgICBpZiAoIWNsaWVudCkge1xuICAgICAgICAgICAgbG9nZ2VyLndhcm4oJ0NsaWVudCB3aXRoIGNsaWVudElkOiAlcyBub3QgZm91bmQhJywgY2xpZW50SWQpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHRoaXMuX3NlbmRTb2NrZXRNZXNzYWdlKGNsaWVudCwge1xuICAgICAgICAgICAgY2hhbm5lbDogU0VSVklDRV9GUkFNRVdPUktfRVZFTlRfQ0hBTk5FTCxcbiAgICAgICAgICAgIGV2ZW50OiB7XG4gICAgICAgICAgICAgIG5hbWU6IGV2ZW50TmFtZSxcbiAgICAgICAgICAgICAgYXJncyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGxvY2FsU2VydmljZUluc3RhbmNlLCBFVkVOVF9IQU5ETEVfUkVHSVNURVJFRCwge3ZhbHVlOiB0cnVlfSk7XG5cbiAgICByZXR1cm4gbG9jYWxTZXJ2aWNlSW5zdGFuY2U7XG4gIH1cblxuICBfcmVnaXN0ZXJTZXJ2aWNlV2l0aFNlcnZpY2VGcmFtZXdvcmsoc2VydmljZUNvbmZpZzogU2VydmljZUNvbmZpZyk6IHZvaWQge1xuICAgIGNvbnN0IHNlcnZpY2VBcGkgPSBwYXJzZVNlcnZpY2VBcGlTeW5jKHNlcnZpY2VDb25maWcuZGVmaW5pdGlvbiwgc2VydmljZUNvbmZpZy5uYW1lKTtcblxuICAgIHNlcnZpY2VBcGkucnBjTWV0aG9kTmFtZXMuZm9yRWFjaChtZXRob2ROYW1lID0+IHtcbiAgICAgIHRoaXMuX3JlZ2lzdGVyU2VydmljZShcbiAgICAgICAgJy8nICsgc2VydmljZUFwaS5jbGFzc05hbWUgKyAnLycgKyBtZXRob2ROYW1lLFxuXG4gICAgICAgIC8vIFRha2Ugc2VydmljZU9wdGlvbnMgYXMgZmlyc3QgYXJndW1lbnQgZm9yIHNlcnZpY2VGcmFtZXdvcmsgc2VydmljZS5cbiAgICAgICAgLy8gVE9ETyhjaGVuc2hlbikgc2VwZXJhdGUgdGhlIGxvZ2ljIG9mIHNlcnZpY2UgaW5pdGlhbGl6YXRpb24uXG4gICAgICAgIChzZXJ2aWNlT3B0aW9ucywgLi4uYXJncykgPT4ge1xuICAgICAgICAgIGNvbnN0IGxvY2FsU2VydmljZUluc3RhbmNlID0gdGhpcy5fZ2V0U2VydmljZUZyYW1ld29ya1NlcnZpY2VBbmRSZWdpc3RlckV2ZW50SGFuZGxlKFxuICAgICAgICAgICAgICBzZXJ2aWNlQ29uZmlnLCBzZXJ2aWNlT3B0aW9ucyk7XG4gICAgICAgICAgcmV0dXJuIGxvY2FsU2VydmljZUluc3RhbmNlW21ldGhvZE5hbWVdLmFwcGx5KGxvY2FsU2VydmljZUluc3RhbmNlLCBhcmdzKTtcbiAgICAgICAgfSxcbiAgICAgICAgJ3Bvc3QnLFxuICAgICAgKTtcbiAgICB9KTtcblxuICB9XG5cbiAgX3JlZ2lzdGVyU2VydmljZVdpdGhvdXRTZXJ2aWNlRnJhbWV3b3JrKHNlcnZpY2VGaWxlUGF0aDogc3RyaW5nKTogdm9pZCB7XG4gICAgY29uc3Qge3VybEhhbmRsZXJzLCBzZXJ2aWNlcywgaW5pdGlhbGl6ZX0gPSByZXF1aXJlKHNlcnZpY2VGaWxlUGF0aCk7XG4gICAgZm9yIChjb25zdCBzZXJ2aWNlTmFtZSBpbiBzZXJ2aWNlcykge1xuICAgICAgY29uc3Qgc2VydmljZUNvbmZpZyA9IHNlcnZpY2VzW3NlcnZpY2VOYW1lXTtcbiAgICAgIHRoaXMuX3JlZ2lzdGVyU2VydmljZShzZXJ2aWNlTmFtZSwgc2VydmljZUNvbmZpZy5oYW5kbGVyLCBzZXJ2aWNlQ29uZmlnLm1ldGhvZCwgc2VydmljZUNvbmZpZy50ZXh0KTtcbiAgICB9XG5cbiAgICBpZiAodXJsSGFuZGxlcnMpIHtcbiAgICAgIGZvciAoY29uc3QgdXJsIGluIHVybEhhbmRsZXJzKSB7XG4gICAgICAgIGNvbnN0IGhhbmRsZXJDb25maWcgPSB1cmxIYW5kbGVyc1t1cmxdO1xuICAgICAgICB0aGlzLl9hdHRhY2hVcmxIYW5kbGVyKHVybCwgaGFuZGxlckNvbmZpZy5oYW5kbGVyLCBoYW5kbGVyQ29uZmlnLm1ldGhvZCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGluaXRpYWxpemUpIHtcbiAgICAgIGluaXRpYWxpemUodGhpcyk7XG4gICAgfVxuICB9XG5cbiAgX3NldHVwU2VydmljZXMoKSB7XG4gICAgLy8gTGF6eSByZXF1aXJlIHRoZXNlIGZ1bmN0aW9ucyBzbyB0aGF0IHdlIGNvdWxkIHNweU9uIHRoZW0gd2hpbGUgdGVzdGluZyBpblxuICAgIC8vIFNlcnZpY2VJbnRlZ3JhdGlvblRlc3RIZWxwZXIuXG4gICAgY29uc3Qge2xvYWRDb25maWdzT2ZTZXJ2aWNlV2l0aFNlcnZpY2VGcmFtZXdvcmssXG4gICAgICBsb2FkQ29uZmlnc09mU2VydmljZVdpdGhvdXRTZXJ2aWNlRnJhbWV3b3JrfSA9IHJlcXVpcmUoJy4vY29uZmlnJyk7XG4gICAgdGhpcy5fc2VydmljZVJlZ2lzdHJ5ID0ge307XG4gICAgdGhpcy5fdmVyc2lvbiA9IGdldFZlcnNpb24oKS50b1N0cmluZygpO1xuICAgIHRoaXMuX3NldHVwSGVhcnRiZWF0SGFuZGxlcigpO1xuICAgIHRoaXMuX3NldHVwU2VydmljZUZyYW1ld29ya1N1YnNjcmlwdGlvbkhhbmRsZXIoKTtcbiAgICB0aGlzLl9zZXJ2aWNlV2l0aG91dFNlcnZpY2VGcmFtZXdvcmtDb25maWdzID0gbG9hZENvbmZpZ3NPZlNlcnZpY2VXaXRob3V0U2VydmljZUZyYW1ld29yaygpO1xuICAgIHRoaXMuX3NlcnZpY2VXaXRoU2VydmljZUZyYW1ld29ya0NvbmZpZ3MgPSBsb2FkQ29uZmlnc09mU2VydmljZVdpdGhTZXJ2aWNlRnJhbWV3b3JrKCk7XG5cbiAgICB0aGlzLl9zZXJ2aWNlV2l0aG91dFNlcnZpY2VGcmFtZXdvcmtDb25maWdzLmZvckVhY2goKGNvbmZpZzogc3RyaW5nKSA9PiB7XG4gICAgICB0aGlzLl9yZWdpc3RlclNlcnZpY2VXaXRob3V0U2VydmljZUZyYW1ld29yayhjb25maWcpO1xuICAgICAgbG9nZ2VyLmRlYnVnKGBSZWdpc3RlcmVkIHNlcnZpY2UgJHtjb25maWd9IHdpdGhvdXQgU2VydmljZUZyYW1ld29yay5gKTtcbiAgICB9KTtcblxuICAgIHRoaXMuX3NlcnZpY2VXaXRoU2VydmljZUZyYW1ld29ya0NvbmZpZ3MuZm9yRWFjaChjb25maWcgPT4ge1xuICAgICAgdGhpcy5fcmVnaXN0ZXJTZXJ2aWNlV2l0aFNlcnZpY2VGcmFtZXdvcmsoY29uZmlnKTtcbiAgICAgIGxvZ2dlci5kZWJ1ZyhgUmVnaXN0ZXJlZCBzZXJ2aWNlICR7Y29uZmlnLm5hbWV9IHdpdGggU2VydmljZUZyYW1ld29yay5gKTtcbiAgICB9KTtcblxuICAgIC8vIFNldHVwIGVycm9yIGhhbmRsZXIuXG4gICAgdGhpcy5fYXBwLnVzZSgoZXJyb3IsIHJlcXVlc3QsIHJlc3BvbnNlLCBuZXh0KSA9PiB7XG4gICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgc2VuZEpzb25SZXNwb25zZShyZXNwb25zZSwge2NvZGU6IGVycm9yLmNvZGUsIG1lc3NhZ2U6IGVycm9yLm1lc3NhZ2V9LCA1MDApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbmV4dCgpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgX3NldHVwSGVhcnRiZWF0SGFuZGxlcigpIHtcbiAgICB0aGlzLl9yZWdpc3RlclNlcnZpY2UoJy8nICsgSEVBUlRCRUFUX0NIQU5ORUwsIGFzeW5jICgpID0+IHRoaXMuX3ZlcnNpb24sXG4gICAgICAgICdwb3N0JywgdHJ1ZSk7XG4gIH1cblxuICBzdGF0aWMgc2h1dGRvd24oKTogdm9pZCB7XG4gICAgbG9nZ2VyLmluZm8oJ1NodXR0aW5nIGRvd24gdGhlIHNlcnZlcicpO1xuICAgIHRyeSB7XG4gICAgICBpZiAoTnVjbGlkZVNlcnZlci5fdGhlU2VydmVyICE9IG51bGwpIHtcbiAgICAgICAgTnVjbGlkZVNlcnZlci5fdGhlU2VydmVyLmNsb3NlKCk7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgbG9nZ2VyLmVycm9yKCdFcnJvciB3aGlsZSBzaHV0dGluZyBkb3duLCBidXQgcHJvY2VlZGluZyBhbnl3YXk6JywgZSk7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIGZsdXNoTG9nc0FuZEV4aXQoMCk7XG4gICAgfVxuICB9XG5cbiAgX3NldHVwU2VydmljZUZyYW1ld29ya1N1YnNjcmlwdGlvbkhhbmRsZXIoKSB7XG4gICAgdGhpcy5fcmVnaXN0ZXJTZXJ2aWNlKCcvc2VydmljZUZyYW1ld29yay9zdWJzY3JpYmVFdmVudCcsIChzZXJ2aWNlT3B0aW9uczogYW55LCBjbGllbnRJZDogc3RyaW5nLCBzZXJ2aWNlTmFtZTogc3RyaW5nLCBtZXRob2ROYW1lOiBzdHJpbmcpID0+IHtcblxuICAgICAgLy8gQ3JlYXRlIHRoZSBzZXJ2aWNlIGluc3RhbmNlIGFuZCByZWdpc3RlciB0aGUgZXZlbnQgaGFuZGxlLlxuICAgICAgY29uc3QgW3NlcnZpY2VDb25maWddID0gdGhpcy5fc2VydmljZVdpdGhTZXJ2aWNlRnJhbWV3b3JrQ29uZmlncy5maWx0ZXIoY29uZmlnID0+IGNvbmZpZy5uYW1lID09PSBzZXJ2aWNlTmFtZSk7XG4gICAgICB0aGlzLl9nZXRTZXJ2aWNlRnJhbWV3b3JrU2VydmljZUFuZFJlZ2lzdGVyRXZlbnRIYW5kbGUoc2VydmljZUNvbmZpZywgc2VydmljZU9wdGlvbnMpO1xuXG4gICAgICBjb25zdCBldmVudE5hbWUgPSBnZXRSZW1vdGVFdmVudE5hbWUoc2VydmljZU5hbWUsIG1ldGhvZE5hbWUsIHNlcnZpY2VPcHRpb25zKTtcblxuICAgICAgdGhpcy5fZXZlbnRTdWJzY3JpcHRpb25zLnNldChcbiAgICAgICAgZXZlbnROYW1lLFxuICAgICAgICAodGhpcy5fZXZlbnRTdWJzY3JpcHRpb25zLmdldChldmVudE5hbWUpIHx8IG5ldyBTZXQoKSkuYWRkKGNsaWVudElkKSxcbiAgICAgICk7XG5cbiAgICAgIGxvZ2dlci5kZWJ1ZyhgJHtjbGllbnRJZH0gc3Vic2NyaWJlZCB0byAke2V2ZW50TmFtZX1gKTtcbiAgICB9LCAncG9zdCcpO1xuXG4gICAgdGhpcy5fcmVnaXN0ZXJTZXJ2aWNlKCcvc2VydmljZUZyYW1ld29yay91bnN1YnNjcmliZUV2ZW50JywgKHNlcnZpY2VPcHRpb25zOiBhbnksIGNsaWVudElkOiBzdHJpbmcsIHNlcnZpY2VOYW1lOiBzdHJpbmcsIG1ldGhvZE5hbWU6IHN0cmluZykgPT4ge1xuICAgICAgY29uc3QgZXZlbnROYW1lID0gZ2V0UmVtb3RlRXZlbnROYW1lKHNlcnZpY2VOYW1lLCBtZXRob2ROYW1lLCBzZXJ2aWNlT3B0aW9ucyk7XG4gICAgICBpZiAodGhpcy5fZXZlbnRTdWJzY3JpcHRpb25zLmhhcyhldmVudE5hbWUpKSB7XG4gICAgICAgIHRoaXMuX2V2ZW50U3Vic2NyaXB0aW9ucy5nZXQoZXZlbnROYW1lKS5kZWxldGUoY2xpZW50SWQpO1xuICAgICAgfVxuICAgICAgbG9nZ2VyLmRlYnVnKGAke2NsaWVudElkfSB1bnN1YnNjcmliZWQgdG8gJHtldmVudE5hbWV9YCk7XG4gICAgfSwgJ3Bvc3QnKTtcbiAgfVxuXG4gIGNvbm5lY3QoKTogUHJvbWlzZSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIHRoaXMuX3dlYlNlcnZlci5vbignbGlzdGVuaW5nJywgKCkgPT4ge1xuICAgICAgICByZXNvbHZlKCk7XG4gICAgICB9KTtcbiAgICAgIHRoaXMuX3dlYlNlcnZlci5vbignZXJyb3InLCAoZSkgPT4ge1xuICAgICAgICB0aGlzLl93ZWJTZXJ2ZXIucmVtb3ZlQWxsTGlzdGVuZXJzKCk7XG4gICAgICAgIHJlamVjdChlKTtcbiAgICAgIH0pO1xuICAgICAgdGhpcy5fd2ViU2VydmVyLmxpc3Rlbih0aGlzLl9wb3J0KTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDYWxscyBhIHJlZ2lzdGVyZWQgc2VydmljZSB3aXRoIGEgbmFtZSBhbmQgYXJndW1lbnRzLlxuICAgKi9cbiAgY2FsbFNlcnZpY2Uoc2VydmljZU5hbWU6IHN0cmluZywgYXJnczogQXJyYXk8YW55Pik6IFByb21pc2U8YW55PiB7XG4gICAgY29uc3Qgc2VydmljZUZ1bmN0aW9uID0gdGhpcy5fc2VydmljZVJlZ2lzdHJ5W3NlcnZpY2VOYW1lXTtcbiAgICBpZiAoIXNlcnZpY2VGdW5jdGlvbikge1xuICAgICAgdGhyb3cgRXJyb3IoJ05vIHNlcnZpY2UgcmVnaXN0ZXJlZCB3aXRoIG5hbWU6ICcgKyBzZXJ2aWNlTmFtZSk7XG4gICAgfVxuICAgIHJldHVybiBzZXJ2aWNlRnVuY3Rpb24uYXBwbHkodGhpcywgYXJncyk7XG4gIH1cblxuICAvKipcbiAgICogUmVnaXN0ZXJzIGEgc2VydmljZSBmdW5jdGlvbiB0byBhIHNlcnZpY2UgbmFtZS5cbiAgICogVGhpcyBhbGxvd3Mgc2ltcGxlIGZ1dHVyZSBjYWxscyBvZiB0aGUgc2VydmljZSBieSBuYW1lIGFuZCBhcmd1bWVudHMgb3IgaHR0cC10cmlnZ2VyZWQgZW5kcG9pbnQgY2FsbHNcbiAgICogd2l0aCBhcmd1bWVudHMgc2VyaWFsaXplZCBvdmVyIGh0dHAuXG4gICAqL1xuICBfcmVnaXN0ZXJTZXJ2aWNlKFxuICAgICAgc2VydmljZU5hbWU6IHN0cmluZyxcbiAgICAgIHNlcnZpY2VGdW5jdGlvbjogKCkgPT4gUHJvbWlzZTxhbnk+LFxuICAgICAgbWV0aG9kOiA/c3RyaW5nID0gJ2dldCcsXG4gICAgICBpc1RleHRSZXNwb25zZTogP2Jvb2xlYW4pIHtcbiAgICBpZiAodGhpcy5fc2VydmljZVJlZ2lzdHJ5W3NlcnZpY2VOYW1lXSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdBIHNlcnZpY2Ugd2l0aCB0aGlzIG5hbWUgaXMgYWxyZWFkeSByZWdpc3RlcmVkOicsIHNlcnZpY2VOYW1lKTtcbiAgICB9XG4gICAgdGhpcy5fc2VydmljZVJlZ2lzdHJ5W3NlcnZpY2VOYW1lXSA9IHNlcnZpY2VGdW5jdGlvbjtcbiAgICB0aGlzLl9yZWdpc3Rlckh0dHBTZXJ2aWNlKHNlcnZpY2VOYW1lLCBtZXRob2QsIGlzVGV4dFJlc3BvbnNlKTtcbiAgfVxuXG4gIF9yZWdpc3Rlckh0dHBTZXJ2aWNlKHNlcnZpY2VOYW1lOiBzdHJpbmcsIG1ldGhvZDogc3RyaW5nLCBpc1RleHRSZXNwb25zZTogP2Jvb2xlYW4pIHtcbiAgICBjb25zdCBsb3dlcmVkQ2FzZU1ldGhvZCA9IG1ldGhvZC50b0xvd2VyQ2FzZSgpO1xuICAgIHRoaXMuX2FwcFtsb3dlcmVkQ2FzZU1ldGhvZF0oc2VydmljZU5hbWUsIGFzeW5jIChyZXF1ZXN0LCByZXNwb25zZSwgbmV4dCkgPT4ge1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdGhpcy5jYWxsU2VydmljZShzZXJ2aWNlTmFtZSwgZGVzZXJpYWxpemVBcmdzKHJlcXVlc3QudXJsKSk7XG4gICAgICAgIGlmIChpc1RleHRSZXNwb25zZSkge1xuICAgICAgICAgIHNlbmRUZXh0UmVzcG9uc2UocmVzcG9uc2UsIHJlc3VsdCB8fCAnJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc2VuZEpzb25SZXNwb25zZShyZXNwb25zZSwgcmVzdWx0KTtcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaChlKSB7XG4gICAgICAgIC8vIERlbGVnYXRlIHRvIHRoZSByZWdpc3RlcmVkIGNvbm5lY3QgZXJyb3IgaGFuZGxlci5cbiAgICAgICAgbmV4dChlKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBdHRhY2ggYW4gZXhwbGljaXQgaHR0cCBjb25uZWN0IGhhbmRsZXIgZm9yIHNvbWUgc2VydmljZXMgdGhhdCBuZWVkIHJlcXVlc3QvcmVzcG9uc2UgcmVsYXRlZCBvcHRpbWl6YXRpb25zLlxuICAgKiBlLmcuIHJlYWRGaWxlIGFuZCB3cml0ZUZpbGUgdXNlcyBpdCB0byBzdHJlYW0gcmVhZGluZyBhbmQgd3JpdGluZyBmaWxlcyAocGVyZiBpbXByb3ZlbWVudCBmb3IgYmlnIGZpbGVzKS5cbiAgICovXG4gIF9hdHRhY2hVcmxIYW5kbGVyKFxuICAgIHVybDogc3RyaW5nLFxuICAgIGhhbmRsZXI6IChyZXF1ZXN0OiBodHRwLkluY29taW5nTWVzc2FnZSwgcmVzcG9uc2U6IGh0dHAuT3V0Z29pbmdNZXNzYWdlLCBuZXh0OiAoZXJyOiBFcnJvcikgPT4gdm9pZCkgPT4gdm9pZCxcbiAgICBtZXRob2Q6ID9zdHJpbmcgPSAnZ2V0J1xuICApOiB2b2lkIHtcbiAgICB0aGlzLl9hcHBbbWV0aG9kXSh1cmwsIGhhbmRsZXIpO1xuICB9XG5cbiAgX29uQ29ubmVjdGlvbihzb2NrZXQ6IFdlYlNvY2tldCk6IHZvaWQge1xuICAgIGxvZ2dlci5kZWJ1ZygnV2ViU29ja2V0IGNvbm5lY3RpbmcnKTtcblxuXG4gICAgbGV0IGNsaWVudCA9IG51bGw7XG5cbiAgICBzb2NrZXQub24oJ2Vycm9yJywgKGUpID0+XG4gICAgICBsb2dnZXIuZXJyb3IoJ0NsaWVudCAjJXMgZXJyb3I6ICVzJywgY2xpZW50ID8gY2xpZW50LmlkIDogJ3Vua293bicsIGUubWVzc2FnZSkpO1xuXG4gICAgc29ja2V0Lm9uY2UoJ21lc3NhZ2UnLCAoY2xpZW50SWQpID0+IHtcbiAgICAgIGNsaWVudCA9IHRoaXMuX2NsaWVudHNbY2xpZW50SWRdID0gdGhpcy5fY2xpZW50c1tjbGllbnRJZF0gfHxcbiAgICAgICAgICB7c3Vic2NyaXB0aW9uczoge30sIGlkOiBjbGllbnRJZCwgbWVzc2FnZVF1ZXVlOiBbXX07XG4gICAgICAvLyBJZiBhbiBleGlzdGluZyBjbGllbnQsIHdlIGNsb3NlIGl0cyBzb2NrZXQgYmVmb3JlIGxpc3RlbmluZyB0byB0aGUgbmV3IHNvY2tldC5cbiAgICAgIGlmIChjbGllbnQuc29ja2V0KSB7XG4gICAgICAgIGNsaWVudC5zb2NrZXQuY2xvc2UoKTtcbiAgICAgICAgY2xpZW50LnNvY2tldCA9IG51bGw7XG4gICAgICB9XG4gICAgICBsb2dnZXIuaW5mbygnQ2xpZW50ICMlcyBjb25uZWN0aW5nIHdpdGggYSBuZXcgc29ja2V0IScsIGNsaWVudElkKTtcbiAgICAgIGNsaWVudC5zb2NrZXQgPSBzb2NrZXQ7XG4gICAgICBjbGllbnQubWVzc2FnZVF1ZXVlLnNwbGljZSgwKS5mb3JFYWNoKG1lc3NhZ2UgPT4gdGhpcy5fc2VuZFNvY2tldE1lc3NhZ2UoY2xpZW50LCBtZXNzYWdlLmRhdGEpKTtcbiAgICAgIHNvY2tldC5vbignbWVzc2FnZScsIChtZXNzYWdlKSA9PiB0aGlzLl9vblNvY2tldE1lc3NhZ2UoY2xpZW50LCBtZXNzYWdlKSk7XG4gICAgfSk7XG5cbiAgICBzb2NrZXQub24oJ2Nsb3NlJywgKCkgPT4ge1xuICAgICAgaWYgKCFjbGllbnQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKGNsaWVudC5zb2NrZXQgPT09IHNvY2tldCkge1xuICAgICAgICBjbGllbnQuc29ja2V0ID0gbnVsbDtcbiAgICAgIH1cbiAgICAgIGxvZ2dlci5pbmZvKCdDbGllbnQgIyVzIGNsb3NpbmcgYSBzb2NrZXQhJywgY2xpZW50LmlkKTtcbiAgICAgIC8vIFRPRE86IGVuYWJsZSBzdWJzY3JpcHRpb24gY2xlYW51cCB3aGVuIHdlIGhhdmUgYSByb2J1c3QgcmVjb25uZWN0IHNjZW5hcmlvLlxuICAgICAgLypcbiAgICAgIGZvciAodmFyIGNoYW5uZWwgaW4gY2xpZW50LnN1YnNjcmlwdGlvbnMpIHtcbiAgICAgICAgdGhpcy51bnN1YnNjcmliZShjaGFubmVsLCBzdWJzY3JpcHRpb25zW2NoYW5uZWxdKTtcbiAgICAgIH1cbiAgICAgIHRoaXMuX2V2ZW50U3Vic2NyaXB0aW9ucy5mb3JFYWNoKHZhbHVlID0+IHZhbHVlLmRlbGV0ZShjbGllbnQuaWQpKTtcbiAgICAgIGRlbGV0ZSB0aGlzLl9jbGllbnRzW2NsaWVudC5pZF07XG4gICAgICAqL1xuICAgIH0pO1xuICB9XG5cbiAgYXN5bmMgX29uU29ja2V0TWVzc2FnZShjbGllbnQ6IFNvY2tldENsaWVudCwgbWVzc2FnZTogYW55KTogdm9pZCB7XG4gICAgbWVzc2FnZSA9IEpTT04ucGFyc2UobWVzc2FnZSk7XG4gICAgaWYgKG1lc3NhZ2UucHJvdG9jb2wgJiYgbWVzc2FnZS5wcm90b2NvbCA9PT0gU0VSVklDRV9GUkFNRVdPUkszX0NIQU5ORUwpIHtcbiAgICAgIHRoaXMuX3NlcnZlckNvbXBvbmVudC5oYW5kbGVNZXNzYWdlKGNsaWVudCwgbWVzc2FnZSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3Qge3NlcnZpY2VOYW1lLCBtZXRob2ROYW1lLCBtZXRob2RBcmdzLCBzZXJ2aWNlT3B0aW9ucywgcmVxdWVzdElkfSA9IG1lc3NhZ2U7XG4gICAgbGV0IHJlc3VsdCA9IG51bGw7XG4gICAgbGV0IGVycm9yID0gbnVsbDtcblxuICAgIHRyeSB7XG4gICAgICByZXN1bHQgPSBhd2FpdCB0aGlzLmNhbGxTZXJ2aWNlKFxuICAgICAgICAnLycgKyBzZXJ2aWNlTmFtZSArICcvJyArIG1ldGhvZE5hbWUsXG4gICAgICAgIFtzZXJ2aWNlT3B0aW9uc10uY29uY2F0KG1ldGhvZEFyZ3MpLFxuICAgICAgKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBsb2dnZXIuZXJyb3IoJ0ZhaWxlZCB0byBjYWxsICVzLyVzIHdpdGggZXJyb3IgJW8nLCBzZXJ2aWNlTmFtZSwgbWV0aG9kTmFtZSwgZSk7XG4gICAgICBlcnJvciA9IGU7XG4gICAgfVxuXG4gICAgdGhpcy5fc2VuZFNvY2tldE1lc3NhZ2UoY2xpZW50LCB7XG4gICAgICBjaGFubmVsOiBTRVJWSUNFX0ZSQU1FV09SS19SUENfQ0hBTk5FTCxcbiAgICAgIHJlcXVlc3RJZCxcbiAgICAgIHJlc3VsdCxcbiAgICAgIGVycm9yLFxuICAgIH0pO1xuICB9XG5cbiAgX3NlbmRTb2NrZXRNZXNzYWdlKGNsaWVudDogU29ja2V0Q2xpZW50LCBkYXRhOiBhbnkpIHtcbiAgICAvLyBXcmFwIHRoZSBkYXRhIGluIGFuIG9iamVjdCwgYmVjYXVzZSBpZiBgZGF0YWAgaXMgYSBwcmltaXRpdmUgZGF0YSB0eXBlLFxuICAgIC8vIGZpbmRpbmcgaXQgaW4gYW4gYXJyYXkgd291bGQgcmV0dXJuIHRoZSBmaXJzdCBtYXRjaGluZyBpdGVtLCBub3QgbmVjZXNzYXJpbHkgdGhlIHNhbWUgaW5zZXJ0ZWQgaXRlbS5cbiAgICBjb25zdCBtZXNzYWdlID0ge2RhdGF9O1xuICAgIGNvbnN0IHtpZCwgc29ja2V0LCBtZXNzYWdlUXVldWV9ID0gY2xpZW50O1xuICAgIG1lc3NhZ2VRdWV1ZS5wdXNoKG1lc3NhZ2UpO1xuICAgIGlmICghc29ja2V0KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHNvY2tldC5zZW5kKEpTT04uc3RyaW5naWZ5KGRhdGEpLCAoZXJyKSA9PiB7XG4gICAgICBpZiAoZXJyKSB7XG4gICAgICAgIGxvZ2dlci53YXJuKCdGYWlsZWQgc2VuZGluZyBzb2NrZXQgbWVzc2FnZSB0byBjbGllbnQ6JywgaWQsIGRhdGEpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc3QgbWVzc2FnZUluZGV4ID0gbWVzc2FnZVF1ZXVlLmluZGV4T2YobWVzc2FnZSk7XG4gICAgICAgIGlmIChtZXNzYWdlSW5kZXggIT09IC0xKSB7XG4gICAgICAgICAgbWVzc2FnZVF1ZXVlLnNwbGljZShtZXNzYWdlSW5kZXgsIDEpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBjbG9zZSgpIHtcbiAgICBpbnZhcmlhbnQoTnVjbGlkZVNlcnZlci5fdGhlU2VydmVyID09PSB0aGlzKTtcbiAgICBOdWNsaWRlU2VydmVyLl90aGVTZXJ2ZXIgPSBudWxsO1xuXG4gICAgdGhpcy5fd2ViU29ja2V0U2VydmVyLmNsb3NlKCk7XG4gICAgdGhpcy5fd2ViU2VydmVyLmNsb3NlKCk7XG4gICAgdGhpcy5fc2VydmljZVdpdGhvdXRTZXJ2aWNlRnJhbWV3b3JrQ29uZmlncy5mb3JFYWNoKHNlcnZpY2VfcGF0aCA9PiB7XG4gICAgICBjb25zdCB7c2h1dGRvd259ID0gcmVxdWlyZShzZXJ2aWNlX3BhdGgpO1xuICAgICAgaWYgKHNodXRkb3duKSB7XG4gICAgICAgIHNodXRkb3duKHRoaXMpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gTnVjbGlkZVNlcnZlcjtcbiJdfQ==",""],"l":{"1":1,"5":1,"7":18,"9":2,"11":12,"13":1,"15":1,"17":1,"19":1,"21":1,"23":1,"25":1,"27":1,"37":1,"38":1,"40":1,"42":1,"43":1,"45":1,"46":1,"48":1,"50":1,"52":1,"54":1,"56":1,"58":1,"60":1,"61":1,"62":1,"64":1,"66":1,"68":1,"70":1,"72":1,"73":1,"74":1,"76":1,"77":1,"79":1,"80":1,"81":1,"82":1,"83":1,"85":1,"86":1,"87":1,"88":0,"96":0,"98":1,"100":1,"102":1,"103":1,"104":1,"106":1,"108":1,"109":1,"110":0,"115":1,"118":1,"121":1,"124":1,"125":4,"126":10,"127":0,"129":0,"131":0,"140":1,"142":1,"143":1,"144":0,"146":1,"147":0,"149":1,"154":0,"156":0,"157":0,"158":0,"161":0,"163":0,"164":0,"165":0,"166":0,"169":0,"170":0,"171":0,"173":0,"174":0,"175":0,"178":0,"188":0,"190":0,"195":1,"197":1,"199":1,"200":4,"205":0,"206":0,"209":0,"210":0,"217":1,"219":1,"220":1,"221":1,"223":1,"224":3,"225":3,"228":1,"229":0,"230":0,"231":0,"235":1,"236":1,"242":1,"247":1,"249":1,"250":1,"252":1,"253":1,"254":1,"255":1,"256":1,"257":1,"259":1,"260":1,"261":1,"264":1,"265":1,"266":1,"270":1,"271":0,"272":0,"274":0,"281":1,"283":1,"284":0,"290":1,"292":1,"296":0,"297":0,"300":0,"302":0,"304":0,"306":0,"308":0,"310":0,"313":1,"314":0,"315":0,"316":0,"318":0,"324":1,"326":1,"327":1,"328":1,"330":1,"331":0,"332":0,"334":1,"344":0,"345":0,"346":0,"348":0,"359":10,"361":10,"362":0,"364":10,"365":10,"370":10,"372":10,"373":10,"374":0,"375":0,"376":0,"377":0,"379":0,"383":0,"395":0,"397":0,"402":0,"404":0,"406":0,"408":0,"409":0,"412":0,"413":0,"415":0,"416":0,"417":0,"419":0,"420":0,"421":0,"422":0,"424":0,"425":0,"429":0,"430":0,"431":0,"433":0,"434":0,"436":0,"450":0,"451":0,"452":0,"453":0,"456":0,"457":0,"458":0,"459":0,"460":0,"461":0,"463":0,"464":0,"466":0,"467":0,"469":0,"470":0,"473":0,"485":0,"486":0,"487":0,"488":0,"490":0,"491":0,"492":0,"494":0,"495":0,"496":0,"498":0,"499":0,"500":0,"508":0,"510":0,"511":0,"513":0,"514":0,"515":0,"516":0,"518":0,"520":0,"521":0,"528":0,"529":0,"530":0,"531":0,"534":0,"536":0,"541":1,"544":1}},"/home/travis/build/npmtest/node-npmtest-nuclide-server/node_modules/nuclide-server/lib/serviceframework/index.js":{"path":"/home/travis/build/npmtest/node-npmtest-nuclide-server/node_modules/nuclide-server/lib/serviceframework/index.js","s":{"1":1,"2":1,"3":2,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1},"b":{"1":[0,2],"2":[2,2]},"f":{"1":2},"fnMap":{"1":{"name":"_interopRequireDefault","line":5,"loc":{"start":{"line":5,"column":0},"end":{"line":5,"column":37}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":3,"column":3}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":97}},"3":{"start":{"line":5,"column":39},"end":{"line":5,"column":95}},"4":{"start":{"line":15,"column":0},"end":{"line":15,"column":52}},"5":{"start":{"line":17,"column":0},"end":{"line":17,"column":65}},"6":{"start":{"line":19,"column":0},"end":{"line":19,"column":52}},"7":{"start":{"line":21,"column":0},"end":{"line":21,"column":65}},"8":{"start":{"line":23,"column":0},"end":{"line":23,"column":34}},"9":{"start":{"line":25,"column":0},"end":{"line":25,"column":12}},"10":{"start":{"line":26,"column":0},"end":{"line":26,"column":166}},"11":{"start":{"line":27,"column":0},"end":{"line":27,"column":36}}},"branchMap":{"1":{"line":5,"type":"cond-expr","locations":[{"start":{"line":5,"column":70},"end":{"line":5,"column":73}},{"start":{"line":5,"column":76},"end":{"line":5,"column":94}}]},"2":{"line":5,"type":"binary-expr","locations":[{"start":{"line":5,"column":46},"end":{"line":5,"column":49}},{"start":{"line":5,"column":53},"end":{"line":5,"column":67}}]}},"code":["Object.defineProperty(exports, '__esModule', {","  value: true","});","","function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }","","/*"," * Copyright (c) 2015-present, Facebook, Inc."," * All rights reserved."," *"," * This source code is licensed under the license found in the LICENSE file in"," * the root directory of this source tree."," */","","var _ServerComponent = require('./ServerComponent');","","var _ServerComponent2 = _interopRequireDefault(_ServerComponent);","","var _ClientComponent = require('./ClientComponent');","","var _ClientComponent2 = _interopRequireDefault(_ClientComponent);","","var _config = require('./config');","","'use babel';","exports['default'] = { ServerComponent: _ServerComponent2['default'], ClientComponent: _ClientComponent2['default'], loadServicesConfig: _config.loadServicesConfig };","module.exports = exports['default'];","//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi92YXIvZm9sZGVycy94Zi9yc3BoNF9jNTczMTVyczU3eHhzZHNrcnhudjM2dDAvVC90bXBwZmw1Mm5wdWJsaXNoX3BhY2thZ2VzL25wbS9udWNsaWRlLXNlcnZlci9saWIvc2VydmljZWZyYW1ld29yay9pbmRleC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7OzsrQkFXNkIsbUJBQW1COzs7OytCQUNuQixtQkFBbUI7Ozs7c0JBRWYsVUFBVTs7QUFkM0MsV0FBVyxDQUFDO3FCQWdCRyxFQUFDLGVBQWUsOEJBQUEsRUFBRSxlQUFlLDhCQUFBLEVBQUUsa0JBQWtCLFVBRjVELGtCQUFrQixBQUUwQyxFQUFDIiwiZmlsZSI6Ii92YXIvZm9sZGVycy94Zi9yc3BoNF9jNTczMTVyczU3eHhzZHNrcnhudjM2dDAvVC90bXBwZmw1Mm5wdWJsaXNoX3BhY2thZ2VzL25wbS9udWNsaWRlLXNlcnZlci9saWIvc2VydmljZWZyYW1ld29yay9pbmRleC5qcyIsInNvdXJjZXNDb250ZW50IjpbIid1c2UgYmFiZWwnO1xuLyogQGZsb3cgKi9cblxuLypcbiAqIENvcHlyaWdodCAoYykgMjAxNS1wcmVzZW50LCBGYWNlYm9vaywgSW5jLlxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBsaWNlbnNlIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgaW5cbiAqIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICovXG5cbmltcG9ydCBTZXJ2ZXJDb21wb25lbnQgZnJvbSAgJy4vU2VydmVyQ29tcG9uZW50JztcbmltcG9ydCBDbGllbnRDb21wb25lbnQgZnJvbSAgJy4vQ2xpZW50Q29tcG9uZW50JztcblxuaW1wb3J0IHtsb2FkU2VydmljZXNDb25maWd9IGZyb20gJy4vY29uZmlnJztcblxuZXhwb3J0IGRlZmF1bHQge1NlcnZlckNvbXBvbmVudCwgQ2xpZW50Q29tcG9uZW50LCBsb2FkU2VydmljZXNDb25maWd9O1xuIl19",""],"l":{"1":1,"5":2,"15":1,"17":1,"19":1,"21":1,"23":1,"25":1,"26":1,"27":1}},"/home/travis/build/npmtest/node-npmtest-nuclide-server/node_modules/nuclide-server/lib/serviceframework/ServerComponent.js":{"path":"/home/travis/build/npmtest/node-npmtest-nuclide-server/node_modules/nuclide-server/lib/serviceframework/ServerComponent.js","s":{"1":1,"2":1,"3":1,"4":1,"5":2,"6":2,"7":2,"8":2,"9":2,"10":2,"11":1,"12":1,"13":1,"14":1,"15":0,"16":1,"17":1,"18":2,"19":1,"20":9,"21":0,"22":0,"23":0,"24":0,"25":1,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":1,"36":1,"37":0,"38":1,"39":1,"40":1,"41":1,"42":1,"43":1,"44":1,"45":1,"46":1,"47":1,"48":1,"49":1,"50":1,"51":1,"52":1,"53":1,"54":1,"55":1,"56":1,"57":1,"58":1,"59":0,"60":0,"61":1,"62":1,"63":15,"64":15,"65":15,"66":15,"67":15,"68":10,"69":117,"70":117,"71":85,"72":85,"73":25,"74":85,"75":28,"76":28,"77":4,"78":4,"79":4,"80":0,"81":0,"82":0,"83":0,"84":0,"85":0,"86":0,"87":0,"88":0,"89":4,"90":0,"91":4,"92":5,"93":5,"94":1,"95":15,"96":15,"97":5,"98":1,"99":28,"100":28,"101":0,"102":28,"103":0,"104":0,"105":0,"106":0,"107":0,"108":0,"109":0,"110":0,"111":0,"112":0,"113":0,"114":0,"115":0,"116":0,"117":0,"118":0,"119":0,"120":0,"121":0,"122":0,"123":0,"124":0,"125":0,"126":0,"127":0,"128":0,"129":0,"130":0,"131":0,"132":0,"133":0,"134":0,"135":0,"136":0,"137":0,"138":0,"139":0,"140":0,"141":0,"142":0,"143":0,"144":0,"145":0,"146":0,"147":0,"148":0,"149":0,"150":0,"151":0,"152":0,"153":0,"154":0,"155":0,"156":0,"157":0,"158":0,"159":0,"160":0,"161":0,"162":0,"163":0,"164":0,"165":0,"166":0,"167":0,"168":0,"169":0,"170":0,"171":0,"172":0,"173":0,"174":0,"175":0,"176":0,"177":0,"178":1,"179":1,"180":1,"181":1,"182":0,"183":0,"184":0,"185":1,"186":0,"187":1,"188":0,"189":1,"190":0,"191":0,"192":0,"193":0,"194":0,"195":0,"196":0,"197":1},"b":{"1":[2,2],"2":[2,0],"3":[1,0],"4":[0,1],"5":[1,1],"6":[2,2],"7":[0,0],"8":[0,1],"9":[85,28,4],"10":[25,60],"11":[0,0],"12":[5,10],"13":[0,28],"14":[0,0,0,0,0,0],"15":[0,0],"16":[0,0],"17":[0,0,0,0],"18":[0,0],"19":[0,0],"20":[0,0],"21":[0,0],"22":[0,0],"23":[0,0,0],"24":[0,0],"25":[0,0],"26":[0,0]},"f":{"1":1,"2":1,"3":1,"4":2,"5":9,"6":0,"7":0,"8":0,"9":1,"10":1,"11":1,"12":0,"13":0,"14":15,"15":15,"16":117,"17":0,"18":0,"19":0,"20":28,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0},"fnMap":{"1":{"name":"(anonymous_1)","line":5,"loc":{"start":{"line":5,"column":20},"end":{"line":5,"column":32}}},"2":{"name":"defineProperties","line":5,"loc":{"start":{"line":5,"column":34},"end":{"line":5,"column":75}}},"3":{"name":"(anonymous_3)","line":5,"loc":{"start":{"line":5,"column":358},"end":{"line":5,"column":406}}},"4":{"name":"_interopRequireDefault","line":7,"loc":{"start":{"line":7,"column":0},"end":{"line":7,"column":37}}},"5":{"name":"_asyncToGenerator","line":9,"loc":{"start":{"line":9,"column":0},"end":{"line":9,"column":31}}},"6":{"name":"(anonymous_6)","line":9,"loc":{"start":{"line":9,"column":40},"end":{"line":9,"column":52}}},"7":{"name":"(anonymous_7)","line":9,"loc":{"start":{"line":9,"column":110},"end":{"line":9,"column":137}}},"8":{"name":"step","line":9,"loc":{"start":{"line":9,"column":221},"end":{"line":9,"column":245}}},"9":{"name":"_classCallCheck","line":11,"loc":{"start":{"line":11,"column":0},"end":{"line":11,"column":48}}},"10":{"name":"(anonymous_10)","line":39,"loc":{"start":{"line":39,"column":23},"end":{"line":39,"column":35}}},"11":{"name":"ServerComponent","line":40,"loc":{"start":{"line":40,"column":2},"end":{"line":40,"column":35}}},"12":{"name":"(anonymous_12)","line":57,"loc":{"start":{"line":57,"column":50},"end":{"line":57,"column":65}}},"13":{"name":"(anonymous_13)","line":59,"loc":{"start":{"line":59,"column":7},"end":{"line":59,"column":29}}},"14":{"name":"(anonymous_14)","line":65,"loc":{"start":{"line":65,"column":16},"end":{"line":65,"column":35}}},"15":{"name":"(anonymous_15)","line":68,"loc":{"start":{"line":68,"column":9},"end":{"line":68,"column":21}}},"16":{"name":"(anonymous_16)","line":73,"loc":{"start":{"line":73,"column":23},"end":{"line":73,"column":45}}},"17":{"name":"(anonymous_17)","line":94,"loc":{"start":{"line":94,"column":73},"end":{"line":94,"column":92}}},"18":{"name":"(anonymous_18)","line":108,"loc":{"start":{"line":108,"column":38},"end":{"line":108,"column":59}}},"19":{"name":"(anonymous_19)","line":113,"loc":{"start":{"line":113,"column":49},"end":{"line":113,"column":79}}},"20":{"name":"_registerFunction","line":142,"loc":{"start":{"line":142,"column":11},"end":{"line":142,"column":61}}},"21":{"name":"(anonymous_21)","line":154,"loc":{"start":{"line":154,"column":29},"end":{"line":154,"column":57}}},"22":{"name":"(anonymous_22)","line":173,"loc":{"start":{"line":173,"column":70},"end":{"line":173,"column":88}}},"23":{"name":"(anonymous_23)","line":189,"loc":{"start":{"line":189,"column":70},"end":{"line":189,"column":88}}},"24":{"name":"(anonymous_24)","line":203,"loc":{"start":{"line":203,"column":70},"end":{"line":203,"column":88}}},"25":{"name":"(anonymous_25)","line":261,"loc":{"start":{"line":261,"column":37},"end":{"line":261,"column":54}}},"26":{"name":"(anonymous_26)","line":266,"loc":{"start":{"line":266,"column":25},"end":{"line":266,"column":43}}},"27":{"name":"(anonymous_27)","line":275,"loc":{"start":{"line":275,"column":13},"end":{"line":275,"column":30}}},"28":{"name":"(anonymous_28)","line":298,"loc":{"start":{"line":298,"column":42},"end":{"line":298,"column":59}}},"29":{"name":"(anonymous_29)","line":303,"loc":{"start":{"line":303,"column":49},"end":{"line":303,"column":65}}},"30":{"name":"(anonymous_30)","line":315,"loc":{"start":{"line":315,"column":13},"end":{"line":315,"column":30}}},"31":{"name":"(anonymous_31)","line":325,"loc":{"start":{"line":325,"column":13},"end":{"line":325,"column":34}}},"32":{"name":"construct","line":348,"loc":{"start":{"line":348,"column":0},"end":{"line":348,"column":38}}},"33":{"name":"F","line":349,"loc":{"start":{"line":349,"column":2},"end":{"line":349,"column":15}}},"34":{"name":"isThenable","line":359,"loc":{"start":{"line":359,"column":0},"end":{"line":359,"column":28}}},"35":{"name":"isObservable","line":366,"loc":{"start":{"line":366,"column":0},"end":{"line":366,"column":30}}},"36":{"name":"formatError","line":374,"loc":{"start":{"line":374,"column":0},"end":{"line":374,"column":28}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":3,"column":3}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":566}},"3":{"start":{"line":5,"column":34},"end":{"line":5,"column":350}},"4":{"start":{"line":5,"column":77},"end":{"line":5,"column":348}},"5":{"start":{"line":5,"column":118},"end":{"line":5,"column":144}},"6":{"start":{"line":5,"column":145},"end":{"line":5,"column":200}},"7":{"start":{"line":5,"column":201},"end":{"line":5,"column":232}},"8":{"start":{"line":5,"column":233},"end":{"line":5,"column":287}},"9":{"start":{"line":5,"column":260},"end":{"line":5,"column":287}},"10":{"start":{"line":5,"column":288},"end":{"line":5,"column":346}},"11":{"start":{"line":5,"column":351},"end":{"line":5,"column":560}},"12":{"start":{"line":5,"column":408},"end":{"line":5,"column":476}},"13":{"start":{"line":5,"column":424},"end":{"line":5,"column":476}},"14":{"start":{"line":5,"column":477},"end":{"line":5,"column":537}},"15":{"start":{"line":5,"column":494},"end":{"line":5,"column":537}},"16":{"start":{"line":5,"column":538},"end":{"line":5,"column":557}},"17":{"start":{"line":7,"column":0},"end":{"line":7,"column":97}},"18":{"start":{"line":7,"column":39},"end":{"line":7,"column":95}},"19":{"start":{"line":9,"column":0},"end":{"line":9,"column":462}},"20":{"start":{"line":9,"column":33},"end":{"line":9,"column":460}},"21":{"start":{"line":9,"column":54},"end":{"line":9,"column":90}},"22":{"start":{"line":9,"column":91},"end":{"line":9,"column":457}},"23":{"start":{"line":9,"column":139},"end":{"line":9,"column":178}},"24":{"start":{"line":9,"column":179},"end":{"line":9,"column":220}},"25":{"start":{"line":9,"column":221},"end":{"line":9,"column":441}},"26":{"start":{"line":9,"column":247},"end":{"line":9,"column":345}},"27":{"start":{"line":9,"column":253},"end":{"line":9,"column":278}},"28":{"start":{"line":9,"column":279},"end":{"line":9,"column":302}},"29":{"start":{"line":9,"column":321},"end":{"line":9,"column":335}},"30":{"start":{"line":9,"column":336},"end":{"line":9,"column":343}},"31":{"start":{"line":9,"column":346},"end":{"line":9,"column":439}},"32":{"start":{"line":9,"column":363},"end":{"line":9,"column":378}},"33":{"start":{"line":9,"column":388},"end":{"line":9,"column":437}},"34":{"start":{"line":9,"column":442},"end":{"line":9,"column":453}},"35":{"start":{"line":11,"column":0},"end":{"line":11,"column":153}},"36":{"start":{"line":11,"column":50},"end":{"line":11,"column":151}},"37":{"start":{"line":11,"column":92},"end":{"line":11,"column":149}},"38":{"start":{"line":21,"column":0},"end":{"line":21,"column":24}},"39":{"start":{"line":23,"column":0},"end":{"line":23,"column":62}},"40":{"start":{"line":25,"column":0},"end":{"line":25,"column":34}},"41":{"start":{"line":27,"column":0},"end":{"line":27,"column":49}},"42":{"start":{"line":29,"column":0},"end":{"line":29,"column":61}},"43":{"start":{"line":31,"column":0},"end":{"line":31,"column":94}},"44":{"start":{"line":33,"column":0},"end":{"line":33,"column":105}},"45":{"start":{"line":35,"column":0},"end":{"line":35,"column":12}},"46":{"start":{"line":37,"column":0},"end":{"line":37,"column":52}},"47":{"start":{"line":39,"column":0},"end":{"line":345,"column":5}},"48":{"start":{"line":40,"column":2},"end":{"line":131,"column":3}},"49":{"start":{"line":41,"column":4},"end":{"line":41,"column":21}},"50":{"start":{"line":43,"column":4},"end":{"line":43,"column":43}},"51":{"start":{"line":45,"column":4},"end":{"line":45,"column":26}},"52":{"start":{"line":47,"column":4},"end":{"line":47,"column":80}},"53":{"start":{"line":48,"column":4},"end":{"line":48,"column":38}},"54":{"start":{"line":49,"column":4},"end":{"line":49,"column":36}},"55":{"start":{"line":51,"column":4},"end":{"line":51,"column":27}},"56":{"start":{"line":52,"column":4},"end":{"line":52,"column":37}},"57":{"start":{"line":54,"column":4},"end":{"line":54,"column":36}},"58":{"start":{"line":57,"column":4},"end":{"line":61,"column":7}},"59":{"start":{"line":58,"column":6},"end":{"line":58,"column":17}},"60":{"start":{"line":60,"column":6},"end":{"line":60,"column":24}},"61":{"start":{"line":63,"column":4},"end":{"line":63,"column":53}},"62":{"start":{"line":65,"column":4},"end":{"line":124,"column":6}},"63":{"start":{"line":66,"column":6},"end":{"line":66,"column":70}},"64":{"start":{"line":67,"column":6},"end":{"line":123,"column":7}},"65":{"start":{"line":68,"column":8},"end":{"line":119,"column":13}},"66":{"start":{"line":69,"column":10},"end":{"line":69,"column":83}},"67":{"start":{"line":70,"column":10},"end":{"line":70,"column":58}},"68":{"start":{"line":73,"column":10},"end":{"line":118,"column":13}},"69":{"start":{"line":74,"column":12},"end":{"line":74,"column":39}},"70":{"start":{"line":75,"column":12},"end":{"line":117,"column":13}},"71":{"start":{"line":77,"column":16},"end":{"line":77,"column":71}},"72":{"start":{"line":78,"column":16},"end":{"line":80,"column":17}},"73":{"start":{"line":79,"column":18},"end":{"line":79,"column":81}},"74":{"start":{"line":81,"column":16},"end":{"line":81,"column":22}},"75":{"start":{"line":84,"column":16},"end":{"line":84,"column":101}},"76":{"start":{"line":85,"column":16},"end":{"line":85,"column":22}},"77":{"start":{"line":88,"column":16},"end":{"line":88,"column":70}},"78":{"start":{"line":89,"column":16},"end":{"line":92,"column":19}},"79":{"start":{"line":94,"column":16},"end":{"line":110,"column":20}},"80":{"start":{"line":96,"column":18},"end":{"line":98,"column":19}},"81":{"start":{"line":97,"column":20},"end":{"line":97,"column":44}},"82":{"start":{"line":101,"column":18},"end":{"line":101,"column":43}},"83":{"start":{"line":102,"column":18},"end":{"line":102,"column":53}},"84":{"start":{"line":103,"column":18},"end":{"line":103,"column":62}},"85":{"start":{"line":104,"column":18},"end":{"line":104,"column":46}},"86":{"start":{"line":105,"column":18},"end":{"line":105,"column":40}},"87":{"start":{"line":107,"column":18},"end":{"line":107,"column":34}},"88":{"start":{"line":109,"column":18},"end":{"line":109,"column":61}},"89":{"start":{"line":113,"column":16},"end":{"line":115,"column":19}},"90":{"start":{"line":114,"column":18},"end":{"line":114,"column":102}},"91":{"start":{"line":116,"column":16},"end":{"line":116,"column":22}},"92":{"start":{"line":121,"column":8},"end":{"line":121,"column":94}},"93":{"start":{"line":122,"column":8},"end":{"line":122,"column":26}},"94":{"start":{"line":126,"column":4},"end":{"line":130,"column":5}},"95":{"start":{"line":127,"column":6},"end":{"line":127,"column":32}},"96":{"start":{"line":129,"column":6},"end":{"line":129,"column":40}},"97":{"start":{"line":129,"column":31},"end":{"line":129,"column":40}},"98":{"start":{"line":140,"column":2},"end":{"line":342,"column":6}},"99":{"start":{"line":143,"column":6},"end":{"line":143,"column":59}},"100":{"start":{"line":144,"column":6},"end":{"line":146,"column":7}},"101":{"start":{"line":145,"column":8},"end":{"line":145,"column":59}},"102":{"start":{"line":147,"column":6},"end":{"line":150,"column":9}},"103":{"start":{"line":155,"column":6},"end":{"line":155,"column":24}},"104":{"start":{"line":157,"column":6},"end":{"line":157,"column":40}},"105":{"start":{"line":159,"column":6},"end":{"line":159,"column":27}},"106":{"start":{"line":160,"column":6},"end":{"line":160,"column":40}},"107":{"start":{"line":161,"column":6},"end":{"line":161,"column":32}},"108":{"start":{"line":162,"column":6},"end":{"line":162,"column":27}},"109":{"start":{"line":164,"column":6},"end":{"line":244,"column":7}},"110":{"start":{"line":165,"column":8},"end":{"line":239,"column":9}},"111":{"start":{"line":169,"column":12},"end":{"line":171,"column":51}},"112":{"start":{"line":173,"column":12},"end":{"line":175,"column":16}},"113":{"start":{"line":174,"column":14},"end":{"line":174,"column":82}},"114":{"start":{"line":178,"column":12},"end":{"line":178,"column":43}},"115":{"start":{"line":179,"column":12},"end":{"line":179,"column":76}},"116":{"start":{"line":180,"column":12},"end":{"line":180,"column":18}},"117":{"start":{"line":183,"column":12},"end":{"line":183,"column":70}},"118":{"start":{"line":186,"column":12},"end":{"line":186,"column":117}},"119":{"start":{"line":189,"column":12},"end":{"line":191,"column":16}},"120":{"start":{"line":190,"column":14},"end":{"line":190,"column":82}},"121":{"start":{"line":194,"column":12},"end":{"line":194,"column":43}},"122":{"start":{"line":195,"column":12},"end":{"line":195,"column":83}},"123":{"start":{"line":196,"column":12},"end":{"line":196,"column":18}},"124":{"start":{"line":198,"column":12},"end":{"line":200,"column":61}},"125":{"start":{"line":203,"column":12},"end":{"line":205,"column":16}},"126":{"start":{"line":204,"column":14},"end":{"line":204,"column":90}},"127":{"start":{"line":208,"column":12},"end":{"line":208,"column":78}},"128":{"start":{"line":212,"column":12},"end":{"line":212,"column":98}},"129":{"start":{"line":213,"column":12},"end":{"line":213,"column":50}},"130":{"start":{"line":214,"column":12},"end":{"line":214,"column":18}},"131":{"start":{"line":217,"column":12},"end":{"line":217,"column":70}},"132":{"start":{"line":220,"column":12},"end":{"line":220,"column":43}},"133":{"start":{"line":221,"column":12},"end":{"line":221,"column":61}},"134":{"start":{"line":224,"column":12},"end":{"line":224,"column":69}},"135":{"start":{"line":225,"column":12},"end":{"line":225,"column":37}},"136":{"start":{"line":228,"column":12},"end":{"line":228,"column":42}},"137":{"start":{"line":229,"column":12},"end":{"line":229,"column":18}},"138":{"start":{"line":232,"column":12},"end":{"line":235,"column":13}},"139":{"start":{"line":233,"column":14},"end":{"line":233,"column":59}},"140":{"start":{"line":234,"column":14},"end":{"line":234,"column":55}},"141":{"start":{"line":236,"column":12},"end":{"line":236,"column":18}},"142":{"start":{"line":238,"column":12},"end":{"line":238,"column":67}},"143":{"start":{"line":241,"column":8},"end":{"line":241,"column":48}},"144":{"start":{"line":242,"column":8},"end":{"line":242,"column":22}},"145":{"start":{"line":243,"column":8},"end":{"line":243,"column":24}},"146":{"start":{"line":246,"column":6},"end":{"line":340,"column":7}},"147":{"start":{"line":248,"column":10},"end":{"line":248,"column":16}},"148":{"start":{"line":251,"column":10},"end":{"line":253,"column":11}},"149":{"start":{"line":252,"column":12},"end":{"line":252,"column":50}},"150":{"start":{"line":256,"column":10},"end":{"line":258,"column":11}},"151":{"start":{"line":257,"column":12},"end":{"line":257,"column":115}},"152":{"start":{"line":261,"column":10},"end":{"line":263,"column":13}},"153":{"start":{"line":262,"column":12},"end":{"line":262,"column":72}},"154":{"start":{"line":266,"column":10},"end":{"line":284,"column":13}},"155":{"start":{"line":267,"column":12},"end":{"line":273,"column":14}},"156":{"start":{"line":274,"column":12},"end":{"line":274,"column":69}},"157":{"start":{"line":276,"column":12},"end":{"line":282,"column":14}},"158":{"start":{"line":283,"column":12},"end":{"line":283,"column":68}},"159":{"start":{"line":285,"column":10},"end":{"line":285,"column":16}},"160":{"start":{"line":288,"column":10},"end":{"line":290,"column":11}},"161":{"start":{"line":289,"column":12},"end":{"line":289,"column":59}},"162":{"start":{"line":293,"column":10},"end":{"line":295,"column":11}},"163":{"start":{"line":294,"column":12},"end":{"line":294,"column":128}},"164":{"start":{"line":298,"column":10},"end":{"line":300,"column":13}},"165":{"start":{"line":299,"column":12},"end":{"line":299,"column":72}},"166":{"start":{"line":303,"column":10},"end":{"line":335,"column":13}},"167":{"start":{"line":304,"column":12},"end":{"line":313,"column":14}},"168":{"start":{"line":314,"column":12},"end":{"line":314,"column":68}},"169":{"start":{"line":316,"column":12},"end":{"line":322,"column":14}},"170":{"start":{"line":323,"column":12},"end":{"line":323,"column":68}},"171":{"start":{"line":324,"column":12},"end":{"line":324,"column":55}},"172":{"start":{"line":326,"column":12},"end":{"line":332,"column":14}},"173":{"start":{"line":333,"column":12},"end":{"line":333,"column":68}},"174":{"start":{"line":334,"column":12},"end":{"line":334,"column":55}},"175":{"start":{"line":336,"column":10},"end":{"line":336,"column":59}},"176":{"start":{"line":337,"column":10},"end":{"line":337,"column":16}},"177":{"start":{"line":339,"column":10},"end":{"line":339,"column":73}},"178":{"start":{"line":344,"column":2},"end":{"line":344,"column":25}},"179":{"start":{"line":347,"column":0},"end":{"line":347,"column":37}},"180":{"start":{"line":348,"column":0},"end":{"line":354,"column":1}},"181":{"start":{"line":349,"column":2},"end":{"line":351,"column":3}},"182":{"start":{"line":350,"column":4},"end":{"line":350,"column":41}},"183":{"start":{"line":352,"column":2},"end":{"line":352,"column":38}},"184":{"start":{"line":353,"column":2},"end":{"line":353,"column":17}},"185":{"start":{"line":359,"column":0},"end":{"line":361,"column":1}},"186":{"start":{"line":360,"column":2},"end":{"line":360,"column":40}},"187":{"start":{"line":366,"column":0},"end":{"line":368,"column":1}},"188":{"start":{"line":367,"column":2},"end":{"line":367,"column":65}},"189":{"start":{"line":374,"column":0},"end":{"line":388,"column":1}},"190":{"start":{"line":375,"column":2},"end":{"line":387,"column":3}},"191":{"start":{"line":376,"column":4},"end":{"line":380,"column":6}},"192":{"start":{"line":381,"column":9},"end":{"line":387,"column":3}},"193":{"start":{"line":382,"column":4},"end":{"line":382,"column":28}},"194":{"start":{"line":383,"column":9},"end":{"line":387,"column":3}},"195":{"start":{"line":384,"column":4},"end":{"line":384,"column":21}},"196":{"start":{"line":386,"column":4},"end":{"line":386,"column":48}},"197":{"start":{"line":389,"column":0},"end":{"line":389,"column":36}}},"branchMap":{"1":{"line":5,"type":"binary-expr","locations":[{"start":{"line":5,"column":169},"end":{"line":5,"column":190}},{"start":{"line":5,"column":194},"end":{"line":5,"column":199}}]},"2":{"line":5,"type":"if","locations":[{"start":{"line":5,"column":233},"end":{"line":5,"column":233}},{"start":{"line":5,"column":233},"end":{"line":5,"column":233}}]},"3":{"line":5,"type":"if","locations":[{"start":{"line":5,"column":408},"end":{"line":5,"column":408}},{"start":{"line":5,"column":408},"end":{"line":5,"column":408}}]},"4":{"line":5,"type":"if","locations":[{"start":{"line":5,"column":477},"end":{"line":5,"column":477}},{"start":{"line":5,"column":477},"end":{"line":5,"column":477}}]},"5":{"line":7,"type":"cond-expr","locations":[{"start":{"line":7,"column":70},"end":{"line":7,"column":73}},{"start":{"line":7,"column":76},"end":{"line":7,"column":94}}]},"6":{"line":7,"type":"binary-expr","locations":[{"start":{"line":7,"column":46},"end":{"line":7,"column":49}},{"start":{"line":7,"column":53},"end":{"line":7,"column":67}}]},"7":{"line":9,"type":"if","locations":[{"start":{"line":9,"column":346},"end":{"line":9,"column":346}},{"start":{"line":9,"column":346},"end":{"line":9,"column":346}}]},"8":{"line":11,"type":"if","locations":[{"start":{"line":11,"column":50},"end":{"line":11,"column":50}},{"start":{"line":11,"column":50},"end":{"line":11,"column":50}}]},"9":{"line":75,"type":"switch","locations":[{"start":{"line":76,"column":14},"end":{"line":81,"column":22}},{"start":{"line":82,"column":14},"end":{"line":85,"column":22}},{"start":{"line":86,"column":14},"end":{"line":116,"column":22}}]},"10":{"line":78,"type":"if","locations":[{"start":{"line":78,"column":16},"end":{"line":78,"column":16}},{"start":{"line":78,"column":16},"end":{"line":78,"column":16}}]},"11":{"line":96,"type":"if","locations":[{"start":{"line":96,"column":18},"end":{"line":96,"column":18}},{"start":{"line":96,"column":18},"end":{"line":96,"column":18}}]},"12":{"line":129,"type":"if","locations":[{"start":{"line":129,"column":6},"end":{"line":129,"column":6}},{"start":{"line":129,"column":6},"end":{"line":129,"column":6}}]},"13":{"line":144,"type":"if","locations":[{"start":{"line":144,"column":6},"end":{"line":144,"column":6}},{"start":{"line":144,"column":6},"end":{"line":144,"column":6}}]},"14":{"line":165,"type":"switch","locations":[{"start":{"line":166,"column":10},"end":{"line":180,"column":18}},{"start":{"line":181,"column":10},"end":{"line":196,"column":18}},{"start":{"line":197,"column":10},"end":{"line":214,"column":18}},{"start":{"line":215,"column":10},"end":{"line":229,"column":18}},{"start":{"line":230,"column":10},"end":{"line":236,"column":18}},{"start":{"line":237,"column":10},"end":{"line":238,"column":67}}]},"15":{"line":232,"type":"if","locations":[{"start":{"line":232,"column":12},"end":{"line":232,"column":12}},{"start":{"line":232,"column":12},"end":{"line":232,"column":12}}]},"16":{"line":241,"type":"cond-expr","locations":[{"start":{"line":241,"column":33},"end":{"line":241,"column":42}},{"start":{"line":241,"column":45},"end":{"line":241,"column":46}}]},"17":{"line":246,"type":"switch","locations":[{"start":{"line":247,"column":8},"end":{"line":248,"column":16}},{"start":{"line":249,"column":8},"end":{"line":285,"column":16}},{"start":{"line":286,"column":8},"end":{"line":337,"column":16}},{"start":{"line":338,"column":8},"end":{"line":339,"column":73}}]},"18":{"line":251,"type":"if","locations":[{"start":{"line":251,"column":10},"end":{"line":251,"column":10}},{"start":{"line":251,"column":10},"end":{"line":251,"column":10}}]},"19":{"line":256,"type":"if","locations":[{"start":{"line":256,"column":10},"end":{"line":256,"column":10}},{"start":{"line":256,"column":10},"end":{"line":256,"column":10}}]},"20":{"line":288,"type":"if","locations":[{"start":{"line":288,"column":10},"end":{"line":288,"column":10}},{"start":{"line":288,"column":10},"end":{"line":288,"column":10}}]},"21":{"line":293,"type":"if","locations":[{"start":{"line":293,"column":10},"end":{"line":293,"column":10}},{"start":{"line":293,"column":10},"end":{"line":293,"column":10}}]},"22":{"line":360,"type":"binary-expr","locations":[{"start":{"line":360,"column":17},"end":{"line":360,"column":23}},{"start":{"line":360,"column":27},"end":{"line":360,"column":38}}]},"23":{"line":367,"type":"binary-expr","locations":[{"start":{"line":367,"column":17},"end":{"line":367,"column":23}},{"start":{"line":367,"column":27},"end":{"line":367,"column":43}},{"start":{"line":367,"column":47},"end":{"line":367,"column":63}}]},"24":{"line":375,"type":"if","locations":[{"start":{"line":375,"column":2},"end":{"line":375,"column":2}},{"start":{"line":375,"column":2},"end":{"line":375,"column":2}}]},"25":{"line":381,"type":"if","locations":[{"start":{"line":381,"column":9},"end":{"line":381,"column":9}},{"start":{"line":381,"column":9},"end":{"line":381,"column":9}}]},"26":{"line":383,"type":"if","locations":[{"start":{"line":383,"column":9},"end":{"line":383,"column":9}},{"start":{"line":383,"column":9},"end":{"line":383,"column":9}}]}},"code":["Object.defineProperty(exports, '__esModule', {","  value: true","});","","var _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();","","function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }","","function _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { var callNext = step.bind(null, 'next'); var callThrow = step.bind(null, 'throw'); function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(callNext, callThrow); } } callNext(); }); }; }","","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }","","/*"," * Copyright (c) 2015-present, Facebook, Inc."," * All rights reserved."," *"," * This source code is licensed under the license found in the LICENSE file in"," * the root directory of this source tree."," */","","var _rx = require('rx');","","var _nuclideServiceParser = require('nuclide-service-parser');","","var _config = require('./config');","","var _NuclideServer = require('../NuclideServer');","","var _NuclideServer2 = _interopRequireDefault(_NuclideServer);","","var _nuclideServiceParserLibTypeRegistry = require('nuclide-service-parser/lib/TypeRegistry');","","var _nuclideServiceParserLibTypeRegistry2 = _interopRequireDefault(_nuclideServiceParserLibTypeRegistry);","","'use babel';","","var logger = require('nuclide-logging').getLogger();","","var ServerComponent = (function () {","  function ServerComponent(server) {","    var _this = this;","","    _classCallCheck(this, ServerComponent);","","    this._server = server;","","    this._typeRegistry = new _nuclideServiceParserLibTypeRegistry2['default']();","    this._functionsByName = new Map();","    this._classesByName = new Map();","","    this._nextObjectId = 1;","    this._objectRegistry = new Map();","","    this._subscriptions = new Map();","","    // NuclideUri type requires no transformations (it is done on the client side).","    this._typeRegistry.registerType('NuclideUri', function (uri) {","      return uri;","    }, function (remotePath) {","      return remotePath;","    });","","    var services = (0, _config.loadServicesConfig)();","","    var _loop = function (service) {","      logger.debug('Registering 3.0 service ' + service.name + '...');","      try {","        (function () {","          var defs = (0, _nuclideServiceParser.getDefinitions)(service.definition);","          var localImpl = require(service.implementation);","","          // Register type aliases.","          defs.forEach(function (definition) {","            var name = definition.name;","            switch (definition.kind) {","              case 'alias':","                logger.debug('Registering type alias ' + name + '...');","                if (definition.definition != null) {","                  _this._typeRegistry.registerAlias(name, definition.definition);","                }","                break;","              case 'function':","                // Register module-level functions.","                _this._registerFunction(service.name + '/' + name, localImpl[name], definition.type);","                break;","              case 'interface':","                // Register interfaces.","                logger.debug('Registering interface ' + name + '...');","                _this._classesByName.set(name, {","                  localImplementation: localImpl[name],","                  definition: definition","                });","","                _this._typeRegistry.registerType(name, _asyncToGenerator(function* (object) {","                  // If the object has already been assigned an id, return that id.","                  if (object._remoteId) {","                    return object._remoteId;","                  }","","                  // Put the object in the registry.","                  object._interface = name;","                  var objectId = _this._nextObjectId;","                  _this._objectRegistry.set(objectId, object);","                  object._remoteId = objectId;","                  _this._nextObjectId++;","","                  return objectId;","                }), _asyncToGenerator(function* (objectId) {","                  return _this._objectRegistry.get(objectId);","                }));","","                // Register all of the static methods as remote functions.","                definition.staticMethods.forEach(function (funcType, funcName) {","                  _this._registerFunction(name + '/' + funcName, localImpl[name][funcName], funcType);","                });","                break;","            }","          });","        })();","      } catch (e) {","        logger.error('Failed to load service ' + service.name + '. Stack Trace:\\n' + e.stack);","        return 'continue';","      }","    };","","    for (var service of services) {","      var _ret = _loop(service);","","      if (_ret === 'continue') continue;","    }","  }","","  /**","   * A helper function that let's us 'apply' an array of arguments to a constructor.","   * It works by creating a new constructor that has the same prototype as the original","   * constructor, and simply applies the original constructor directly to 'this'.","   * @returns An instance of classObject.","   */","","  _createClass(ServerComponent, [{","    key: '_registerFunction',","    value: function _registerFunction(name, localImpl, type) {","      logger.debug('Registering function ' + name + '...');","      if (this._functionsByName.has(name)) {","        throw new Error('Duplicate RPC function: ' + name);","      }","      this._functionsByName.set(name, {","        localImplementation: localImpl,","        type: type","      });","    }","  }, {","    key: 'handleMessage',","    value: _asyncToGenerator(function* (client, message) {","      var _this2 = this;","","      var requestId = message.requestId;","","      var returnVal = null;","      var returnType = { kind: 'void' };","      var callError = undefined;","      var hadError = false;","","      try {","        switch (message.type) {","          case 'FunctionCall':","            // Transform arguments and call function.","","            var _functionsByName$get = this._functionsByName.get(message['function']),","                fcLocalImplementation = _functionsByName$get.localImplementation,","                fcType = _functionsByName$get.type;","","            var fcTransfomedArgs = yield Promise.all(message.args.map(function (arg, i) {","              return _this2._typeRegistry.unmarshal(arg, fcType.argumentTypes[i]);","            }));","","            // Invoke function and return the results.","            returnType = fcType.returnType;","            returnVal = fcLocalImplementation.apply(this, fcTransfomedArgs);","            break;","          case 'MethodCall':","            // Get the object.","            var mcObject = this._objectRegistry.get(message.objectId);","","            // Get the method FunctionType description.","            var mcType = this._classesByName.get(mcObject._interface).definition.instanceMethods.get(message.method);","","            // Unmarshal arguments.","            var mcTransfomedArgs = yield Promise.all(message.args.map(function (arg, i) {","              return _this2._typeRegistry.unmarshal(arg, mcType.argumentTypes[i]);","            }));","","            // Invoke message.","            returnType = mcType.returnType;","            returnVal = mcObject[message.method].apply(mcObject, mcTransfomedArgs);","            break;","          case 'NewObject':","            var _classesByName$get = this._classesByName.get(message['interface']),","                noLocalImplementation = _classesByName$get.localImplementation,","                noDefinition = _classesByName$get.definition;","","            // Transform arguments.","            var noTransfomedArgs = yield Promise.all(message.args.map(function (arg, i) {","              return _this2._typeRegistry.unmarshal(arg, noDefinition.constructorArgs[i]);","            }));","","            // Create a new object and put it in the registry.","            var noObject = construct(noLocalImplementation, noTransfomedArgs);","","            // Return the object, which will automatically be converted to an id through the","            // marshalling system.","            returnType = { kind: 'promise', type: { kind: 'named', name: message['interface'] } };","            returnVal = Promise.resolve(noObject);","            break;","          case 'DisposeObject':","            // Get the object.","            var doObject = this._objectRegistry.get(message.objectId);","","            // Remove the object from the registry, and scrub it's id.","            doObject._remoteId = undefined;","            this._objectRegistry['delete'](message.objectId);","","            // Call the object's local dispose function.","            returnType = { kind: 'promise', type: { kind: 'void' } };","            yield doObject.dispose();","","            // Return a void Promise","            returnVal = Promise.resolve();","            break;","          case 'DisposeObservable':","            // Dispose an in-progress observable, before it has naturally completed.","            if (this._subscriptions.has(requestId)) {","              this._subscriptions.get(requestId).dispose();","              this._subscriptions['delete'](requestId);","            }","            break;","          default:","            throw new Error('Unkown message type ' + message.type);","        }","      } catch (e) {","        logger.error(e != null ? e.message : e);","        callError = e;","        hadError = true;","      }","","      switch (returnType.kind) {","        case 'void':","          break; // No need to send anything back to the user.","        case 'promise':","          // If there was an error executing the command, we send that back as a rejected promise.","          if (hadError) {","            returnVal = Promise.reject(callError);","          }","","          // Ensure that the return value is a promise.","          if (!isThenable(returnVal)) {","            returnVal = Promise.reject(new Error('Expected a Promise, but the function returned something else.'));","          }","","          // Marshal the result, to send over the network.","          returnVal = returnVal.then(function (value) {","            return _this2._typeRegistry.marshal(value, returnType.type);","          });","","          // Send the result of the promise across the socket.","          returnVal.then(function (result) {","            var resultMessage = {","              channel: 'service_framework3_rpc',","              type: 'PromiseMessage',","              requestId: requestId,","              result: result,","              hadError: false","            };","            _this2._server._sendSocketMessage(client, resultMessage);","          }, function (error) {","            var errorMessage = {","              channel: 'service_framework3_rpc',","              type: 'ErrorMessage',","              requestId: requestId,","              hadError: true,","              error: formatError(error)","            };","            _this2._server._sendSocketMessage(client, errorMessage);","          });","          break;","        case 'observable':","          // If there was an error executing the command, we send that back as an error Observable.","          if (hadError) {","            returnVal = _rx.Observable['throw'](callError);","          }","","          // Ensure that the return value is an observable.","          if (!isObservable(returnVal)) {","            returnVal = _rx.Observable['throw'](new Error('Expected an Observable, but the function returned something else.'));","          }","","          // Marshal the result, to send over the network.","          returnVal = returnVal.concatMap(function (value) {","            return _this2._typeRegistry.marshal(value, returnType.type);","          });","","          // Send the next, error, and completion events of the observable across the socket.","          var subscription = returnVal.subscribe(function (data) {","            var eventMessage = {","              channel: 'service_framework3_rpc',","              type: 'ObservableMessage',","              requestId: requestId,","              hadError: false,","              result: {","                type: 'next',","                data: data","              }","            };","            _this2._server._sendSocketMessage(client, eventMessage);","          }, function (error) {","            var errorMessage = {","              channel: 'service_framework3_rpc',","              type: 'ErrorMessage',","              requestId: requestId,","              hadError: true,","              error: formatError(error)","            };","            _this2._server._sendSocketMessage(client, errorMessage);","            _this2._subscriptions['delete'](requestId);","          }, function (completed) {","            var eventMessage = {","              channel: 'service_framework3_rpc',","              type: 'ObservableMessage',","              requestId: requestId,","              hadError: false,","              result: { type: 'completed' }","            };","            _this2._server._sendSocketMessage(client, eventMessage);","            _this2._subscriptions['delete'](requestId);","          });","          this._subscriptions.set(requestId, subscription);","          break;","        default:","          throw new Error('Unkown return type ' + returnType.kind + '.');","      }","    })","  }]);","","  return ServerComponent;","})();","","exports['default'] = ServerComponent;","function construct(classObject, args) {","  function F() {","    return classObject.apply(this, args);","  }","  F.prototype = classObject.prototype;","  return new F();","}","","/**"," * A helper function that checks if an object is thenable (Promise-like)."," */","function isThenable(object) {","  return Boolean(object && object.then);","}","","/**"," * A helper function that checks if an object is an Observable."," */","function isObservable(object) {","  return Boolean(object && object.concatMap && object.subscribe);","}","","/**"," * Format the error before sending over the web socket."," * TODO: This should be a custom marshaller registered in the TypeRegistry"," */","function formatError(error) {","  if (error instanceof Error) {","    return {","      message: error.message,","      code: error.code,","      stack: error.stack","    };","  } else if (typeof error === 'string') {","    return error.toString();","  } else if (error === undefined) {","    return undefined;","  } else {","    return 'Unknown Error: ' + error.toString();","  }","}","module.exports = exports['default'];","","/**"," * Store a mapping from function name to a structure holding both the local implementation and"," * the type definition of the function."," */","","/**"," * Store a mapping from a class name to a struct containing it's local constructor and it's"," * interface definition."," */","//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi92YXIvZm9sZGVycy94Zi9yc3BoNF9jNTczMTVyczU3eHhzZHNrcnhudjM2dDAvVC90bXBwZmw1Mm5wdWJsaXNoX3BhY2thZ2VzL25wbS9udWNsaWRlLXNlcnZlci9saWIvc2VydmljZWZyYW1ld29yay9TZXJ2ZXJDb21wb25lbnQuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7a0JBV3FDLElBQUk7O29DQUNaLHdCQUF3Qjs7c0JBQ3BCLFVBQVU7OzZCQUNqQixrQkFBa0I7Ozs7bURBQ25CLHlDQUF5Qzs7OztBQWZsRSxXQUFXLENBQUM7O0FBcUJaLElBQU0sTUFBTSxHQUFHLE9BQU8sQ0FBQyxpQkFBaUIsQ0FBQyxDQUFDLFNBQVMsRUFBRSxDQUFDOztJQUVqQyxlQUFlO0FBc0J2QixXQXRCUSxlQUFlLENBc0J0QixNQUFxQixFQUFFOzs7MEJBdEJoQixlQUFlOztBQXVCaEMsUUFBSSxDQUFDLE9BQU8sR0FBRyxNQUFNLENBQUM7O0FBRXRCLFFBQUksQ0FBQyxhQUFhLEdBQUcsc0RBQWtCLENBQUM7QUFDeEMsUUFBSSxDQUFDLGdCQUFnQixHQUFHLElBQUksR0FBRyxFQUFFLENBQUM7QUFDbEMsUUFBSSxDQUFDLGNBQWMsR0FBRyxJQUFJLEdBQUcsRUFBRSxDQUFDOztBQUVoQyxRQUFJLENBQUMsYUFBYSxHQUFHLENBQUMsQ0FBQztBQUN2QixRQUFJLENBQUMsZUFBZSxHQUFHLElBQUksR0FBRyxFQUFFLENBQUM7O0FBRWpDLFFBQUksQ0FBQyxjQUFjLEdBQUcsSUFBSSxHQUFHLEVBQUUsQ0FBQzs7O0FBR2hDLFFBQUksQ0FBQyxhQUFhLENBQUMsWUFBWSxDQUFDLFlBQVksRUFBRSxVQUFBLEdBQUc7YUFBSSxHQUFHO0tBQUEsRUFBRSxVQUFBLFVBQVU7YUFBSSxVQUFVO0tBQUEsQ0FBQyxDQUFDOztBQUVwRixRQUFNLFFBQVEsR0FBRyxZQS9DYixrQkFBa0IsR0ErQ2UsQ0FBQzs7MEJBQzNCLE9BQU87QUFDaEIs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TUFBTSxJQUFJLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQztDQUN2Qzs7Ozs7QUFLRCxTQUFTLFlBQVksQ0FBQyxNQUFXLEVBQVc7QUFDMUMsU0FBTyxPQUFPLENBQUMsTUFBTSxJQUFJLE1BQU0sQ0FBQyxTQUFTLElBQUksTUFBTSxDQUFDLFNBQVMsQ0FBQyxDQUFDO0NBQ2hFOzs7Ozs7QUFNRCxTQUFTLFdBQVcsQ0FBQyxLQUFLLEVBQXNCO0FBQzlDLE1BQUksS0FBSyxZQUFZLEtBQUssRUFBRTtBQUMxQixXQUFPO0FBQ0wsYUFBTyxFQUFFLEtBQUssQ0FBQyxPQUFPO0FBQ3RCLFVBQUksRUFBRSxLQUFLLENBQUMsSUFBSTtBQUNoQixXQUFLLEVBQUUsS0FBSyxDQUFDLEtBQUs7S0FDbkIsQ0FBQztHQUNILE1BQU0sSUFBSSxPQUFPLEtBQUssS0FBSyxRQUFRLEVBQUU7QUFDcEMsV0FBTyxLQUFLLENBQUMsUUFBUSxFQUFFLENBQUM7R0FDekIsTUFBTSxJQUFJLEtBQUssS0FBSyxTQUFTLEVBQUU7QUFDOUIsV0FBTyxTQUFTLENBQUM7R0FDbEIsTUFBTTtBQUNMLCtCQUF5QixLQUFLLENBQUMsUUFBUSxFQUFFLENBQUc7R0FDN0M7Q0FDRiIsImZpbGUiOiIvdmFyL2ZvbGRlcnMveGYvcnNwaDRfYzU3MzE1cnM1N3h4c2Rza3J4bnYzNnQwL1QvdG1wcGZsNTJucHVibGlzaF9wYWNrYWdlcy9ucG0vbnVjbGlkZS1zZXJ2ZXIvbGliL3NlcnZpY2VmcmFtZXdvcmsvU2VydmVyQ29tcG9uZW50LmpzIiwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBiYWJlbCc7XG4vKiBAZmxvdyAqL1xuXG4vKlxuICogQ29weXJpZ2h0IChjKSAyMDE1LXByZXNlbnQsIEZhY2Vib29rLCBJbmMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIGxpY2Vuc2UgZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBpblxuICogdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKi9cblxuaW1wb3J0IHtEaXNwb3NhYmxlLCBPYnNlcnZhYmxlfSBmcm9tICdyeCc7XG5pbXBvcnQge2dldERlZmluaXRpb25zfSBmcm9tICdudWNsaWRlLXNlcnZpY2UtcGFyc2VyJztcbmltcG9ydCB7bG9hZFNlcnZpY2VzQ29uZmlnfSBmcm9tICcuL2NvbmZpZyc7XG5pbXBvcnQgTnVjbGlkZVNlcnZlciBmcm9tICcuLi9OdWNsaWRlU2VydmVyJztcbmltcG9ydCBUeXBlUmVnaXN0cnkgZnJvbSAnbnVjbGlkZS1zZXJ2aWNlLXBhcnNlci9saWIvVHlwZVJlZ2lzdHJ5JztcblxuaW1wb3J0IHR5cGUge1JlcXVlc3RNZXNzYWdlLCBFcnJvclJlc3BvbnNlTWVzc2FnZSwgUHJvbWlzZVJlc3BvbnNlTWVzc2FnZSxcbiAgT2JzZXJ2YWJsZVJlc3BvbnNlTWVzc2FnZX0gZnJvbSAnLi90eXBlcyc7XG5pbXBvcnQgdHlwZSB7U29ja2V0Q2xpZW50fSBmcm9tICcuLi9OdWNsaWRlU2VydmVyJztcblxuY29uc3QgbG9nZ2VyID0gcmVxdWlyZSgnbnVjbGlkZS1sb2dnaW5nJykuZ2V0TG9nZ2VyKCk7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFNlcnZlckNvbXBvbmVudCB7XG4gIF90eXBlUmVnaXN0cnk6IFR5cGVSZWdpc3RyeTtcblxuICAvKipcbiAgICogU3RvcmUgYSBtYXBwaW5nIGZyb20gZnVuY3Rpb24gbmFtZSB0byBhIHN0cnVjdHVyZSBob2xkaW5nIGJvdGggdGhlIGxvY2FsIGltcGxlbWVudGF0aW9uIGFuZFxuICAgKiB0aGUgdHlwZSBkZWZpbml0aW9uIG9mIHRoZSBmdW5jdGlvbi5cbiAgICovXG4gIF9mdW5jdGlvbnNCeU5hbWU6IE1hcDxzdHJpbmcsIHtsb2NhbEltcGxlbWVudGF0aW9uOiBGdW5jdGlvbjsgdHlwZTogRnVuY3Rpb25UeXBlfT47XG5cbiAgLyoqXG4gICAqIFN0b3JlIGEgbWFwcGluZyBmcm9tIGEgY2xhc3MgbmFtZSB0byBhIHN0cnVjdCBjb250YWluaW5nIGl0J3MgbG9jYWwgY29uc3RydWN0b3IgYW5kIGl0J3NcbiAgICogaW50ZXJmYWNlIGRlZmluaXRpb24uXG4gICAqL1xuICBfY2xhc3Nlc0J5TmFtZTogTWFwPHN0cmluZywge2xvY2FsSW1wbGVtZW50YXRpb246IGFueTsgZGVmaW5pdGlvbjogSW50ZXJmYWNlRGVmaW5pdGlvbn0+O1xuXG4gIF9vYmplY3RSZWdpc3RyeTogTWFwPG51bWJlciwgYW55PjtcbiAgX25leHRPYmplY3RJZDogbnVtYmVyO1xuXG4gIF9zdWJzY3JpcHRpb25zOiBNYXA8bnVtYmVyLCBEaXNwb3NhYmxlPjtcblxuICBfc2VydmVyOiBOdWNsaWRlU2VydmVyO1xuXG4gIGNvbnN0cnVjdG9yKHNlcnZlcjogTnVjbGlkZVNlcnZlcikge1xuICAgIHRoaXMuX3NlcnZlciA9IHNlcnZlcjtcblxuICAgIHRoaXMuX3R5cGVSZWdpc3RyeSA9IG5ldyBUeXBlUmVnaXN0cnkoKTtcbiAgICB0aGlzLl9mdW5jdGlvbnNCeU5hbWUgPSBuZXcgTWFwKCk7XG4gICAgdGhpcy5fY2xhc3Nlc0J5TmFtZSA9IG5ldyBNYXAoKTtcblxuICAgIHRoaXMuX25leHRPYmplY3RJZCA9IDE7XG4gICAgdGhpcy5fb2JqZWN0UmVnaXN0cnkgPSBuZXcgTWFwKCk7XG5cbiAgICB0aGlzLl9zdWJzY3JpcHRpb25zID0gbmV3IE1hcCgpO1xuXG4gICAgLy8gTnVjbGlkZVVyaSB0eXBlIHJlcXVpcmVzIG5vIHRyYW5zZm9ybWF0aW9ucyAoaXQgaXMgZG9uZSBvbiB0aGUgY2xpZW50IHNpZGUpLlxuICAgIHRoaXMuX3R5cGVSZWdpc3RyeS5yZWdpc3RlclR5cGUoJ051Y2xpZGVVcmknLCB1cmkgPT4gdXJpLCByZW1vdGVQYXRoID0+IHJlbW90ZVBhdGgpO1xuXG4gICAgY29uc3Qgc2VydmljZXMgPSBsb2FkU2VydmljZXNDb25maWcoKTtcbiAgICBmb3IgKGNvbnN0IHNlcnZpY2Ugb2Ygc2VydmljZXMpIHtcbiAgICAgIGxvZ2dlci5kZWJ1ZyhgUmVnaXN0ZXJpbmcgMy4wIHNlcnZpY2UgJHtzZXJ2aWNlLm5hbWV9Li4uYCk7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCBkZWZzID0gZ2V0RGVmaW5pdGlvbnMoc2VydmljZS5kZWZpbml0aW9uKTtcbiAgICAgICAgY29uc3QgbG9jYWxJbXBsID0gcmVxdWlyZShzZXJ2aWNlLmltcGxlbWVudGF0aW9uKTtcblxuICAgICAgICAvLyBSZWdpc3RlciB0eXBlIGFsaWFzZXMuXG4gICAgICAgIGRlZnMuZm9yRWFjaChkZWZpbml0aW9uID0+IHtcbiAgICAgICAgICBjb25zdCBuYW1lID0gZGVmaW5pdGlvbi5uYW1lO1xuICAgICAgICAgIHN3aXRjaCAoZGVmaW5pdGlvbi5raW5kKSB7XG4gICAgICAgICAgICBjYXNlICdhbGlhcyc6XG4gICAgICAgICAgICAgIGxvZ2dlci5kZWJ1ZyhgUmVnaXN0ZXJpbmcgdHlwZSBhbGlhcyAke25hbWV9Li4uYCk7XG4gICAgICAgICAgICAgIGlmIChkZWZpbml0aW9uLmRlZmluaXRpb24gIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3R5cGVSZWdpc3RyeS5yZWdpc3RlckFsaWFzKG5hbWUsIGRlZmluaXRpb24uZGVmaW5pdGlvbik7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdmdW5jdGlvbic6XG4gICAgICAgICAgICAgIC8vIFJlZ2lzdGVyIG1vZHVsZS1sZXZlbCBmdW5jdGlvbnMuXG4gICAgICAgICAgICAgIHRoaXMuX3JlZ2lzdGVyRnVuY3Rpb24oYCR7c2VydmljZS5uYW1lfS8ke25hbWV9YCwgbG9jYWxJbXBsW25hbWVdLCBkZWZpbml0aW9uLnR5cGUpO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ2ludGVyZmFjZSc6XG4gICAgICAgICAgICAgIC8vIFJlZ2lzdGVyIGludGVyZmFjZXMuXG4gICAgICAgICAgICAgIGxvZ2dlci5kZWJ1ZyhgUmVnaXN0ZXJpbmcgaW50ZXJmYWNlICR7bmFtZX0uLi5gKTtcbiAgICAgICAgICAgICAgdGhpcy5fY2xhc3Nlc0J5TmFtZS5zZXQobmFtZSwgIHtcbiAgICAgICAgICAgICAgICBsb2NhbEltcGxlbWVudGF0aW9uOiBsb2NhbEltcGxbbmFtZV0sXG4gICAgICAgICAgICAgICAgZGVmaW5pdGlvbixcbiAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgdGhpcy5fdHlwZVJlZ2lzdHJ5LnJlZ2lzdGVyVHlwZShuYW1lLCBhc3luYyBvYmplY3QgPT4ge1xuICAgICAgICAgICAgICAgIC8vIElmIHRoZSBvYmplY3QgaGFzIGFscmVhZHkgYmVlbiBhc3NpZ25lZCBhbiBpZCwgcmV0dXJuIHRoYXQgaWQuXG4gICAgICAgICAgICAgICAgaWYgKG9iamVjdC5fcmVtb3RlSWQpIHtcbiAgICAgICAgICAgICAgICAgIHJldHVybiBvYmplY3QuX3JlbW90ZUlkO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIFB1dCB0aGUgb2JqZWN0IGluIHRoZSByZWdpc3RyeS5cbiAgICAgICAgICAgICAgICBvYmplY3QuX2ludGVyZmFjZSA9IG5hbWU7XG4gICAgICAgICAgICAgICAgY29uc3Qgb2JqZWN0SWQgPSB0aGlzLl9uZXh0T2JqZWN0SWQ7XG4gICAgICAgICAgICAgICAgdGhpcy5fb2JqZWN0UmVnaXN0cnkuc2V0KG9iamVjdElkLCBvYmplY3QpO1xuICAgICAgICAgICAgICAgIG9iamVjdC5fcmVtb3RlSWQgPSBvYmplY3RJZDtcbiAgICAgICAgICAgICAgICB0aGlzLl9uZXh0T2JqZWN0SWQrKztcblxuICAgICAgICAgICAgICAgIHJldHVybiBvYmplY3RJZDtcbiAgICAgICAgICAgICAgfSwgYXN5bmMgb2JqZWN0SWQgPT4gdGhpcy5fb2JqZWN0UmVnaXN0cnkuZ2V0KG9iamVjdElkKSk7XG5cbiAgICAgICAgICAgICAgLy8gUmVnaXN0ZXIgYWxsIG9mIHRoZSBzdGF0aWMgbWV0aG9kcyBhcyByZW1vdGUgZnVuY3Rpb25zLlxuICAgICAgICAgICAgICBkZWZpbml0aW9uLnN0YXRpY01ldGhvZHMuZm9yRWFjaCgoZnVuY1R5cGUsIGZ1bmNOYW1lKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5fcmVnaXN0ZXJGdW5jdGlvbihgJHtuYW1lfS8ke2Z1bmNOYW1lfWAsIGxvY2FsSW1wbFtuYW1lXVtmdW5jTmFtZV0sIGZ1bmNUeXBlKTtcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgIH0gY2F0Y2goZSkge1xuICAgICAgICBsb2dnZXIuZXJyb3IoYEZhaWxlZCB0byBsb2FkIHNlcnZpY2UgJHtzZXJ2aWNlLm5hbWV9LiBTdGFjayBUcmFjZTpcXG4ke2Uuc3RhY2t9YCk7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIF9yZWdpc3RlckZ1bmN0aW9uKG5hbWU6IHN0cmluZywgbG9jYWxJbXBsOiBGdW5jdGlvbiwgdHlwZTogRnVuY3Rpb25UeXBlKTogdm9pZCB7XG4gICAgbG9nZ2VyLmRlYnVnKGBSZWdpc3RlcmluZyBmdW5jdGlvbiAke25hbWV9Li4uYCk7XG4gICAgaWYgKHRoaXMuX2Z1bmN0aW9uc0J5TmFtZS5oYXMobmFtZSkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgRHVwbGljYXRlIFJQQyBmdW5jdGlvbjogJHtuYW1lfWApO1xuICAgIH1cbiAgICB0aGlzLl9mdW5jdGlvbnNCeU5hbWUuc2V0KG5hbWUsICB7XG4gICAgICBsb2NhbEltcGxlbWVudGF0aW9uOiBsb2NhbEltcGwsXG4gICAgICB0eXBlLFxuICAgIH0pO1xuICB9XG5cblxuICBhc3luYyBoYW5kbGVNZXNzYWdlKGNsaWVudDogU29ja2V0Q2xpZW50LCBtZXNzYWdlOiBSZXF1ZXN0TWVzc2FnZSk6IFByb21pc2U8dm9pZD4ge1xuICAgIGNvbnN0IHJlcXVlc3RJZCA9IG1lc3NhZ2UucmVxdWVzdElkO1xuXG4gICAgbGV0IHJldHVyblZhbDogP1Byb21pc2UgPSBudWxsO1xuICAgIGxldCByZXR1cm5UeXBlOiBQcm9taXNlVHlwZSB8IE9ic2VydmFibGVUeXBlIHwgVm9pZFR5cGUgPSB7IGtpbmQ6ICd2b2lkJyB9O1xuICAgIGxldCBjYWxsRXJyb3I7XG4gICAgbGV0IGhhZEVycm9yID0gZmFsc2U7XG5cbiAgICB0cnkge1xuICAgICAgc3dpdGNoIChtZXNzYWdlLnR5cGUpIHtcbiAgICAgICAgY2FzZSAnRnVuY3Rpb25DYWxsJzpcbiAgICAgICAgICAvLyBUcmFuc2Zvcm0gYXJndW1lbnRzIGFuZCBjYWxsIGZ1bmN0aW9uLlxuICAgICAgICAgIGNvbnN0IHtcbiAgICAgICAgICAgIGxvY2FsSW1wbGVtZW50YXRpb246IGZjTG9jYWxJbXBsZW1lbnRhdGlvbixcbiAgICAgICAgICAgIHR5cGU6IGZjVHlwZSxcbiAgICAgICAgICB9ID0gdGhpcy5fZnVuY3Rpb25zQnlOYW1lLmdldChtZXNzYWdlLmZ1bmN0aW9uKTtcbiAgICAgICAgICBjb25zdCBmY1RyYW5zZm9tZWRBcmdzID0gYXdhaXQgUHJvbWlzZS5hbGwoXG4gICAgICAgICAgICBtZXNzYWdlLmFyZ3MubWFwKChhcmcsIGkpID0+IHRoaXMuX3R5cGVSZWdpc3RyeS51bm1hcnNoYWwoYXJnLCBmY1R5cGUuYXJndW1lbnRUeXBlc1tpXSkpXG4gICAgICAgICAgKTtcblxuICAgICAgICAgIC8vIEludm9rZSBmdW5jdGlvbiBhbmQgcmV0dXJuIHRoZSByZXN1bHRzLlxuICAgICAgICAgIHJldHVyblR5cGUgPSBmY1R5cGUucmV0dXJuVHlwZTtcbiAgICAgICAgICByZXR1cm5WYWwgPSBmY0xvY2FsSW1wbGVtZW50YXRpb24uYXBwbHkodGhpcywgZmNUcmFuc2ZvbWVkQXJncyk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ01ldGhvZENhbGwnOlxuICAgICAgICAgIC8vIEdldCB0aGUgb2JqZWN0LlxuICAgICAgICAgIGNvbnN0IG1jT2JqZWN0ID0gdGhpcy5fb2JqZWN0UmVnaXN0cnkuZ2V0KG1lc3NhZ2Uub2JqZWN0SWQpO1xuXG4gICAgICAgICAgLy8gR2V0IHRoZSBtZXRob2QgRnVuY3Rpb25UeXBlIGRlc2NyaXB0aW9uLlxuICAgICAgICAgIGNvbnN0IG1jVHlwZTogRnVuY3Rpb25UeXBlID0gdGhpcy5fY2xhc3Nlc0J5TmFtZS5nZXQobWNPYmplY3QuX2ludGVyZmFjZSlcbiAgICAgICAgICAgIC5kZWZpbml0aW9uLmluc3RhbmNlTWV0aG9kcy5nZXQobWVzc2FnZS5tZXRob2QpO1xuXG4gICAgICAgICAgLy8gVW5tYXJzaGFsIGFyZ3VtZW50cy5cbiAgICAgICAgICBjb25zdCBtY1RyYW5zZm9tZWRBcmdzID0gYXdhaXQgUHJvbWlzZS5hbGwoXG4gICAgICAgICAgICBtZXNzYWdlLmFyZ3MubWFwKChhcmcsIGkpID0+IHRoaXMuX3R5cGVSZWdpc3RyeS51bm1hcnNoYWwoYXJnLCBtY1R5cGUuYXJndW1lbnRUeXBlc1tpXSkpXG4gICAgICAgICAgKTtcblxuICAgICAgICAgIC8vIEludm9rZSBtZXNzYWdlLlxuICAgICAgICAgIHJldHVyblR5cGUgPSBtY1R5cGUucmV0dXJuVHlwZTtcbiAgICAgICAgICByZXR1cm5WYWwgPSBtY09iamVjdFttZXNzYWdlLm1ldGhvZF0uYXBwbHkobWNPYmplY3QsIG1jVHJhbnNmb21lZEFyZ3MpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdOZXdPYmplY3QnOlxuICAgICAgICAgIGNvbnN0IHtcbiAgICAgICAgICAgIGxvY2FsSW1wbGVtZW50YXRpb246IG5vTG9jYWxJbXBsZW1lbnRhdGlvbixcbiAgICAgICAgICAgIGRlZmluaXRpb246IG5vRGVmaW5pdGlvbixcbiAgICAgICAgICB9ID0gdGhpcy5fY2xhc3Nlc0J5TmFtZS5nZXQobWVzc2FnZS5pbnRlcmZhY2UpO1xuXG4gICAgICAgICAgLy8gVHJhbnNmb3JtIGFyZ3VtZW50cy5cbiAgICAgICAgICBjb25zdCBub1RyYW5zZm9tZWRBcmdzID0gYXdhaXQgUHJvbWlzZS5hbGwobWVzc2FnZS5hcmdzLm1hcCgoYXJnLCBpKSA9PlxuICAgICAgICAgICAgdGhpcy5fdHlwZVJlZ2lzdHJ5LnVubWFyc2hhbChhcmcsIG5vRGVmaW5pdGlvbi5jb25zdHJ1Y3RvckFyZ3NbaV0pKSk7XG5cbiAgICAgICAgICAvLyBDcmVhdGUgYSBuZXcgb2JqZWN0IGFuZCBwdXQgaXQgaW4gdGhlIHJlZ2lzdHJ5LlxuICAgICAgICAgIGNvbnN0IG5vT2JqZWN0ID0gY29uc3RydWN0KG5vTG9jYWxJbXBsZW1lbnRhdGlvbiwgbm9UcmFuc2ZvbWVkQXJncyk7XG5cbiAgICAgICAgICAvLyBSZXR1cm4gdGhlIG9iamVjdCwgd2hpY2ggd2lsbCBhdXRvbWF0aWNhbGx5IGJlIGNvbnZlcnRlZCB0byBhbiBpZCB0aHJvdWdoIHRoZVxuICAgICAgICAgIC8vIG1hcnNoYWxsaW5nIHN5c3RlbS5cbiAgICAgICAgICByZXR1cm5UeXBlID0ge2tpbmQ6ICdwcm9taXNlJywgdHlwZTogeyBraW5kOiAnbmFtZWQnLCBuYW1lOiBtZXNzYWdlLmludGVyZmFjZSB9fTtcbiAgICAgICAgICByZXR1cm5WYWwgPSBQcm9taXNlLnJlc29sdmUobm9PYmplY3QpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdEaXNwb3NlT2JqZWN0JzpcbiAgICAgICAgICAvLyBHZXQgdGhlIG9iamVjdC5cbiAgICAgICAgICBjb25zdCBkb09iamVjdCA9IHRoaXMuX29iamVjdFJlZ2lzdHJ5LmdldChtZXNzYWdlLm9iamVjdElkKTtcblxuICAgICAgICAgIC8vIFJlbW92ZSB0aGUgb2JqZWN0IGZyb20gdGhlIHJlZ2lzdHJ5LCBhbmQgc2NydWIgaXQncyBpZC5cbiAgICAgICAgICBkb09iamVjdC5fcmVtb3RlSWQgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgdGhpcy5fb2JqZWN0UmVnaXN0cnkuZGVsZXRlKG1lc3NhZ2Uub2JqZWN0SWQpO1xuXG4gICAgICAgICAgLy8gQ2FsbCB0aGUgb2JqZWN0J3MgbG9jYWwgZGlzcG9zZSBmdW5jdGlvbi5cbiAgICAgICAgICByZXR1cm5UeXBlID0ge2tpbmQ6ICdwcm9taXNlJywgdHlwZTogeyBraW5kOiAndm9pZCd9fTtcbiAgICAgICAgICBhd2FpdCBkb09iamVjdC5kaXNwb3NlKCk7XG5cbiAgICAgICAgICAvLyBSZXR1cm4gYSB2b2lkIFByb21pc2VcbiAgICAgICAgICByZXR1cm5WYWwgPSBQcm9taXNlLnJlc29sdmUoKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnRGlzcG9zZU9ic2VydmFibGUnOlxuICAgICAgICAgIC8vIERpc3Bvc2UgYW4gaW4tcHJvZ3Jlc3Mgb2JzZXJ2YWJsZSwgYmVmb3JlIGl0IGhhcyBuYXR1cmFsbHkgY29tcGxldGVkLlxuICAgICAgICAgIGlmICh0aGlzLl9zdWJzY3JpcHRpb25zLmhhcyhyZXF1ZXN0SWQpKSB7XG4gICAgICAgICAgICB0aGlzLl9zdWJzY3JpcHRpb25zLmdldChyZXF1ZXN0SWQpLmRpc3Bvc2UoKTtcbiAgICAgICAgICAgIHRoaXMuX3N1YnNjcmlwdGlvbnMuZGVsZXRlKHJlcXVlc3RJZCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgVW5rb3duIG1lc3NhZ2UgdHlwZSAke21lc3NhZ2UudHlwZX1gKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBsb2dnZXIuZXJyb3IoZSAhPSBudWxsID8gZS5tZXNzYWdlIDogZSk7XG4gICAgICBjYWxsRXJyb3IgPSBlO1xuICAgICAgaGFkRXJyb3IgPSB0cnVlO1xuICAgIH1cblxuICAgIHN3aXRjaCAocmV0dXJuVHlwZS5raW5kKSB7XG4gICAgICBjYXNlICd2b2lkJzpcbiAgICAgICAgYnJlYWs7IC8vIE5vIG5lZWQgdG8gc2VuZCBhbnl0aGluZyBiYWNrIHRvIHRoZSB1c2VyLlxuICAgICAgY2FzZSAncHJvbWlzZSc6XG4gICAgICAgIC8vIElmIHRoZXJlIHdhcyBhbiBlcnJvciBleGVjdXRpbmcgdGhlIGNvbW1hbmQsIHdlIHNlbmQgdGhhdCBiYWNrIGFzIGEgcmVqZWN0ZWQgcHJvbWlzZS5cbiAgICAgICAgaWYgKGhhZEVycm9yKSB7XG4gICAgICAgICAgcmV0dXJuVmFsID0gUHJvbWlzZS5yZWplY3QoY2FsbEVycm9yKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEVuc3VyZSB0aGF0IHRoZSByZXR1cm4gdmFsdWUgaXMgYSBwcm9taXNlLlxuICAgICAgICBpZiAoIWlzVGhlbmFibGUocmV0dXJuVmFsKSkge1xuICAgICAgICAgIHJldHVyblZhbCA9IFByb21pc2UucmVqZWN0KG5ldyBFcnJvcignRXhwZWN0ZWQgYSBQcm9taXNlLCBidXQgdGhlIGZ1bmN0aW9uIHJldHVybmVkIHNvbWV0aGluZyBlbHNlLicpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIE1hcnNoYWwgdGhlIHJlc3VsdCwgdG8gc2VuZCBvdmVyIHRoZSBuZXR3b3JrLlxuICAgICAgICByZXR1cm5WYWwgPSByZXR1cm5WYWwudGhlbih2YWx1ZSA9PiB0aGlzLl90eXBlUmVnaXN0cnkubWFyc2hhbCh2YWx1ZSwgcmV0dXJuVHlwZS50eXBlKSk7XG5cbiAgICAgICAgLy8gU2VuZCB0aGUgcmVzdWx0IG9mIHRoZSBwcm9taXNlIGFjcm9zcyB0aGUgc29ja2V0LlxuICAgICAgICByZXR1cm5WYWwudGhlbihyZXN1bHQgPT4ge1xuICAgICAgICAgIGNvbnN0IHJlc3VsdE1lc3NhZ2U6IFByb21pc2VSZXNwb25zZU1lc3NhZ2UgPSB7XG4gICAgICAgICAgICBjaGFubmVsOiAnc2VydmljZV9mcmFtZXdvcmszX3JwYycsXG4gICAgICAgICAgICB0eXBlOiAnUHJvbWlzZU1lc3NhZ2UnLFxuICAgICAgICAgICAgcmVxdWVzdElkLFxuICAgICAgICAgICAgcmVzdWx0LFxuICAgICAgICAgICAgaGFkRXJyb3I6IGZhbHNlLFxuICAgICAgICAgIH07XG4gICAgICAgICAgdGhpcy5fc2VydmVyLl9zZW5kU29ja2V0TWVzc2FnZShjbGllbnQsIHJlc3VsdE1lc3NhZ2UpO1xuICAgICAgICB9LCBlcnJvciA9PiB7XG4gICAgICAgICAgY29uc3QgZXJyb3JNZXNzYWdlOiBFcnJvclJlc3BvbnNlTWVzc2FnZSA9IHtcbiAgICAgICAgICAgIGNoYW5uZWw6ICdzZXJ2aWNlX2ZyYW1ld29yazNfcnBjJyxcbiAgICAgICAgICAgIHR5cGU6ICdFcnJvck1lc3NhZ2UnLFxuICAgICAgICAgICAgcmVxdWVzdElkLFxuICAgICAgICAgICAgaGFkRXJyb3I6IHRydWUsXG4gICAgICAgICAgICBlcnJvcjogZm9ybWF0RXJyb3IoZXJyb3IpLFxuICAgICAgICAgIH07XG4gICAgICAgICAgdGhpcy5fc2VydmVyLl9zZW5kU29ja2V0TWVzc2FnZShjbGllbnQsIGVycm9yTWVzc2FnZSk7XG4gICAgICAgIH0pO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ29ic2VydmFibGUnOlxuICAgICAgICAvLyBJZiB0aGVyZSB3YXMgYW4gZXJyb3IgZXhlY3V0aW5nIHRoZSBjb21tYW5kLCB3ZSBzZW5kIHRoYXQgYmFjayBhcyBhbiBlcnJvciBPYnNlcnZhYmxlLlxuICAgICAgICBpZiAoaGFkRXJyb3IpIHtcbiAgICAgICAgICByZXR1cm5WYWwgPSBPYnNlcnZhYmxlLnRocm93KGNhbGxFcnJvcik7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBFbnN1cmUgdGhhdCB0aGUgcmV0dXJuIHZhbHVlIGlzIGFuIG9ic2VydmFibGUuXG4gICAgICAgIGlmICghaXNPYnNlcnZhYmxlKHJldHVyblZhbCkpIHtcbiAgICAgICAgICByZXR1cm5WYWwgPSBPYnNlcnZhYmxlLnRocm93KG5ldyBFcnJvcihcbiAgICAgICAgICAgICdFeHBlY3RlZCBhbiBPYnNlcnZhYmxlLCBidXQgdGhlIGZ1bmN0aW9uIHJldHVybmVkIHNvbWV0aGluZyBlbHNlLicpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIE1hcnNoYWwgdGhlIHJlc3VsdCwgdG8gc2VuZCBvdmVyIHRoZSBuZXR3b3JrLlxuICAgICAgICByZXR1cm5WYWwgPSByZXR1cm5WYWwuY29uY2F0TWFwKHZhbHVlID0+IHRoaXMuX3R5cGVSZWdpc3RyeS5tYXJzaGFsKHZhbHVlLCByZXR1cm5UeXBlLnR5cGUpKTtcblxuICAgICAgICAvLyBTZW5kIHRoZSBuZXh0LCBlcnJvciwgYW5kIGNvbXBsZXRpb24gZXZlbnRzIG9mIHRoZSBvYnNlcnZhYmxlIGFjcm9zcyB0aGUgc29ja2V0LlxuICAgICAgICBjb25zdCBzdWJzY3JpcHRpb24gPSByZXR1cm5WYWwuc3Vic2NyaWJlKGRhdGEgPT4ge1xuICAgICAgICAgIGNvbnN0IGV2ZW50TWVzc2FnZTogT2JzZXJ2YWJsZVJlc3BvbnNlTWVzc2FnZSA9IHtcbiAgICAgICAgICAgIGNoYW5uZWw6ICdzZXJ2aWNlX2ZyYW1ld29yazNfcnBjJyxcbiAgICAgICAgICAgIHR5cGU6ICdPYnNlcnZhYmxlTWVzc2FnZScsXG4gICAgICAgICAgICByZXF1ZXN0SWQsXG4gICAgICAgICAgICBoYWRFcnJvcjogZmFsc2UsXG4gICAgICAgICAgICByZXN1bHQ6IHtcbiAgICAgICAgICAgICAgdHlwZTogJ25leHQnLFxuICAgICAgICAgICAgICBkYXRhOiBkYXRhLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICB9O1xuICAgICAgICAgIHRoaXMuX3NlcnZlci5fc2VuZFNvY2tldE1lc3NhZ2UoY2xpZW50LCBldmVudE1lc3NhZ2UpO1xuICAgICAgICB9LCBlcnJvciA9PiB7XG4gICAgICAgICAgY29uc3QgZXJyb3JNZXNzYWdlOiBFcnJvclJlc3BvbnNlTWVzc2FnZSA9IHtcbiAgICAgICAgICAgIGNoYW5uZWw6ICdzZXJ2aWNlX2ZyYW1ld29yazNfcnBjJyxcbiAgICAgICAgICAgIHR5cGU6ICdFcnJvck1lc3NhZ2UnLFxuICAgICAgICAgICAgcmVxdWVzdElkLFxuICAgICAgICAgICAgaGFkRXJyb3I6IHRydWUsXG4gICAgICAgICAgICBlcnJvcjogZm9ybWF0RXJyb3IoZXJyb3IpLFxuICAgICAgICAgIH07XG4gICAgICAgICAgdGhpcy5fc2VydmVyLl9zZW5kU29ja2V0TWVzc2FnZShjbGllbnQsIGVycm9yTWVzc2FnZSk7XG4gICAgICAgICAgdGhpcy5fc3Vic2NyaXB0aW9ucy5kZWxldGUocmVxdWVzdElkKTtcbiAgICAgICAgfSwgY29tcGxldGVkID0+IHtcbiAgICAgICAgICBjb25zdCBldmVudE1lc3NhZ2U6IE9ic2VydmFibGVSZXNwb25zZU1lc3NhZ2UgPSB7XG4gICAgICAgICAgICBjaGFubmVsOiAnc2VydmljZV9mcmFtZXdvcmszX3JwYycsXG4gICAgICAgICAgICB0eXBlOiAnT2JzZXJ2YWJsZU1lc3NhZ2UnLFxuICAgICAgICAgICAgcmVxdWVzdElkLFxuICAgICAgICAgICAgaGFkRXJyb3I6IGZhbHNlLFxuICAgICAgICAgICAgcmVzdWx0OiB7IHR5cGU6ICdjb21wbGV0ZWQnIH0sXG4gICAgICAgICAgfTtcbiAgICAgICAgICB0aGlzLl9zZXJ2ZXIuX3NlbmRTb2NrZXRNZXNzYWdlKGNsaWVudCwgZXZlbnRNZXNzYWdlKTtcbiAgICAgICAgICB0aGlzLl9zdWJzY3JpcHRpb25zLmRlbGV0ZShyZXF1ZXN0SWQpO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5fc3Vic2NyaXB0aW9ucy5zZXQocmVxdWVzdElkLCBzdWJzY3JpcHRpb24pO1xuICAgICAgICBicmVhaztcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgVW5rb3duIHJldHVybiB0eXBlICR7cmV0dXJuVHlwZS5raW5kfS5gKTtcbiAgICB9XG4gIH1cbn1cblxuLyoqXG4gKiBBIGhlbHBlciBmdW5jdGlvbiB0aGF0IGxldCdzIHVzICdhcHBseScgYW4gYXJyYXkgb2YgYXJndW1lbnRzIHRvIGEgY29uc3RydWN0b3IuXG4gKiBJdCB3b3JrcyBieSBjcmVhdGluZyBhIG5ldyBjb25zdHJ1Y3RvciB0aGF0IGhhcyB0aGUgc2FtZSBwcm90b3R5cGUgYXMgdGhlIG9yaWdpbmFsXG4gKiBjb25zdHJ1Y3RvciwgYW5kIHNpbXBseSBhcHBsaWVzIHRoZSBvcmlnaW5hbCBjb25zdHJ1Y3RvciBkaXJlY3RseSB0byAndGhpcycuXG4gKiBAcmV0dXJucyBBbiBpbnN0YW5jZSBvZiBjbGFzc09iamVjdC5cbiAqL1xuZnVuY3Rpb24gY29uc3RydWN0KGNsYXNzT2JqZWN0LCBhcmdzKSB7XG4gIGZ1bmN0aW9uIEYoKSB7XG4gICAgcmV0dXJuIGNsYXNzT2JqZWN0LmFwcGx5KHRoaXMsIGFyZ3MpO1xuICB9XG4gIEYucHJvdG90eXBlID0gY2xhc3NPYmplY3QucHJvdG90eXBlO1xuICByZXR1cm4gbmV3IEYoKTtcbn1cblxuLyoqXG4gKiBBIGhlbHBlciBmdW5jdGlvbiB0aGF0IGNoZWNrcyBpZiBhbiBvYmplY3QgaXMgdGhlbmFibGUgKFByb21pc2UtbGlrZSkuXG4gKi9cbmZ1bmN0aW9uIGlzVGhlbmFibGUob2JqZWN0OiBhbnkpOiBib29sZWFuIHtcbiAgcmV0dXJuIEJvb2xlYW4ob2JqZWN0ICYmIG9iamVjdC50aGVuKTtcbn1cblxuLyoqXG4gKiBBIGhlbHBlciBmdW5jdGlvbiB0aGF0IGNoZWNrcyBpZiBhbiBvYmplY3QgaXMgYW4gT2JzZXJ2YWJsZS5cbiAqL1xuZnVuY3Rpb24gaXNPYnNlcnZhYmxlKG9iamVjdDogYW55KTogYm9vbGVhbiB7XG4gIHJldHVybiBCb29sZWFuKG9iamVjdCAmJiBvYmplY3QuY29uY2F0TWFwICYmIG9iamVjdC5zdWJzY3JpYmUpO1xufVxuXG4vKipcbiAqIEZvcm1hdCB0aGUgZXJyb3IgYmVmb3JlIHNlbmRpbmcgb3ZlciB0aGUgd2ViIHNvY2tldC5cbiAqIFRPRE86IFRoaXMgc2hvdWxkIGJlIGEgY3VzdG9tIG1hcnNoYWxsZXIgcmVnaXN0ZXJlZCBpbiB0aGUgVHlwZVJlZ2lzdHJ5XG4gKi9cbmZ1bmN0aW9uIGZvcm1hdEVycm9yKGVycm9yKTogPyhPYmplY3QgfCBzdHJpbmcpIHtcbiAgaWYgKGVycm9yIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICByZXR1cm4ge1xuICAgICAgbWVzc2FnZTogZXJyb3IubWVzc2FnZSxcbiAgICAgIGNvZGU6IGVycm9yLmNvZGUsXG4gICAgICBzdGFjazogZXJyb3Iuc3RhY2ssXG4gICAgfTtcbiAgfSBlbHNlIGlmICh0eXBlb2YgZXJyb3IgPT09ICdzdHJpbmcnKSB7XG4gICAgcmV0dXJuIGVycm9yLnRvU3RyaW5nKCk7XG4gIH0gZWxzZSBpZiAoZXJyb3IgPT09IHVuZGVmaW5lZCkge1xuICAgIHJldHVybiB1bmRlZmluZWQ7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGBVbmtub3duIEVycm9yOiAke2Vycm9yLnRvU3RyaW5nKCl9YDtcbiAgfVxufVxuIl19",""],"l":{"1":1,"5":2,"7":2,"9":9,"11":1,"21":1,"23":1,"25":1,"27":1,"29":1,"31":1,"33":1,"35":1,"37":1,"39":1,"40":1,"41":1,"43":1,"45":1,"47":1,"48":1,"49":1,"51":1,"52":1,"54":1,"57":1,"58":0,"60":0,"63":1,"65":1,"66":15,"67":15,"68":15,"69":15,"70":15,"73":10,"74":117,"75":117,"77":85,"78":85,"79":25,"81":85,"84":28,"85":28,"88":4,"89":4,"94":4,"96":0,"97":0,"101":0,"102":0,"103":0,"104":0,"105":0,"107":0,"109":0,"113":4,"114":0,"116":4,"121":5,"122":5,"126":1,"127":15,"129":15,"140":1,"143":28,"144":28,"145":0,"147":28,"155":0,"157":0,"159":0,"160":0,"161":0,"162":0,"164":0,"165":0,"169":0,"173":0,"174":0,"178":0,"179":0,"180":0,"183":0,"186":0,"189":0,"190":0,"194":0,"195":0,"196":0,"198":0,"203":0,"204":0,"208":0,"212":0,"213":0,"214":0,"217":0,"220":0,"221":0,"224":0,"225":0,"228":0,"229":0,"232":0,"233":0,"234":0,"236":0,"238":0,"241":0,"242":0,"243":0,"246":0,"248":0,"251":0,"252":0,"256":0,"257":0,"261":0,"262":0,"266":0,"267":0,"274":0,"276":0,"283":0,"285":0,"288":0,"289":0,"293":0,"294":0,"298":0,"299":0,"303":0,"304":0,"314":0,"316":0,"323":0,"324":0,"326":0,"333":0,"334":0,"336":0,"337":0,"339":0,"344":1,"347":1,"348":1,"349":1,"350":0,"352":0,"353":0,"359":1,"360":0,"366":1,"367":0,"374":1,"375":0,"376":0,"381":0,"382":0,"383":0,"384":0,"386":0,"389":1}},"/home/travis/build/npmtest/node-npmtest-nuclide-server/node_modules/nuclide-server/lib/serviceframework/config.js":{"path":"/home/travis/build/npmtest/node-npmtest-nuclide-server/node_modules/nuclide-server/lib/serviceframework/config.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1,"15":1,"16":1,"17":15,"18":6,"19":15,"20":1,"21":30,"22":30,"23":6},"b":{"1":[0,1],"2":[1,1],"3":[6,9]},"f":{"1":1,"2":1,"3":1,"4":15,"5":30},"fnMap":{"1":{"name":"_interopRequireDefault","line":6,"loc":{"start":{"line":6,"column":0},"end":{"line":6,"column":37}}},"2":{"name":"loadServicesConfig","line":28,"loc":{"start":{"line":28,"column":0},"end":{"line":28,"column":30}}},"3":{"name":"createServiceConfigObject","line":45,"loc":{"start":{"line":45,"column":0},"end":{"line":45,"column":47}}},"4":{"name":"(anonymous_4)","line":46,"loc":{"start":{"line":46,"column":24},"end":{"line":46,"column":42}}},"5":{"name":"resolveServicePath","line":67,"loc":{"start":{"line":67,"column":0},"end":{"line":67,"column":41}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":3,"column":3}},"2":{"start":{"line":4,"column":0},"end":{"line":4,"column":48}},"3":{"start":{"line":6,"column":0},"end":{"line":6,"column":97}},"4":{"start":{"line":6,"column":39},"end":{"line":6,"column":95}},"5":{"start":{"line":16,"column":0},"end":{"line":16,"column":28}},"6":{"start":{"line":18,"column":0},"end":{"line":18,"column":43}},"7":{"start":{"line":20,"column":0},"end":{"line":20,"column":12}},"8":{"start":{"line":22,"column":0},"end":{"line":22,"column":68}},"9":{"start":{"line":28,"column":0},"end":{"line":39,"column":1}},"10":{"start":{"line":30,"column":2},"end":{"line":30,"column":83}},"11":{"start":{"line":31,"column":2},"end":{"line":31,"column":27}},"12":{"start":{"line":32,"column":2},"end":{"line":37,"column":3}},"13":{"start":{"line":34,"column":4},"end":{"line":34,"column":88}},"14":{"start":{"line":38,"column":2},"end":{"line":38,"column":48}},"15":{"start":{"line":45,"column":0},"end":{"line":57,"column":1}},"16":{"start":{"line":46,"column":2},"end":{"line":56,"column":5}},"17":{"start":{"line":48,"column":4},"end":{"line":50,"column":5}},"18":{"start":{"line":49,"column":6},"end":{"line":49,"column":48}},"19":{"start":{"line":51,"column":4},"end":{"line":55,"column":6}},"20":{"start":{"line":67,"column":0},"end":{"line":73,"column":1}},"21":{"start":{"line":68,"column":2},"end":{"line":72,"column":3}},"22":{"start":{"line":69,"column":4},"end":{"line":69,"column":40}},"23":{"start":{"line":71,"column":4},"end":{"line":71,"column":64}}},"branchMap":{"1":{"line":6,"type":"cond-expr","locations":[{"start":{"line":6,"column":70},"end":{"line":6,"column":73}},{"start":{"line":6,"column":76},"end":{"line":6,"column":94}}]},"2":{"line":6,"type":"binary-expr","locations":[{"start":{"line":6,"column":46},"end":{"line":6,"column":49}},{"start":{"line":6,"column":53},"end":{"line":6,"column":67}}]},"3":{"line":48,"type":"if","locations":[{"start":{"line":48,"column":4},"end":{"line":48,"column":4}},{"start":{"line":48,"column":4},"end":{"line":48,"column":4}}]}},"code":["Object.defineProperty(exports, '__esModule', {","  value: true","});","exports.loadServicesConfig = loadServicesConfig;","","function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }","","/*"," * Copyright (c) 2015-present, Facebook, Inc."," * All rights reserved."," *"," * This source code is licensed under the license found in the LICENSE file in"," * the root directory of this source tree."," */","","var _path = require('path');","","var _path2 = _interopRequireDefault(_path);","","'use babel';","","var PACKAGE_ROOT = _path2['default'].resolve(__dirname, '..', '..');","","/**"," * Load service configs, and resolve all of the paths to absolute paths."," */","","function loadServicesConfig() {","  // $FlowIssue - This path is not recognized.","  var publicServices = createServiceConfigObject(require('../../services-3.json'));","  var privateServices = [];","  try {","    // $FlowIssue - This path is not recognized.","    privateServices = createServiceConfigObject(require('../../fb/fb-services-3.json'));","  } catch (e) {","    // This file may not exist.","  }","  return publicServices.concat(privateServices);","}","","/**"," * Takes the contents of a service config JSON file, and formats each entry into"," * a ConfigEntry."," */","function createServiceConfigObject(jsonConfig) {","  return jsonConfig.map(function (config) {","    // TODO(peterhal): Remove this once all services have had their def files removed.","    if (config.definition == null) {","      config.definition = config.implementation;","    }","    return {","      name: config.name,","      definition: resolveServicePath(config.definition),","      implementation: resolveServicePath(config.implementation)","    };","  });","}","","/**"," * Resolve service path defined in services-3.json to absolute path. The service path could"," * be in one of following forms:"," *   1. A path relative to the folder that contains `service-config.json`."," *   2. An absolute path."," *   3. A path in form of `$dependency_package/path/to/service`. For example,"," *      'nuclide-commons/lib/array.js'."," */","function resolveServicePath(servicePath) {","  try {","    return require.resolve(servicePath);","  } catch (e) {","    return _path2['default'].resolve(PACKAGE_ROOT, servicePath);","  }","}","//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi92YXIvZm9sZGVycy94Zi9yc3BoNF9jNTczMTVyczU3eHhzZHNrcnhudjM2dDAvVC90bXBwZmw1Mm5wdWJsaXNoX3BhY2thZ2VzL25wbS9udWNsaWRlLXNlcnZlci9saWIvc2VydmljZWZyYW1ld29yay9jb25maWcuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7O29CQVdpQixNQUFNOzs7O0FBWHZCLFdBQVcsQ0FBQzs7QUFhWixJQUFNLFlBQVksR0FBRyxrQkFBSyxPQUFPLENBQUMsU0FBUyxFQUFFLElBQUksRUFBRSxJQUFJLENBQUMsQ0FBQzs7Ozs7O0FBV2xELFNBQVMsa0JBQWtCLEdBQXVCOztBQUV2RCxNQUFNLGNBQWMsR0FBRyx5QkFBeUIsQ0FBQyxPQUFPLENBQUMsdUJBQXVCLENBQUMsQ0FBQyxDQUFDO0FBQ25GLE1BQUksZUFBZSxHQUFHLEVBQUUsQ0FBQztBQUN6QixNQUFJOztBQUVGLG1CQUFlLEdBQUcseUJBQXlCLENBQUMsT0FBTyxDQUFDLDZCQUE2QixDQUFDLENBQUMsQ0FBQztHQUNyRixDQUFDLE9BQU8sQ0FBQyxFQUFFOztHQUVYO0FBQ0QsU0FBTyxjQUFjLENBQUMsTUFBTSxDQUFDLGVBQWUsQ0FBQyxDQUFDO0NBQy9DOzs7Ozs7QUFNRCxTQUFTLHlCQUF5QixDQUFDLFVBQXlCLEVBQXNCO0FBQ2hGLFNBQU8sVUFBVSxDQUFDLEdBQUcsQ0FBQyxVQUFBLE1BQU0sRUFBSTs7QUFFOUIsUUFBSSxNQUFNLENBQUMsVUFBVSxJQUFJLElBQUksRUFBRTtBQUM3QixZQUFNLENBQUMsVUFBVSxHQUFHLE1BQU0sQ0FBQyxjQUFjLENBQUM7S0FDM0M7QUFDRCxXQUFPO0FBQ0wsVUFBSSxFQUFFLE1BQU0sQ0FBQyxJQUFJO0FBQ2pCLGdCQUFVLEVBQUUsa0JBQWtCLENBQUMsTUFBTSxDQUFDLFVBQVUsQ0FBQztBQUNqRCxvQkFBYyxFQUFFLGtCQUFrQixDQUFDLE1BQU0sQ0FBQyxjQUFjLENBQUM7S0FDMUQsQ0FBQztHQUNILENBQUMsQ0FBQztDQUNKOzs7Ozs7Ozs7O0FBVUQsU0FBUyxrQkFBa0IsQ0FBQyxXQUFtQixFQUFVO0FBQ3ZELE1BQUk7QUFDRixXQUFPLE9BQU8sQ0FBQyxPQUFPLENBQUMsV0FBVyxDQUFDLENBQUM7R0FDckMsQ0FBQyxPQUFPLENBQUMsRUFBRTtBQUNWLFdBQU8sa0JBQUssT0FBTyxDQUFDLFlBQVksRUFBRSxXQUFXLENBQUMsQ0FBQztHQUNoRDtDQUNGIiwiZmlsZSI6Ii92YXIvZm9sZGVycy94Zi9yc3BoNF9jNTczMTVyczU3eHhzZHNrcnhudjM2dDAvVC90bXBwZmw1Mm5wdWJsaXNoX3BhY2thZ2VzL25wbS9udWNsaWRlLXNlcnZlci9saWIvc2VydmljZWZyYW1ld29yay9jb25maWcuanMiLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIGJhYmVsJztcbi8qIEBmbG93ICovXG5cbi8qXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTUtcHJlc2VudCwgRmFjZWJvb2ssIEluYy5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgbGljZW5zZSBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGluXG4gKiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqL1xuXG5pbXBvcnQgcGF0aCBmcm9tICdwYXRoJztcblxuY29uc3QgUEFDS0FHRV9ST09UID0gcGF0aC5yZXNvbHZlKF9fZGlybmFtZSwgJy4uJywgJy4uJyk7XG5cbnR5cGUgQ29uZmlnRW50cnkgPSB7XG4gIG5hbWU6IHN0cmluZztcbiAgZGVmaW5pdGlvbjpzdHJpbmc7XG4gIGltcGxlbWVudGF0aW9uOiBzdHJpbmc7XG59O1xuXG4vKipcbiAqIExvYWQgc2VydmljZSBjb25maWdzLCBhbmQgcmVzb2x2ZSBhbGwgb2YgdGhlIHBhdGhzIHRvIGFic29sdXRlIHBhdGhzLlxuICovXG5leHBvcnQgZnVuY3Rpb24gbG9hZFNlcnZpY2VzQ29uZmlnKCk6IEFycmF5PENvbmZpZ0VudHJ5PiB7XG4gIC8vICRGbG93SXNzdWUgLSBUaGlzIHBhdGggaXMgbm90IHJlY29nbml6ZWQuXG4gIGNvbnN0IHB1YmxpY1NlcnZpY2VzID0gY3JlYXRlU2VydmljZUNvbmZpZ09iamVjdChyZXF1aXJlKCcuLi8uLi9zZXJ2aWNlcy0zLmpzb24nKSk7XG4gIGxldCBwcml2YXRlU2VydmljZXMgPSBbXTtcbiAgdHJ5IHtcbiAgICAvLyAkRmxvd0lzc3VlIC0gVGhpcyBwYXRoIGlzIG5vdCByZWNvZ25pemVkLlxuICAgIHByaXZhdGVTZXJ2aWNlcyA9IGNyZWF0ZVNlcnZpY2VDb25maWdPYmplY3QocmVxdWlyZSgnLi4vLi4vZmIvZmItc2VydmljZXMtMy5qc29uJykpO1xuICB9IGNhdGNoIChlKSB7XG4gICAgLy8gVGhpcyBmaWxlIG1heSBub3QgZXhpc3QuXG4gIH1cbiAgcmV0dXJuIHB1YmxpY1NlcnZpY2VzLmNvbmNhdChwcml2YXRlU2VydmljZXMpO1xufVxuXG4vKipcbiAqIFRha2VzIHRoZSBjb250ZW50cyBvZiBhIHNlcnZpY2UgY29uZmlnIEpTT04gZmlsZSwgYW5kIGZvcm1hdHMgZWFjaCBlbnRyeSBpbnRvXG4gKiBhIENvbmZpZ0VudHJ5LlxuICovXG5mdW5jdGlvbiBjcmVhdGVTZXJ2aWNlQ29uZmlnT2JqZWN0KGpzb25Db25maWc6IEFycmF5PE9iamVjdD4pOiBBcnJheTxDb25maWdFbnRyeT4ge1xuICByZXR1cm4ganNvbkNvbmZpZy5tYXAoY29uZmlnID0+IHtcbiAgICAvLyBUT0RPKHBldGVyaGFsKTogUmVtb3ZlIHRoaXMgb25jZSBhbGwgc2VydmljZXMgaGF2ZSBoYWQgdGhlaXIgZGVmIGZpbGVzIHJlbW92ZWQuXG4gICAgaWYgKGNvbmZpZy5kZWZpbml0aW9uID09IG51bGwpIHtcbiAgICAgIGNvbmZpZy5kZWZpbml0aW9uID0gY29uZmlnLmltcGxlbWVudGF0aW9uO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgbmFtZTogY29uZmlnLm5hbWUsXG4gICAgICBkZWZpbml0aW9uOiByZXNvbHZlU2VydmljZVBhdGgoY29uZmlnLmRlZmluaXRpb24pLFxuICAgICAgaW1wbGVtZW50YXRpb246IHJlc29sdmVTZXJ2aWNlUGF0aChjb25maWcuaW1wbGVtZW50YXRpb24pLFxuICAgIH07XG4gIH0pO1xufVxuXG4vKipcbiAqIFJlc29sdmUgc2VydmljZSBwYXRoIGRlZmluZWQgaW4gc2VydmljZXMtMy5qc29uIHRvIGFic29sdXRlIHBhdGguIFRoZSBzZXJ2aWNlIHBhdGggY291bGRcbiAqIGJlIGluIG9uZSBvZiBmb2xsb3dpbmcgZm9ybXM6XG4gKiAgIDEuIEEgcGF0aCByZWxhdGl2ZSB0byB0aGUgZm9sZGVyIHRoYXQgY29udGFpbnMgYHNlcnZpY2UtY29uZmlnLmpzb25gLlxuICogICAyLiBBbiBhYnNvbHV0ZSBwYXRoLlxuICogICAzLiBBIHBhdGggaW4gZm9ybSBvZiBgJGRlcGVuZGVuY3lfcGFja2FnZS9wYXRoL3RvL3NlcnZpY2VgLiBGb3IgZXhhbXBsZSxcbiAqICAgICAgJ251Y2xpZGUtY29tbW9ucy9saWIvYXJyYXkuanMnLlxuICovXG5mdW5jdGlvbiByZXNvbHZlU2VydmljZVBhdGgoc2VydmljZVBhdGg6IHN0cmluZyk6IHN0cmluZyB7XG4gIHRyeSB7XG4gICAgcmV0dXJuIHJlcXVpcmUucmVzb2x2ZShzZXJ2aWNlUGF0aCk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICByZXR1cm4gcGF0aC5yZXNvbHZlKFBBQ0tBR0VfUk9PVCwgc2VydmljZVBhdGgpO1xuICB9XG59XG4iXX0=",""],"l":{"1":1,"4":1,"6":1,"16":1,"18":1,"20":1,"22":1,"28":1,"30":1,"31":1,"32":1,"34":1,"38":1,"45":1,"46":1,"48":15,"49":6,"51":15,"67":1,"68":30,"69":30,"71":6}},"/home/travis/build/npmtest/node-npmtest-nuclide-server/node_modules/nuclide-server/lib/serviceframework/ClientComponent.js":{"path":"/home/travis/build/npmtest/node-npmtest-nuclide-server/node_modules/nuclide-server/lib/serviceframework/ClientComponent.js","s":{"1":1,"2":1,"3":1,"4":1,"5":8,"6":8,"7":8,"8":8,"9":8,"10":8,"11":1,"12":1,"13":1,"14":1,"15":0,"16":1,"17":1,"18":3,"19":1,"20":1,"21":1,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":1,"30":0,"31":0,"32":0,"33":0,"34":0,"35":1,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":1,"46":0,"47":0,"48":1,"49":1,"50":1,"51":1,"52":1,"53":1,"54":1,"55":1,"56":1,"57":1,"58":1,"59":1,"60":1,"61":1,"62":1,"63":1,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0,"84":0,"85":0,"86":0,"87":0,"88":0,"89":0,"90":0,"91":0,"92":0,"93":0,"94":0,"95":0,"96":0,"97":1,"98":0,"99":0,"100":0,"101":0,"102":0,"103":0,"104":0,"105":0,"106":0,"107":0,"108":0,"109":0,"110":0,"111":0,"112":0,"113":0,"114":0,"115":0,"116":0,"117":0,"118":0,"119":0,"120":0,"121":0,"122":0,"123":0,"124":0,"125":0,"126":0,"127":0,"128":0,"129":0,"130":0,"131":0,"132":0,"133":0,"134":0,"135":0,"136":0,"137":0,"138":0,"139":1,"140":1,"141":1,"142":0,"143":0,"144":0,"145":0,"146":0,"147":0,"148":0,"149":1},"b":{"1":[8,8],"2":[8,0],"3":[1,0],"4":[0,1],"5":[0,3],"6":[3,3],"7":[1,0],"8":[1,1],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0],"15":[0,0],"16":[0,0,0,0],"17":[0,0],"18":[0,0],"19":[0,0],"20":[0,0],"21":[0,0],"22":[0,0]},"f":{"1":1,"2":1,"3":1,"4":3,"5":1,"6":0,"7":0,"8":0,"9":0,"10":0,"11":1,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0},"fnMap":{"1":{"name":"(anonymous_1)","line":5,"loc":{"start":{"line":5,"column":20},"end":{"line":5,"column":32}}},"2":{"name":"defineProperties","line":5,"loc":{"start":{"line":5,"column":34},"end":{"line":5,"column":75}}},"3":{"name":"(anonymous_3)","line":5,"loc":{"start":{"line":5,"column":358},"end":{"line":5,"column":406}}},"4":{"name":"_interopRequireDefault","line":7,"loc":{"start":{"line":7,"column":0},"end":{"line":7,"column":37}}},"5":{"name":"_interopRequireWildcard","line":9,"loc":{"start":{"line":9,"column":0},"end":{"line":9,"column":38}}},"6":{"name":"_asyncToGenerator","line":11,"loc":{"start":{"line":11,"column":0},"end":{"line":11,"column":31}}},"7":{"name":"(anonymous_7)","line":11,"loc":{"start":{"line":11,"column":40},"end":{"line":11,"column":52}}},"8":{"name":"(anonymous_8)","line":11,"loc":{"start":{"line":11,"column":110},"end":{"line":11,"column":137}}},"9":{"name":"step","line":11,"loc":{"start":{"line":11,"column":221},"end":{"line":11,"column":245}}},"10":{"name":"_classCallCheck","line":13,"loc":{"start":{"line":13,"column":0},"end":{"line":13,"column":48}}},"11":{"name":"(anonymous_11)","line":51,"loc":{"start":{"line":51,"column":23},"end":{"line":51,"column":35}}},"12":{"name":"ClientComponent","line":52,"loc":{"start":{"line":52,"column":2},"end":{"line":52,"column":64}}},"13":{"name":"(anonymous_13)","line":69,"loc":{"start":{"line":69,"column":9},"end":{"line":69,"column":21}}},"14":{"name":"(anonymous_14)","line":73,"loc":{"start":{"line":73,"column":23},"end":{"line":73,"column":45}}},"15":{"name":"(anonymous_15)","line":84,"loc":{"start":{"line":84,"column":73},"end":{"line":84,"column":92}}},"16":{"name":"(anonymous_16)","line":86,"loc":{"start":{"line":86,"column":38},"end":{"line":86,"column":59}}},"17":{"name":"marshal","line":116,"loc":{"start":{"line":116,"column":11},"end":{"line":116,"column":30}}},"18":{"name":"unmarshal","line":123,"loc":{"start":{"line":123,"column":11},"end":{"line":123,"column":32}}},"19":{"name":"registerType","line":130,"loc":{"start":{"line":130,"column":11},"end":{"line":130,"column":35}}},"20":{"name":"callRemoteFunction","line":145,"loc":{"start":{"line":145,"column":11},"end":{"line":145,"column":71}}},"21":{"name":"callRemoteMethod","line":166,"loc":{"start":{"line":166,"column":11},"end":{"line":166,"column":77}}},"22":{"name":"createRemoteObject","line":186,"loc":{"start":{"line":186,"column":11},"end":{"line":186,"column":60}}},"23":{"name":"disposeRemoteObject","line":205,"loc":{"start":{"line":205,"column":11},"end":{"line":205,"column":50}}},"24":{"name":"_sendMessageAndListenForResult","line":225,"loc":{"start":{"line":225,"column":11},"end":{"line":225,"column":88}}},"25":{"name":"(anonymous_25)","line":234,"loc":{"start":{"line":234,"column":29},"end":{"line":234,"column":56}}},"26":{"name":"(anonymous_26)","line":236,"loc":{"start":{"line":236,"column":63},"end":{"line":236,"column":98}}},"27":{"name":"(anonymous_27)","line":240,"loc":{"start":{"line":240,"column":23},"end":{"line":240,"column":35}}},"28":{"name":"(anonymous_28)","line":246,"loc":{"start":{"line":246,"column":49},"end":{"line":246,"column":69}}},"29":{"name":"(anonymous_29)","line":250,"loc":{"start":{"line":250,"column":61},"end":{"line":250,"column":96}}},"30":{"name":"(anonymous_30)","line":265,"loc":{"start":{"line":265,"column":19},"end":{"line":265,"column":31}}},"31":{"name":"decodeError","line":290,"loc":{"start":{"line":290,"column":0},"end":{"line":290,"column":35}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":3,"column":3}},"2":{"start":{"line":5,"column":0},"end":{"line":5,"column":566}},"3":{"start":{"line":5,"column":34},"end":{"line":5,"column":350}},"4":{"start":{"line":5,"column":77},"end":{"line":5,"column":348}},"5":{"start":{"line":5,"column":118},"end":{"line":5,"column":144}},"6":{"start":{"line":5,"column":145},"end":{"line":5,"column":200}},"7":{"start":{"line":5,"column":201},"end":{"line":5,"column":232}},"8":{"start":{"line":5,"column":233},"end":{"line":5,"column":287}},"9":{"start":{"line":5,"column":260},"end":{"line":5,"column":287}},"10":{"start":{"line":5,"column":288},"end":{"line":5,"column":346}},"11":{"start":{"line":5,"column":351},"end":{"line":5,"column":560}},"12":{"start":{"line":5,"column":408},"end":{"line":5,"column":476}},"13":{"start":{"line":5,"column":424},"end":{"line":5,"column":476}},"14":{"start":{"line":5,"column":477},"end":{"line":5,"column":537}},"15":{"start":{"line":5,"column":494},"end":{"line":5,"column":537}},"16":{"start":{"line":5,"column":538},"end":{"line":5,"column":557}},"17":{"start":{"line":7,"column":0},"end":{"line":7,"column":97}},"18":{"start":{"line":7,"column":39},"end":{"line":7,"column":95}},"19":{"start":{"line":9,"column":0},"end":{"line":9,"column":272}},"20":{"start":{"line":9,"column":40},"end":{"line":9,"column":270}},"21":{"start":{"line":9,"column":69},"end":{"line":9,"column":80}},"22":{"start":{"line":9,"column":90},"end":{"line":9,"column":106}},"23":{"start":{"line":9,"column":107},"end":{"line":9,"column":228}},"24":{"start":{"line":9,"column":126},"end":{"line":9,"column":226}},"25":{"start":{"line":9,"column":149},"end":{"line":9,"column":224}},"26":{"start":{"line":9,"column":201},"end":{"line":9,"column":224}},"27":{"start":{"line":9,"column":229},"end":{"line":9,"column":253}},"28":{"start":{"line":9,"column":254},"end":{"line":9,"column":268}},"29":{"start":{"line":11,"column":0},"end":{"line":11,"column":462}},"30":{"start":{"line":11,"column":33},"end":{"line":11,"column":460}},"31":{"start":{"line":11,"column":54},"end":{"line":11,"column":90}},"32":{"start":{"line":11,"column":91},"end":{"line":11,"column":457}},"33":{"start":{"line":11,"column":139},"end":{"line":11,"column":178}},"34":{"start":{"line":11,"column":179},"end":{"line":11,"column":220}},"35":{"start":{"line":11,"column":221},"end":{"line":11,"column":441}},"36":{"start":{"line":11,"column":247},"end":{"line":11,"column":345}},"37":{"start":{"line":11,"column":253},"end":{"line":11,"column":278}},"38":{"start":{"line":11,"column":279},"end":{"line":11,"column":302}},"39":{"start":{"line":11,"column":321},"end":{"line":11,"column":335}},"40":{"start":{"line":11,"column":336},"end":{"line":11,"column":343}},"41":{"start":{"line":11,"column":346},"end":{"line":11,"column":439}},"42":{"start":{"line":11,"column":363},"end":{"line":11,"column":378}},"43":{"start":{"line":11,"column":388},"end":{"line":11,"column":437}},"44":{"start":{"line":11,"column":442},"end":{"line":11,"column":453}},"45":{"start":{"line":13,"column":0},"end":{"line":13,"column":153}},"46":{"start":{"line":13,"column":50},"end":{"line":13,"column":151}},"47":{"start":{"line":13,"column":92},"end":{"line":13,"column":149}},"48":{"start":{"line":23,"column":0},"end":{"line":23,"column":78}},"49":{"start":{"line":25,"column":0},"end":{"line":25,"column":65}},"50":{"start":{"line":27,"column":0},"end":{"line":27,"column":32}},"51":{"start":{"line":29,"column":0},"end":{"line":29,"column":47}},"52":{"start":{"line":31,"column":0},"end":{"line":31,"column":32}},"53":{"start":{"line":33,"column":0},"end":{"line":33,"column":49}},"54":{"start":{"line":35,"column":0},"end":{"line":35,"column":61}},"55":{"start":{"line":37,"column":0},"end":{"line":37,"column":24}},"56":{"start":{"line":39,"column":0},"end":{"line":39,"column":35}},"57":{"start":{"line":41,"column":0},"end":{"line":41,"column":94}},"58":{"start":{"line":43,"column":0},"end":{"line":43,"column":105}},"59":{"start":{"line":45,"column":0},"end":{"line":45,"column":62}},"60":{"start":{"line":47,"column":0},"end":{"line":47,"column":12}},"61":{"start":{"line":49,"column":0},"end":{"line":49,"column":52}},"62":{"start":{"line":51,"column":0},"end":{"line":287,"column":5}},"63":{"start":{"line":52,"column":2},"end":{"line":108,"column":3}},"64":{"start":{"line":53,"column":4},"end":{"line":53,"column":21}},"65":{"start":{"line":55,"column":4},"end":{"line":55,"column":43}},"66":{"start":{"line":57,"column":4},"end":{"line":57,"column":28}},"67":{"start":{"line":58,"column":4},"end":{"line":58,"column":26}},"68":{"start":{"line":59,"column":4},"end":{"line":59,"column":50}},"69":{"start":{"line":61,"column":4},"end":{"line":61,"column":80}},"70":{"start":{"line":62,"column":4},"end":{"line":62,"column":37}},"71":{"start":{"line":65,"column":4},"end":{"line":65,"column":47}},"72":{"start":{"line":66,"column":4},"end":{"line":107,"column":5}},"73":{"start":{"line":67,"column":6},"end":{"line":67,"column":70}},"74":{"start":{"line":68,"column":6},"end":{"line":106,"column":7}},"75":{"start":{"line":69,"column":8},"end":{"line":102,"column":13}},"76":{"start":{"line":70,"column":10},"end":{"line":70,"column":83}},"77":{"start":{"line":71,"column":10},"end":{"line":71,"column":99}},"78":{"start":{"line":73,"column":10},"end":{"line":101,"column":13}},"79":{"start":{"line":74,"column":12},"end":{"line":74,"column":39}},"80":{"start":{"line":75,"column":12},"end":{"line":100,"column":13}},"81":{"start":{"line":77,"column":16},"end":{"line":77,"column":71}},"82":{"start":{"line":78,"column":16},"end":{"line":80,"column":17}},"83":{"start":{"line":79,"column":18},"end":{"line":79,"column":81}},"84":{"start":{"line":81,"column":16},"end":{"line":81,"column":22}},"85":{"start":{"line":83,"column":16},"end":{"line":83,"column":68}},"86":{"start":{"line":84,"column":16},"end":{"line":98,"column":20}},"87":{"start":{"line":85,"column":18},"end":{"line":85,"column":49}},"88":{"start":{"line":88,"column":18},"end":{"line":90,"column":19}},"89":{"start":{"line":89,"column":20},"end":{"line":89,"column":63}},"90":{"start":{"line":94,"column":18},"end":{"line":94,"column":73}},"91":{"start":{"line":95,"column":18},"end":{"line":95,"column":71}},"92":{"start":{"line":96,"column":18},"end":{"line":96,"column":62}},"93":{"start":{"line":97,"column":18},"end":{"line":97,"column":32}},"94":{"start":{"line":99,"column":16},"end":{"line":99,"column":22}},"95":{"start":{"line":104,"column":8},"end":{"line":104,"column":94}},"96":{"start":{"line":105,"column":8},"end":{"line":105,"column":17}},"97":{"start":{"line":114,"column":2},"end":{"line":284,"column":6}},"98":{"start":{"line":117,"column":6},"end":{"line":117,"column":24}},"99":{"start":{"line":119,"column":6},"end":{"line":119,"column":90}},"100":{"start":{"line":124,"column":6},"end":{"line":124,"column":25}},"101":{"start":{"line":126,"column":6},"end":{"line":126,"column":94}},"102":{"start":{"line":131,"column":6},"end":{"line":131,"column":25}},"103":{"start":{"line":133,"column":6},"end":{"line":133,"column":97}},"104":{"start":{"line":146,"column":6},"end":{"line":152,"column":8}},"105":{"start":{"line":153,"column":6},"end":{"line":153,"column":106}},"106":{"start":{"line":167,"column":6},"end":{"line":174,"column":8}},"107":{"start":{"line":175,"column":6},"end":{"line":175,"column":115}},"108":{"start":{"line":187,"column":6},"end":{"line":193,"column":8}},"109":{"start":{"line":194,"column":6},"end":{"line":194,"column":110}},"110":{"start":{"line":206,"column":6},"end":{"line":211,"column":8}},"111":{"start":{"line":212,"column":6},"end":{"line":212,"column":101}},"112":{"start":{"line":226,"column":6},"end":{"line":226,"column":24}},"113":{"start":{"line":228,"column":6},"end":{"line":282,"column":7}},"114":{"start":{"line":230,"column":10},"end":{"line":230,"column":37}},"115":{"start":{"line":231,"column":10},"end":{"line":231,"column":17}},"116":{"start":{"line":234,"column":10},"end":{"line":244,"column":13}},"117":{"start":{"line":235,"column":12},"end":{"line":235,"column":41}},"118":{"start":{"line":236,"column":12},"end":{"line":238,"column":15}},"119":{"start":{"line":237,"column":14},"end":{"line":237,"column":70}},"120":{"start":{"line":240,"column":12},"end":{"line":243,"column":57}},"121":{"start":{"line":241,"column":14},"end":{"line":241,"column":79}},"122":{"start":{"line":242,"column":14},"end":{"line":242,"column":153}},"123":{"start":{"line":246,"column":10},"end":{"line":277,"column":13}},"124":{"start":{"line":247,"column":12},"end":{"line":247,"column":41}},"125":{"start":{"line":250,"column":12},"end":{"line":261,"column":15}},"126":{"start":{"line":251,"column":14},"end":{"line":260,"column":15}},"127":{"start":{"line":252,"column":16},"end":{"line":252,"column":53}},"128":{"start":{"line":254,"column":16},"end":{"line":254,"column":49}},"129":{"start":{"line":255,"column":16},"end":{"line":259,"column":17}},"130":{"start":{"line":256,"column":18},"end":{"line":256,"column":41}},"131":{"start":{"line":257,"column":23},"end":{"line":259,"column":17}},"132":{"start":{"line":258,"column":18},"end":{"line":258,"column":47}},"133":{"start":{"line":265,"column":12},"end":{"line":276,"column":14}},"134":{"start":{"line":266,"column":14},"end":{"line":266,"column":79}},"135":{"start":{"line":270,"column":14},"end":{"line":274,"column":16}},"136":{"start":{"line":275,"column":14},"end":{"line":275,"column":50}},"137":{"start":{"line":279,"column":10},"end":{"line":279,"column":28}},"138":{"start":{"line":281,"column":10},"end":{"line":281,"column":69}},"139":{"start":{"line":286,"column":2},"end":{"line":286,"column":25}},"140":{"start":{"line":289,"column":0},"end":{"line":289,"column":37}},"141":{"start":{"line":290,"column":0},"end":{"line":301,"column":1}},"142":{"start":{"line":291,"column":2},"end":{"line":300,"column":3}},"143":{"start":{"line":292,"column":4},"end":{"line":292,"column":34}},"144":{"start":{"line":293,"column":4},"end":{"line":293,"column":47}},"145":{"start":{"line":295,"column":4},"end":{"line":295,"column":41}},"146":{"start":{"line":296,"column":4},"end":{"line":296,"column":43}},"147":{"start":{"line":297,"column":4},"end":{"line":297,"column":23}},"148":{"start":{"line":299,"column":4},"end":{"line":299,"column":24}},"149":{"start":{"line":302,"column":0},"end":{"line":302,"column":36}}},"branchMap":{"1":{"line":5,"type":"binary-expr","locations":[{"start":{"line":5,"column":169},"end":{"line":5,"column":190}},{"start":{"line":5,"column":194},"end":{"line":5,"column":199}}]},"2":{"line":5,"type":"if","locations":[{"start":{"line":5,"column":233},"end":{"line":5,"column":233}},{"start":{"line":5,"column":233},"end":{"line":5,"column":233}}]},"3":{"line":5,"type":"if","locations":[{"start":{"line":5,"column":408},"end":{"line":5,"column":408}},{"start":{"line":5,"column":408},"end":{"line":5,"column":408}}]},"4":{"line":5,"type":"if","locations":[{"start":{"line":5,"column":477},"end":{"line":5,"column":477}},{"start":{"line":5,"column":477},"end":{"line":5,"column":477}}]},"5":{"line":7,"type":"cond-expr","locations":[{"start":{"line":7,"column":70},"end":{"line":7,"column":73}},{"start":{"line":7,"column":76},"end":{"line":7,"column":94}}]},"6":{"line":7,"type":"binary-expr","locations":[{"start":{"line":7,"column":46},"end":{"line":7,"column":49}},{"start":{"line":7,"column":53},"end":{"line":7,"column":67}}]},"7":{"line":9,"type":"if","locations":[{"start":{"line":9,"column":40},"end":{"line":9,"column":40}},{"start":{"line":9,"column":40},"end":{"line":9,"column":40}}]},"8":{"line":9,"type":"binary-expr","locations":[{"start":{"line":9,"column":44},"end":{"line":9,"column":47}},{"start":{"line":9,"column":51},"end":{"line":9,"column":65}}]},"9":{"line":9,"type":"if","locations":[{"start":{"line":9,"column":107},"end":{"line":9,"column":107}},{"start":{"line":9,"column":107},"end":{"line":9,"column":107}}]},"10":{"line":9,"type":"if","locations":[{"start":{"line":9,"column":149},"end":{"line":9,"column":149}},{"start":{"line":9,"column":149},"end":{"line":9,"column":149}}]},"11":{"line":11,"type":"if","locations":[{"start":{"line":11,"column":346},"end":{"line":11,"column":346}},{"start":{"line":11,"column":346},"end":{"line":11,"column":346}}]},"12":{"line":13,"type":"if","locations":[{"start":{"line":13,"column":50},"end":{"line":13,"column":50}},{"start":{"line":13,"column":50},"end":{"line":13,"column":50}}]},"13":{"line":75,"type":"switch","locations":[{"start":{"line":76,"column":14},"end":{"line":81,"column":22}},{"start":{"line":82,"column":14},"end":{"line":99,"column":22}}]},"14":{"line":78,"type":"if","locations":[{"start":{"line":78,"column":16},"end":{"line":78,"column":16}},{"start":{"line":78,"column":16},"end":{"line":78,"column":16}}]},"15":{"line":88,"type":"if","locations":[{"start":{"line":88,"column":18},"end":{"line":88,"column":18}},{"start":{"line":88,"column":18},"end":{"line":88,"column":18}}]},"16":{"line":228,"type":"switch","locations":[{"start":{"line":229,"column":8},"end":{"line":231,"column":17}},{"start":{"line":232,"column":8},"end":{"line":244,"column":13}},{"start":{"line":245,"column":8},"end":{"line":279,"column":28}},{"start":{"line":280,"column":8},"end":{"line":281,"column":69}}]},"17":{"line":237,"type":"cond-expr","locations":[{"start":{"line":237,"column":25},"end":{"line":237,"column":51}},{"start":{"line":237,"column":54},"end":{"line":237,"column":69}}]},"18":{"line":251,"type":"if","locations":[{"start":{"line":251,"column":14},"end":{"line":251,"column":14}},{"start":{"line":251,"column":14},"end":{"line":251,"column":14}}]},"19":{"line":255,"type":"if","locations":[{"start":{"line":255,"column":16},"end":{"line":255,"column":16}},{"start":{"line":255,"column":16},"end":{"line":255,"column":16}}]},"20":{"line":257,"type":"if","locations":[{"start":{"line":257,"column":23},"end":{"line":257,"column":23}},{"start":{"line":257,"column":23},"end":{"line":257,"column":23}}]},"21":{"line":291,"type":"if","locations":[{"start":{"line":291,"column":2},"end":{"line":291,"column":2}},{"start":{"line":291,"column":2},"end":{"line":291,"column":2}}]},"22":{"line":291,"type":"binary-expr","locations":[{"start":{"line":291,"column":6},"end":{"line":291,"column":26}},{"start":{"line":291,"column":30},"end":{"line":291,"column":62}}]}},"code":["Object.defineProperty(exports, '__esModule', {","  value: true","});","","var _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();","","function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }","","function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj['default'] = obj; return newObj; } }","","function _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { var callNext = step.bind(null, 'next'); var callThrow = step.bind(null, 'throw'); function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(callNext, callThrow); } } callNext(); }); }; }","","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }","","/*"," * Copyright (c) 2015-present, Facebook, Inc."," * All rights reserved."," *"," * This source code is licensed under the license found in the LICENSE file in"," * the root directory of this source tree."," */","","var _libServiceframeworkConfig = require('../../lib/serviceframework/config');","","var config = _interopRequireWildcard(_libServiceframeworkConfig);","","var _assert = require('assert');","","var _assert2 = _interopRequireDefault(_assert);","","var _events = require('events');","","var _NuclideSocket = require('../NuclideSocket');","","var _NuclideSocket2 = _interopRequireDefault(_NuclideSocket);","","var _rx = require('rx');","","var _config = require('../config');","","var _nuclideServiceParserLibTypeRegistry = require('nuclide-service-parser/lib/TypeRegistry');","","var _nuclideServiceParserLibTypeRegistry2 = _interopRequireDefault(_nuclideServiceParserLibTypeRegistry);","","var _nuclideServiceParser = require('nuclide-service-parser');","","'use babel';","","var logger = require('nuclide-logging').getLogger();","","var ClientComponent = (function () {","  function ClientComponent(emitter, socket, requestIdGenerator) {","    var _this = this;","","    _classCallCheck(this, ClientComponent);","","    this._emitter = emitter;","    this._socket = socket;","    this._requestIdGenerator = requestIdGenerator;","","    this._typeRegistry = new _nuclideServiceParserLibTypeRegistry2['default']();","    this._objectRegistry = new Map();","","    // Setup services.","    var services = config.loadServicesConfig();","    for (var service of services) {","      logger.debug('Registering 3.0 service ' + service.name + '...');","      try {","        (function () {","          var defs = (0, _nuclideServiceParser.getDefinitions)(service.definition);","          var proxy = (0, _nuclideServiceParser.getProxy)(service.name, service.definition, _this);","","          defs.forEach(function (definition) {","            var name = definition.name;","            switch (definition.kind) {","              case 'alias':","                logger.debug('Registering type alias ' + name + '...');","                if (definition.definition != null) {","                  _this._typeRegistry.registerAlias(name, definition.definition);","                }","                break;","              case 'interface':","                logger.debug('Registering interface ' + name + '.');","                _this._typeRegistry.registerType(name, _asyncToGenerator(function* (object) {","                  return yield object._idPromise;","                }), _asyncToGenerator(function* (objectId) {","                  // Return a cached proxy, if one already exists, for this object.","                  if (_this._objectRegistry.has(objectId)) {","                    return _this._objectRegistry.get(objectId);","                  }","","                  // Generate the proxy by manually setting the prototype of the object to be the","                  // prototype of the remote proxy constructor.","                  var object = { _idPromise: Promise.resolve(objectId) };","                  Object.setPrototypeOf(object, proxy[name].prototype);","                  _this._objectRegistry.set(objectId, object);","                  return object;","                }));","                break;","            }","          });","        })();","      } catch (e) {","        logger.error('Failed to load service ' + service.name + '. Stack Trace:\\n' + e.stack);","        continue;","      }","    }","  }","","  // TODO: This should be a custom marshaller registered in the TypeRegistry","","  // Delegate marshalling to the type registry.","","  _createClass(ClientComponent, [{","    key: 'marshal',","    value: function marshal() {","      var _typeRegistry;","","      return (_typeRegistry = this._typeRegistry).marshal.apply(_typeRegistry, arguments);","    }","  }, {","    key: 'unmarshal',","    value: function unmarshal() {","      var _typeRegistry2;","","      return (_typeRegistry2 = this._typeRegistry).unmarshal.apply(_typeRegistry2, arguments);","    }","  }, {","    key: 'registerType',","    value: function registerType() {","      var _typeRegistry3;","","      return (_typeRegistry3 = this._typeRegistry).registerType.apply(_typeRegistry3, arguments);","    }","","    /**","     * Call a remote function, through the service framework.","     * @param functionName - The name of the remote function to invoke.","     * @param returnType - The type of object that this function returns, so the the transport layer can","     *   register the appropriate listeners.","     * @param args - The serialized arguments to invoke the remote function with.","     */","  }, {","    key: 'callRemoteFunction',","    value: function callRemoteFunction(functionName, returnType, args) {","      var message = {","        protocol: 'service_framework3_rpc',","        type: 'FunctionCall',","        'function': functionName,","        requestId: this._requestIdGenerator(),","        args: args","      };","      return this._sendMessageAndListenForResult(message, returnType, 'Calling function ' + functionName);","    }","","    /**","     * Call a method of a remote object, through the service framework.","     * @param objectId - The id of the remote object.","     * @param methodName - The name of the method to invoke.","     * @param returnType - The type of object that this function returns, so the the transport layer can","     *   register the appropriate listeners.","     * @param args - The serialized arguments to invoke the remote method with.","     */","  }, {","    key: 'callRemoteMethod',","    value: function callRemoteMethod(objectId, methodName, returnType, args) {","      var message = {","        protocol: 'service_framework3_rpc',","        type: 'MethodCall',","        method: methodName,","        objectId: objectId,","        requestId: this._requestIdGenerator(),","        args: args","      };","      return this._sendMessageAndListenForResult(message, returnType, 'Calling remote method ' + methodName + '.');","    }","","    /**","     * Call a remote constructor, returning an id that eventually resolves to a unique identifier","     * for the object.","     * @param interfaceName - The name of the remote class for which to construct an object.","     * @param args - Serialized arguments to pass to the remote constructor.","     */","  }, {","    key: 'createRemoteObject',","    value: function createRemoteObject(interfaceName, args) {","      var message = {","        protocol: 'service_framework3_rpc',","        type: 'NewObject',","        'interface': interfaceName,","        requestId: this._requestIdGenerator(),","        args: args","      };","      return this._sendMessageAndListenForResult(message, 'promise', 'Creating instance of ' + interfaceName);","    }","","    /**","     * Dispose a remote object. This makes it's proxies unsuable, and calls the `dispose` method on","     * the remote object.","     * @param objectId - The numerical id that identifies the remote object.","     * @returns A Promise that resolves when the object disposal has completed.","     */","  }, {","    key: 'disposeRemoteObject',","    value: function disposeRemoteObject(objectId) {","      var message = {","        protocol: 'service_framework3_rpc',","        type: 'DisposeObject',","        requestId: this._requestIdGenerator(),","        objectId: objectId","      };","      return this._sendMessageAndListenForResult(message, 'promise', 'Disposing object ' + objectId);","    }","","    /**","     * Helper function that listens for a result for the given requestId.","     * @param returnType - Determines the type of messages we should subscribe to, and what this","     *   function should return.","     * @param requestId - The id of the request who's result we are listening for.","     * @returns Depending on the expected return type, this function either returns undefined, a Promise,","     *   or an Observable.","     */","  }, {","    key: '_sendMessageAndListenForResult',","    value: function _sendMessageAndListenForResult(message, returnType, timeoutMessage) {","      var _this2 = this;","","      switch (returnType) {","        case 'void':","          this._socket.send(message);","          return; // No values to return.","        case 'promise':","          // Listen for a single message, and resolve or reject a promise on that message.","          return new Promise(function (resolve, reject) {","            _this2._socket.send(message);","            _this2._emitter.once(message.requestId.toString(), function (hadError, error, result) {","              hadError ? reject(decodeError(error)) : resolve(result);","            });","","            setTimeout(function () {","              _this2._emitter.removeAllListeners(message.requestId.toString());","              reject('Timeout after ' + _config.SERVICE_FRAMEWORK_RPC_TIMEOUT_MS + ' for requestId: ' + message.requestId + ', ' + timeoutMessage + '.');","            }, _config.SERVICE_FRAMEWORK_RPC_TIMEOUT_MS);","          });","        case 'observable':","          var observable = _rx.Observable.create(function (observer) {","            _this2._socket.send(message);","","            // Listen for 'next', 'error', and 'completed' events.","            _this2._emitter.on(message.requestId.toString(), function (hadError, error, result) {","              if (hadError) {","                observer.onError(decodeError(error));","              } else {","                (0, _assert2['default'])(result);","                if (result.type === 'completed') {","                  observer.onCompleted();","                } else if (result.type === 'next') {","                  observer.onNext(result.data);","                }","              }","            });","","            // Observable dispose function, which is called on subscription dipsose, on stream","            // completion, and on stream error.","            return function () {","              _this2._emitter.removeAllListeners(message.requestId.toString());","","              // Send a message to server to call the dispose function of","              // the remote Observable subscription.","              var disposeMessage = {","                protocol: 'service_framework3_rpc',","                type: 'DisposeObservable',","                requestId: message.requestId","              };","              _this2._socket.send(disposeMessage);","            };","          });","","          return observable;","        default:","          throw new Error('Unkown return type: ' + returnType + '.');","      }","    }","  }]);","","  return ClientComponent;","})();","","exports['default'] = ClientComponent;","function decodeError(encodedError) {","  if (encodedError != null && typeof encodedError === 'object') {","    var resultError = new Error();","    resultError.message = encodedError.message;","    // $FlowIssue - some Errors (notably file operations) have a code.","    resultError.code = encodedError.code;","    resultError.stack = encodedError.stack;","    return resultError;","  } else {","    return encodedError;","  }","}","module.exports = exports['default'];","//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi92YXIvZm9sZGVycy94Zi9yc3BoNF9jNTczMTVyczU3eHhzZHNrcnhudjM2dDAvVC90bXBwZmw1Mm5wdWJsaXNoX3BhY2thZ2VzL25wbS9udWNsaWRlLXNlcnZlci9saWIvc2VydmljZWZyYW1ld29yay9DbGllbnRDb21wb25lbnQuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozt5Q0FXd0IsbUNBQW1DOztJQUEvQyxNQUFNOztzQkFFSSxRQUFROzs7O3NCQUNILFFBQVE7OzZCQUNULGtCQUFrQjs7OztrQkFDbkIsSUFBSTs7c0JBQ2tCLFdBQVc7O21EQUVqQyx5Q0FBeUM7Ozs7b0NBQzNCLHdCQUF3Qjs7QUFwQi9ELFdBQVcsQ0FBQzs7QUEwQlosSUFBTSxNQUFNLEdBQUcsT0FBTyxDQUFDLGlCQUFpQixDQUFDLENBQUMsU0FBUyxFQUFFLENBQUM7O0lBRWpDLGVBQWU7QUFRdkIsV0FSUSxlQUFlLENBUXRCLE9BQXFCLEVBQUUsTUFBcUIsRUFBRSxrQkFBZ0MsRUFBRTs7OzBCQVJ6RSxlQUFlOztBQVNoQyxRQUFJLENBQUMsUUFBUSxHQUFHLE9BQU8sQ0FBQztBQUN4QixRQUFJLENBQUMsT0FBTyxHQUFHLE1BQU0sQ0FBQztBQUN0QixRQUFJLENBQUMsbUJBQW1CLEdBQUcsa0JBQWtCLENBQUM7O0FBRTlDLFFBQUksQ0FBQyxhQUFhLEdBQUcsc0RBQWtCLENBQUM7QUFDeEMsUUFBSSxDQUFDLGVBQWUsR0FBRyxJQUFJLEdBQUcsRUFBRSxDQUFDOzs7QUFHakMsUUFBTSxRQUFRLEdBQUcsTUFBTSxDQUFDLGtCQUFrQixFQUFFLENBQUM7QUFDN0MsU0FBSyxJQUFNLE9BQU8sSUFBSSxRQUFRLEVBQUU7QUFDOUIsWUFBTSxDQUFDLEtBQUssOEJBQTRCLE9BQU8sQ0FBQyxJQUFJLFNBQU0sQ0FBQztBQUMzRCxVQUFJOztBQUNGLGNBQU0sSUFBSSxHQUFHLDBCQTdCSCxjQUFjLEVBNkJJLE9BQU8sQ0FBQyxVQUFVLENB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L3RtcHBmbDUybnB1Ymxpc2hfcGFja2FnZXMvbnBtL251Y2xpZGUtc2VydmVyL2xpYi9zZXJ2aWNlZnJhbWV3b3JrL0NsaWVudENvbXBvbmVudC5qcyIsInNvdXJjZXNDb250ZW50IjpbIid1c2UgYmFiZWwnO1xuLyogQGZsb3cgKi9cblxuLypcbiAqIENvcHlyaWdodCAoYykgMjAxNS1wcmVzZW50LCBGYWNlYm9vaywgSW5jLlxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBsaWNlbnNlIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgaW5cbiAqIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICovXG5cbmltcG9ydCAqIGFzIGNvbmZpZyBmcm9tICcuLi8uLi9saWIvc2VydmljZWZyYW1ld29yay9jb25maWcnO1xuXG5pbXBvcnQgaW52YXJpYW50IGZyb20gJ2Fzc2VydCc7XG5pbXBvcnQge0V2ZW50RW1pdHRlcn0gZnJvbSAnZXZlbnRzJztcbmltcG9ydCBOdWNsaWRlU29ja2V0IGZyb20gJy4uL051Y2xpZGVTb2NrZXQnO1xuaW1wb3J0IHtPYnNlcnZhYmxlfSBmcm9tICdyeCc7XG5pbXBvcnQge1NFUlZJQ0VfRlJBTUVXT1JLX1JQQ19USU1FT1VUX01TfSBmcm9tICcuLi9jb25maWcnO1xuXG5pbXBvcnQgVHlwZVJlZ2lzdHJ5IGZyb20gJ251Y2xpZGUtc2VydmljZS1wYXJzZXIvbGliL1R5cGVSZWdpc3RyeSc7XG5pbXBvcnQge2dldFByb3h5LCBnZXREZWZpbml0aW9uc30gZnJvbSAnbnVjbGlkZS1zZXJ2aWNlLXBhcnNlcic7XG5cbmltcG9ydCB0eXBlIHtSZXF1ZXN0TWVzc2FnZSwgQ2FsbFJlbW90ZUZ1bmN0aW9uTWVzc2FnZSwgQ3JlYXRlUmVtb3RlT2JqZWN0TWVzc2FnZSxcbiAgQ2FsbFJlbW90ZU1ldGhvZE1lc3NhZ2UsIERpc3Bvc2VSZW1vdGVPYmplY3RNZXNzYWdlLCBEaXNwb3NlT2JzZXJ2YWJsZU1lc3NhZ2UsXG4gIFJldHVyblR5cGUsIE9ic2VydmFibGVSZXN1bHR9IGZyb20gJy4vdHlwZXMnO1xuXG5jb25zdCBsb2dnZXIgPSByZXF1aXJlKCdudWNsaWRlLWxvZ2dpbmcnKS5nZXRMb2dnZXIoKTtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ2xpZW50Q29tcG9uZW50IHtcbiAgX2VtaXR0ZXI6IEV2ZW50RW1pdHRlcjtcbiAgX3NvY2tldDogTnVjbGlkZVNvY2tldDtcbiAgX3JlcXVlc3RJZEdlbmVyYXRvcjogKCkgPT4gbnVtYmVyO1xuXG4gIF90eXBlUmVnaXN0cnk6IFR5cGVSZWdpc3RyeTtcbiAgX29iamVjdFJlZ2lzdHJ5OiBNYXA8bnVtYmVyLCBhbnk+O1xuXG4gIGNvbnN0cnVjdG9yKGVtaXR0ZXI6IEV2ZW50RW1pdHRlciwgc29ja2V0OiBOdWNsaWRlU29ja2V0LCByZXF1ZXN0SWRHZW5lcmF0b3I6ICgpID0+IG51bWJlcikge1xuICAgIHRoaXMuX2VtaXR0ZXIgPSBlbWl0dGVyO1xuICAgIHRoaXMuX3NvY2tldCA9IHNvY2tldDtcbiAgICB0aGlzLl9yZXF1ZXN0SWRHZW5lcmF0b3IgPSByZXF1ZXN0SWRHZW5lcmF0b3I7XG5cbiAgICB0aGlzLl90eXBlUmVnaXN0cnkgPSBuZXcgVHlwZVJlZ2lzdHJ5KCk7XG4gICAgdGhpcy5fb2JqZWN0UmVnaXN0cnkgPSBuZXcgTWFwKCk7XG5cbiAgICAvLyBTZXR1cCBzZXJ2aWNlcy5cbiAgICBjb25zdCBzZXJ2aWNlcyA9IGNvbmZpZy5sb2FkU2VydmljZXNDb25maWcoKTtcbiAgICBmb3IgKGNvbnN0IHNlcnZpY2Ugb2Ygc2VydmljZXMpIHtcbiAgICAgIGxvZ2dlci5kZWJ1ZyhgUmVnaXN0ZXJpbmcgMy4wIHNlcnZpY2UgJHtzZXJ2aWNlLm5hbWV9Li4uYCk7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCBkZWZzID0gZ2V0RGVmaW5pdGlvbnMoc2VydmljZS5kZWZpbml0aW9uKTtcbiAgICAgICAgY29uc3QgcHJveHkgPSBnZXRQcm94eShzZXJ2aWNlLm5hbWUsIHNlcnZpY2UuZGVmaW5pdGlvbiwgdGhpcyk7XG5cbiAgICAgICAgZGVmcy5mb3JFYWNoKGRlZmluaXRpb24gPT4ge1xuICAgICAgICAgIGNvbnN0IG5hbWUgPSBkZWZpbml0aW9uLm5hbWU7XG4gICAgICAgICAgc3dpdGNoIChkZWZpbml0aW9uLmtpbmQpIHtcbiAgICAgICAgICAgIGNhc2UgJ2FsaWFzJzpcbiAgICAgICAgICAgICAgbG9nZ2VyLmRlYnVnKGBSZWdpc3RlcmluZyB0eXBlIGFsaWFzICR7bmFtZX0uLi5gKTtcbiAgICAgICAgICAgICAgaWYgKGRlZmluaXRpb24uZGVmaW5pdGlvbiAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fdHlwZVJlZ2lzdHJ5LnJlZ2lzdGVyQWxpYXMobmFtZSwgZGVmaW5pdGlvbi5kZWZpbml0aW9uKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ2ludGVyZmFjZSc6XG4gICAgICAgICAgICAgIGxvZ2dlci5kZWJ1ZyhgUmVnaXN0ZXJpbmcgaW50ZXJmYWNlICR7bmFtZX0uYCk7XG4gICAgICAgICAgICAgIHRoaXMuX3R5cGVSZWdpc3RyeS5yZWdpc3RlclR5cGUobmFtZSwgYXN5bmMgb2JqZWN0ID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gYXdhaXQgb2JqZWN0Ll9pZFByb21pc2U7XG4gICAgICAgICAgICAgIH0sIGFzeW5jIG9iamVjdElkID0+IHtcbiAgICAgICAgICAgICAgICAvLyBSZXR1cm4gYSBjYWNoZWQgcHJveHksIGlmIG9uZSBhbHJlYWR5IGV4aXN0cywgZm9yIHRoaXMgb2JqZWN0LlxuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9vYmplY3RSZWdpc3RyeS5oYXMob2JqZWN0SWQpKSB7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fb2JqZWN0UmVnaXN0cnkuZ2V0KG9iamVjdElkKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBHZW5lcmF0ZSB0aGUgcHJveHkgYnkgbWFudWFsbHkgc2V0dGluZyB0aGUgcHJvdG90eXBlIG9mIHRoZSBvYmplY3QgdG8gYmUgdGhlXG4gICAgICAgICAgICAgICAgLy8gcHJvdG90eXBlIG9mIHRoZSByZW1vdGUgcHJveHkgY29uc3RydWN0b3IuXG4gICAgICAgICAgICAgICAgY29uc3Qgb2JqZWN0ID0geyBfaWRQcm9taXNlOiBQcm9taXNlLnJlc29sdmUob2JqZWN0SWQpIH07XG4gICAgICAgICAgICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKG9iamVjdCwgcHJveHlbbmFtZV0ucHJvdG90eXBlKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9vYmplY3RSZWdpc3RyeS5zZXQob2JqZWN0SWQsIG9iamVjdCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG9iamVjdDtcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9IGNhdGNoKGUpIHtcbiAgICAgICAgbG9nZ2VyLmVycm9yKGBGYWlsZWQgdG8gbG9hZCBzZXJ2aWNlICR7c2VydmljZS5uYW1lfS4gU3RhY2sgVHJhY2U6XFxuJHtlLnN0YWNrfWApO1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvLyBEZWxlZ2F0ZSBtYXJzaGFsbGluZyB0byB0aGUgdHlwZSByZWdpc3RyeS5cbiAgbWFyc2hhbCguLi5hcmdzKTogYW55IHtcbiAgICByZXR1cm4gdGhpcy5fdHlwZVJlZ2lzdHJ5Lm1hcnNoYWwoLi4uYXJncyk7XG4gIH1cbiAgdW5tYXJzaGFsKC4uLmFyZ3MpOiBhbnkge1xuICAgIHJldHVybiB0aGlzLl90eXBlUmVnaXN0cnkudW5tYXJzaGFsKC4uLmFyZ3MpO1xuICB9XG4gIHJlZ2lzdGVyVHlwZSguLi5hcmdzKTogdm9pZCB7XG4gICAgcmV0dXJuIHRoaXMuX3R5cGVSZWdpc3RyeS5yZWdpc3RlclR5cGUoLi4uYXJncyk7XG4gIH1cblxuICAvKipcbiAgICogQ2FsbCBhIHJlbW90ZSBmdW5jdGlvbiwgdGhyb3VnaCB0aGUgc2VydmljZSBmcmFtZXdvcmsuXG4gICAqIEBwYXJhbSBmdW5jdGlvbk5hbWUgLSBUaGUgbmFtZSBvZiB0aGUgcmVtb3RlIGZ1bmN0aW9uIHRvIGludm9rZS5cbiAgICogQHBhcmFtIHJldHVyblR5cGUgLSBUaGUgdHlwZSBvZiBvYmplY3QgdGhhdCB0aGlzIGZ1bmN0aW9uIHJldHVybnMsIHNvIHRoZSB0aGUgdHJhbnNwb3J0IGxheWVyIGNhblxuICAgKiAgIHJlZ2lzdGVyIHRoZSBhcHByb3ByaWF0ZSBsaXN0ZW5lcnMuXG4gICAqIEBwYXJhbSBhcmdzIC0gVGhlIHNlcmlhbGl6ZWQgYXJndW1lbnRzIHRvIGludm9rZSB0aGUgcmVtb3RlIGZ1bmN0aW9uIHdpdGguXG4gICAqL1xuICBjYWxsUmVtb3RlRnVuY3Rpb24oZnVuY3Rpb25OYW1lOiBzdHJpbmcsIHJldHVyblR5cGU6IFJldHVyblR5cGUsIGFyZ3M6IEFycmF5PGFueT4pOiBhbnkge1xuICAgIGNvbnN0IG1lc3NhZ2U6IENhbGxSZW1vdGVGdW5jdGlvbk1lc3NhZ2UgPSB7XG4gICAgICBwcm90b2NvbDogJ3NlcnZpY2VfZnJhbWV3b3JrM19ycGMnLFxuICAgICAgdHlwZTogJ0Z1bmN0aW9uQ2FsbCcsXG4gICAgICBmdW5jdGlvbjogZnVuY3Rpb25OYW1lLFxuICAgICAgcmVxdWVzdElkOiB0aGlzLl9yZXF1ZXN0SWRHZW5lcmF0b3IoKSxcbiAgICAgIGFyZ3MsXG4gICAgfTtcbiAgICByZXR1cm4gdGhpcy5fc2VuZE1lc3NhZ2VBbmRMaXN0ZW5Gb3JSZXN1bHQobWVzc2FnZSwgcmV0dXJuVHlwZSwgYENhbGxpbmcgZnVuY3Rpb24gJHtmdW5jdGlvbk5hbWV9YCk7XG4gIH1cblxuICAvKipcbiAgICogQ2FsbCBhIG1ldGhvZCBvZiBhIHJlbW90ZSBvYmplY3QsIHRocm91Z2ggdGhlIHNlcnZpY2UgZnJhbWV3b3JrLlxuICAgKiBAcGFyYW0gb2JqZWN0SWQgLSBUaGUgaWQgb2YgdGhlIHJlbW90ZSBvYmplY3QuXG4gICAqIEBwYXJhbSBtZXRob2ROYW1lIC0gVGhlIG5hbWUgb2YgdGhlIG1ldGhvZCB0byBpbnZva2UuXG4gICAqIEBwYXJhbSByZXR1cm5UeXBlIC0gVGhlIHR5cGUgb2Ygb2JqZWN0IHRoYXQgdGhpcyBmdW5jdGlvbiByZXR1cm5zLCBzbyB0aGUgdGhlIHRyYW5zcG9ydCBsYXllciBjYW5cbiAgICogICByZWdpc3RlciB0aGUgYXBwcm9wcmlhdGUgbGlzdGVuZXJzLlxuICAgKiBAcGFyYW0gYXJncyAtIFRoZSBzZXJpYWxpemVkIGFyZ3VtZW50cyB0byBpbnZva2UgdGhlIHJlbW90ZSBtZXRob2Qgd2l0aC5cbiAgICovXG4gIGNhbGxSZW1vdGVNZXRob2Qob2JqZWN0SWQ6IG51bWJlciwgbWV0aG9kTmFtZTogc3RyaW5nLCByZXR1cm5UeXBlOiBSZXR1cm5UeXBlLCBhcmdzOiBBcnJheTxhbnk+KTogYW55IHtcbiAgICBjb25zdCBtZXNzYWdlOiBDYWxsUmVtb3RlTWV0aG9kTWVzc2FnZSA9IHtcbiAgICAgIHByb3RvY29sOiAnc2VydmljZV9mcmFtZXdvcmszX3JwYycsXG4gICAgICB0eXBlOiAnTWV0aG9kQ2FsbCcsXG4gICAgICBtZXRob2Q6IG1ldGhvZE5hbWUsXG4gICAgICBvYmplY3RJZCxcbiAgICAgIHJlcXVlc3RJZDogdGhpcy5fcmVxdWVzdElkR2VuZXJhdG9yKCksXG4gICAgICBhcmdzLFxuICAgIH07XG4gICAgcmV0dXJuIHRoaXMuX3NlbmRNZXNzYWdlQW5kTGlzdGVuRm9yUmVzdWx0KG1lc3NhZ2UsIHJldHVyblR5cGUsIGBDYWxsaW5nIHJlbW90ZSBtZXRob2QgJHttZXRob2ROYW1lfS5gKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDYWxsIGEgcmVtb3RlIGNvbnN0cnVjdG9yLCByZXR1cm5pbmcgYW4gaWQgdGhhdCBldmVudHVhbGx5IHJlc29sdmVzIHRvIGEgdW5pcXVlIGlkZW50aWZpZXJcbiAgICogZm9yIHRoZSBvYmplY3QuXG4gICAqIEBwYXJhbSBpbnRlcmZhY2VOYW1lIC0gVGhlIG5hbWUgb2YgdGhlIHJlbW90ZSBjbGFzcyBmb3Igd2hpY2ggdG8gY29uc3RydWN0IGFuIG9iamVjdC5cbiAgICogQHBhcmFtIGFyZ3MgLSBTZXJpYWxpemVkIGFyZ3VtZW50cyB0byBwYXNzIHRvIHRoZSByZW1vdGUgY29uc3RydWN0b3IuXG4gICAqL1xuICBjcmVhdGVSZW1vdGVPYmplY3QoaW50ZXJmYWNlTmFtZTogc3RyaW5nLCBhcmdzOiBBcnJheTxhbnk+KTogUHJvbWlzZTxudW1iZXI+IHtcbiAgICBjb25zdCBtZXNzYWdlOiBDcmVhdGVSZW1vdGVPYmplY3RNZXNzYWdlID0ge1xuICAgICAgcHJvdG9jb2w6ICdzZXJ2aWNlX2ZyYW1ld29yazNfcnBjJyxcbiAgICAgIHR5cGU6ICdOZXdPYmplY3QnLFxuICAgICAgaW50ZXJmYWNlOiBpbnRlcmZhY2VOYW1lLFxuICAgICAgcmVxdWVzdElkOiB0aGlzLl9yZXF1ZXN0SWRHZW5lcmF0b3IoKSxcbiAgICAgIGFyZ3MsXG4gICAgfTtcbiAgICByZXR1cm4gdGhpcy5fc2VuZE1lc3NhZ2VBbmRMaXN0ZW5Gb3JSZXN1bHQobWVzc2FnZSwgJ3Byb21pc2UnLCBgQ3JlYXRpbmcgaW5zdGFuY2Ugb2YgJHtpbnRlcmZhY2VOYW1lfWApO1xuICB9XG5cbiAgLyoqXG4gICAqIERpc3Bvc2UgYSByZW1vdGUgb2JqZWN0LiBUaGlzIG1ha2VzIGl0J3MgcHJveGllcyB1bnN1YWJsZSwgYW5kIGNhbGxzIHRoZSBgZGlzcG9zZWAgbWV0aG9kIG9uXG4gICAqIHRoZSByZW1vdGUgb2JqZWN0LlxuICAgKiBAcGFyYW0gb2JqZWN0SWQgLSBUaGUgbnVtZXJpY2FsIGlkIHRoYXQgaWRlbnRpZmllcyB0aGUgcmVtb3RlIG9iamVjdC5cbiAgICogQHJldHVybnMgQSBQcm9taXNlIHRoYXQgcmVzb2x2ZXMgd2hlbiB0aGUgb2JqZWN0IGRpc3Bvc2FsIGhhcyBjb21wbGV0ZWQuXG4gICAqL1xuICBkaXNwb3NlUmVtb3RlT2JqZWN0KG9iamVjdElkOiBudW1iZXIpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBjb25zdCBtZXNzYWdlOiBEaXNwb3NlUmVtb3RlT2JqZWN0TWVzc2FnZSA9IHtcbiAgICAgIHByb3RvY29sOiAnc2VydmljZV9mcmFtZXdvcmszX3JwYycsXG4gICAgICB0eXBlOiAnRGlzcG9zZU9iamVjdCcsXG4gICAgICByZXF1ZXN0SWQ6IHRoaXMuX3JlcXVlc3RJZEdlbmVyYXRvcigpLFxuICAgICAgb2JqZWN0SWQsXG4gICAgfTtcbiAgICByZXR1cm4gdGhpcy5fc2VuZE1lc3NhZ2VBbmRMaXN0ZW5Gb3JSZXN1bHQobWVzc2FnZSwgJ3Byb21pc2UnLCBgRGlzcG9zaW5nIG9iamVjdCAke29iamVjdElkfWApO1xuICB9XG5cbiAgLyoqXG4gICAqIEhlbHBlciBmdW5jdGlvbiB0aGF0IGxpc3RlbnMgZm9yIGEgcmVzdWx0IGZvciB0aGUgZ2l2ZW4gcmVxdWVzdElkLlxuICAgKiBAcGFyYW0gcmV0dXJuVHlwZSAtIERldGVybWluZXMgdGhlIHR5cGUgb2YgbWVzc2FnZXMgd2Ugc2hvdWxkIHN1YnNjcmliZSB0bywgYW5kIHdoYXQgdGhpc1xuICAgKiAgIGZ1bmN0aW9uIHNob3VsZCByZXR1cm4uXG4gICAqIEBwYXJhbSByZXF1ZXN0SWQgLSBUaGUgaWQgb2YgdGhlIHJlcXVlc3Qgd2hvJ3MgcmVzdWx0IHdlIGFyZSBsaXN0ZW5pbmcgZm9yLlxuICAgKiBAcmV0dXJucyBEZXBlbmRpbmcgb24gdGhlIGV4cGVjdGVkIHJldHVybiB0eXBlLCB0aGlzIGZ1bmN0aW9uIGVpdGhlciByZXR1cm5zIHVuZGVmaW5lZCwgYSBQcm9taXNlLFxuICAgKiAgIG9yIGFuIE9ic2VydmFibGUuXG4gICAqL1xuICBfc2VuZE1lc3NhZ2VBbmRMaXN0ZW5Gb3JSZXN1bHQobWVzc2FnZTogUmVxdWVzdE1lc3NhZ2UsIHJldHVyblR5cGU6IFJldHVyblR5cGUsIHRpbWVvdXRNZXNzYWdlOiBzdHJpbmcpOiBhbnkge1xuICAgIHN3aXRjaCAocmV0dXJuVHlwZSkge1xuICAgICAgY2FzZSAndm9pZCc6XG4gICAgICAgIHRoaXMuX3NvY2tldC5zZW5kKG1lc3NhZ2UpO1xuICAgICAgICByZXR1cm47IC8vIE5vIHZhbHVlcyB0byByZXR1cm4uXG4gICAgICBjYXNlICdwcm9taXNlJzpcbiAgICAgICAgLy8gTGlzdGVuIGZvciBhIHNpbmdsZSBtZXNzYWdlLCBhbmQgcmVzb2x2ZSBvciByZWplY3QgYSBwcm9taXNlIG9uIHRoYXQgbWVzc2FnZS5cbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICB0aGlzLl9zb2NrZXQuc2VuZChtZXNzYWdlKTtcbiAgICAgICAgICB0aGlzLl9lbWl0dGVyLm9uY2UobWVzc2FnZS5yZXF1ZXN0SWQudG9TdHJpbmcoKSwgKGhhZEVycm9yLCBlcnJvciwgcmVzdWx0KSA9PiB7XG4gICAgICAgICAgICBoYWRFcnJvciA/IHJlamVjdChkZWNvZGVFcnJvcihlcnJvcikpIDogcmVzb2x2ZShyZXN1bHQpO1xuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLl9lbWl0dGVyLnJlbW92ZUFsbExpc3RlbmVycyhtZXNzYWdlLnJlcXVlc3RJZC50b1N0cmluZygpKTtcbiAgICAgICAgICAgIHJlamVjdChgVGltZW91dCBhZnRlciAke1NFUlZJQ0VfRlJBTUVXT1JLX1JQQ19USU1FT1VUX01TfSBmb3IgcmVxdWVzdElkOiAke21lc3NhZ2UucmVxdWVzdElkfSwgJHt0aW1lb3V0TWVzc2FnZX0uYCk7XG4gICAgICAgICAgfSwgU0VSVklDRV9GUkFNRVdPUktfUlBDX1RJTUVPVVRfTVMpO1xuICAgICAgICB9KTtcbiAgICAgIGNhc2UgJ29ic2VydmFibGUnOlxuICAgICAgICBjb25zdCBvYnNlcnZhYmxlID0gT2JzZXJ2YWJsZS5jcmVhdGUob2JzZXJ2ZXIgPT4ge1xuICAgICAgICAgIHRoaXMuX3NvY2tldC5zZW5kKG1lc3NhZ2UpO1xuXG4gICAgICAgICAgLy8gTGlzdGVuIGZvciAnbmV4dCcsICdlcnJvcicsIGFuZCAnY29tcGxldGVkJyBldmVudHMuXG4gICAgICAgICAgdGhpcy5fZW1pdHRlci5vbihcbiAgICAgICAgICAgIG1lc3NhZ2UucmVxdWVzdElkLnRvU3RyaW5nKCksXG4gICAgICAgICAgICAoaGFkRXJyb3I6IGJvb2xlYW4sIGVycm9yOiA/RXJyb3IsIHJlc3VsdDogP09ic2VydmFibGVSZXN1bHQpID0+IHtcbiAgICAgICAgICAgICAgaWYgKGhhZEVycm9yKSB7XG4gICAgICAgICAgICAgICAgb2JzZXJ2ZXIub25FcnJvcihkZWNvZGVFcnJvcihlcnJvcikpO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGludmFyaWFudChyZXN1bHQpO1xuICAgICAgICAgICAgICAgIGlmIChyZXN1bHQudHlwZSA9PT0gJ2NvbXBsZXRlZCcpIHtcbiAgICAgICAgICAgICAgICAgIG9ic2VydmVyLm9uQ29tcGxldGVkKCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChyZXN1bHQudHlwZSA9PT0gJ25leHQnKSB7XG4gICAgICAgICAgICAgICAgICBvYnNlcnZlci5vbk5leHQocmVzdWx0LmRhdGEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAvLyBPYnNlcnZhYmxlIGRpc3Bvc2UgZnVuY3Rpb24sIHdoaWNoIGlzIGNhbGxlZCBvbiBzdWJzY3JpcHRpb24gZGlwc29zZSwgb24gc3RyZWFtXG4gICAgICAgICAgLy8gY29tcGxldGlvbiwgYW5kIG9uIHN0cmVhbSBlcnJvci5cbiAgICAgICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5fZW1pdHRlci5yZW1vdmVBbGxMaXN0ZW5lcnMobWVzc2FnZS5yZXF1ZXN0SWQudG9TdHJpbmcoKSk7XG5cbiAgICAgICAgICAgIC8vIFNlbmQgYSBtZXNzYWdlIHRvIHNlcnZlciB0byBjYWxsIHRoZSBkaXNwb3NlIGZ1bmN0aW9uIG9mXG4gICAgICAgICAgICAvLyB0aGUgcmVtb3RlIE9ic2VydmFibGUgc3Vic2NyaXB0aW9uLlxuICAgICAgICAgICAgY29uc3QgZGlzcG9zZU1lc3NhZ2U6IERpc3Bvc2VPYnNlcnZhYmxlTWVzc2FnZSA9IHtcbiAgICAgICAgICAgICAgcHJvdG9jb2w6ICdzZXJ2aWNlX2ZyYW1ld29yazNfcnBjJyxcbiAgICAgICAgICAgICAgdHlwZTogJ0Rpc3Bvc2VPYnNlcnZhYmxlJyxcbiAgICAgICAgICAgICAgcmVxdWVzdElkOiBtZXNzYWdlLnJlcXVlc3RJZCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB0aGlzLl9zb2NrZXQuc2VuZChkaXNwb3NlTWVzc2FnZSk7XG4gICAgICAgICAgfTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIG9ic2VydmFibGU7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFVua293biByZXR1cm4gdHlwZTogJHtyZXR1cm5UeXBlfS5gKTtcbiAgICB9XG4gIH1cbn1cblxuLy8gVE9ETzogVGhpcyBzaG91bGQgYmUgYSBjdXN0b20gbWFyc2hhbGxlciByZWdpc3RlcmVkIGluIHRoZSBUeXBlUmVnaXN0cnlcbmZ1bmN0aW9uIGRlY29kZUVycm9yKGVuY29kZWRFcnJvcjogPyhPYmplY3QgfCBzdHJpbmcpKTogPyhFcnJvciB8IHN0cmluZykge1xuICBpZiAoZW5jb2RlZEVycm9yICE9IG51bGwgJiYgdHlwZW9mIGVuY29kZWRFcnJvciA9PT0gJ29iamVjdCcpIHtcbiAgICBjb25zdCByZXN1bHRFcnJvciA9IG5ldyBFcnJvcigpO1xuICAgIHJlc3VsdEVycm9yLm1lc3NhZ2UgPSBlbmNvZGVkRXJyb3IubWVzc2FnZTtcbiAgICAvLyAkRmxvd0lzc3VlIC0gc29tZSBFcnJvcnMgKG5vdGFibHkgZmlsZSBvcGVyYXRpb25zKSBoYXZlIGEgY29kZS5cbiAgICByZXN1bHRFcnJvci5jb2RlID0gZW5jb2RlZEVycm9yLmNvZGU7XG4gICAgcmVzdWx0RXJyb3Iuc3RhY2sgPSBlbmNvZGVkRXJyb3Iuc3RhY2s7XG4gICAgcmV0dXJuIHJlc3VsdEVycm9yO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBlbmNvZGVkRXJyb3I7XG4gIH1cbn1cbiJdfQ==",""],"l":{"1":1,"5":8,"7":3,"9":1,"11":1,"13":1,"23":1,"25":1,"27":1,"29":1,"31":1,"33":1,"35":1,"37":1,"39":1,"41":1,"43":1,"45":1,"47":1,"49":1,"51":1,"52":1,"53":0,"55":0,"57":0,"58":0,"59":0,"61":0,"62":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"73":0,"74":0,"75":0,"77":0,"78":0,"79":0,"81":0,"83":0,"84":0,"85":0,"88":0,"89":0,"94":0,"95":0,"96":0,"97":0,"99":0,"104":0,"105":0,"114":1,"117":0,"119":0,"124":0,"126":0,"131":0,"133":0,"146":0,"153":0,"167":0,"175":0,"187":0,"194":0,"206":0,"212":0,"226":0,"228":0,"230":0,"231":0,"234":0,"235":0,"236":0,"237":0,"240":0,"241":0,"242":0,"246":0,"247":0,"250":0,"251":0,"252":0,"254":0,"255":0,"256":0,"257":0,"258":0,"265":0,"266":0,"270":0,"275":0,"279":0,"281":0,"286":1,"289":1,"290":1,"291":0,"292":0,"293":0,"295":0,"296":0,"297":0,"299":0,"302":1}},"/home/travis/build/npmtest/node-npmtest-nuclide-server/node_modules/nuclide-server/lib/NuclideSocket.js":{"path":"/home/travis/build/npmtest/node-npmtest-nuclide-server/node_modules/nuclide-server/lib/NuclideSocket.js","s":{"1":1,"2":1,"3":1,"4":15,"5":15,"6":15,"7":15,"8":15,"9":15,"10":1,"11":1,"12":1,"13":1,"14":0,"15":1,"16":1,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":1,"42":2,"43":0,"44":0,"45":0,"46":0,"47":1,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":1,"58":0,"59":0,"60":1,"61":1,"62":0,"63":1,"64":1,"65":1,"66":1,"67":1,"68":1,"69":1,"70":1,"71":1,"72":1,"73":1,"74":1,"75":1,"76":1,"77":1,"78":1,"79":1,"80":1,"81":1,"82":1,"83":0,"84":0,"85":0,"86":0,"87":0,"88":0,"89":0,"90":0,"91":0,"92":0,"93":0,"94":0,"95":0,"96":0,"97":0,"98":0,"99":0,"100":0,"101":0,"102":0,"103":1,"104":0,"105":0,"106":0,"107":0,"108":0,"109":0,"110":0,"111":0,"112":0,"113":0,"114":0,"115":0,"116":0,"117":0,"118":0,"119":0,"120":0,"121":0,"122":0,"123":0,"124":0,"125":0,"126":0,"127":0,"128":0,"129":0,"130":0,"131":0,"132":0,"133":0,"134":0,"135":0,"136":0,"137":0,"138":0,"139":0,"140":0,"141":0,"142":0,"143":0,"144":0,"145":0,"146":0,"147":0,"148":0,"149":0,"150":0,"151":0,"152":0,"153":0,"154":0,"155":0,"156":0,"157":0,"158":0,"159":0,"160":0,"161":0,"162":0,"163":0,"164":0,"165":0,"166":0,"167":0,"168":0,"169":0,"170":0,"171":0,"172":0,"173":0,"174":0,"175":0,"176":0,"177":0,"178":0,"179":0,"180":0,"181":0,"182":0,"183":0,"184":0,"185":0,"186":0,"187":0,"188":0,"189":0,"190":0,"191":0,"192":0,"193":0,"194":0,"195":0,"196":0,"197":0,"198":0,"199":0,"200":0,"201":0,"202":0,"203":0,"204":0,"205":0,"206":0,"207":0,"208":0,"209":0,"210":0,"211":0,"212":0,"213":0,"214":0,"215":0,"216":0,"217":0,"218":0,"219":0,"220":0,"221":0,"222":0,"223":0,"224":0,"225":0,"226":0,"227":0,"228":0,"229":0,"230":0,"231":0,"232":0,"233":0,"234":0,"235":0,"236":0,"237":0,"238":0,"239":0,"240":0,"241":0,"242":0,"243":0,"244":0,"245":0,"246":0,"247":1,"248":1},"b":{"1":[15,15],"2":[15,0],"3":[1,0],"4":[0,1],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,1],"13":[1,0],"14":[1,1],"15":[1,0],"16":[1,0],"17":[0,0],"18":[0,0],"19":[0,0],"20":[0,0],"21":[0,0],"22":[0,0],"23":[0,0],"24":[0,0],"25":[0,0],"26":[0,0],"27":[0,0],"28":[0,0],"29":[0,0],"30":[0,0],"31":[0,0],"32":[0,0,0],"33":[0,0],"34":[0,0],"35":[0,0],"36":[0,0,0,0,0,0,0,0],"37":[0,0],"38":[0,0],"39":[0,0],"40":[0,0]},"f":{"1":1,"2":1,"3":1,"4":0,"5":2,"6":0,"7":0,"8":0,"9":0,"10":1,"11":1,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0},"fnMap":{"1":{"name":"(anonymous_1)","line":1,"loc":{"start":{"line":1,"column":20},"end":{"line":1,"column":32}}},"2":{"name":"defineProperties","line":1,"loc":{"start":{"line":1,"column":34},"end":{"line":1,"column":75}}},"3":{"name":"(anonymous_3)","line":1,"loc":{"start":{"line":1,"column":358},"end":{"line":1,"column":406}}},"4":{"name":"get","line":3,"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":38}}},"5":{"name":"_asyncToGenerator","line":5,"loc":{"start":{"line":5,"column":0},"end":{"line":5,"column":31}}},"6":{"name":"(anonymous_6)","line":5,"loc":{"start":{"line":5,"column":40},"end":{"line":5,"column":52}}},"7":{"name":"(anonymous_7)","line":5,"loc":{"start":{"line":5,"column":110},"end":{"line":5,"column":137}}},"8":{"name":"step","line":5,"loc":{"start":{"line":5,"column":221},"end":{"line":5,"column":245}}},"9":{"name":"_classCallCheck","line":7,"loc":{"start":{"line":7,"column":0},"end":{"line":7,"column":48}}},"10":{"name":"_inherits","line":9,"loc":{"start":{"line":9,"column":0},"end":{"line":9,"column":41}}},"11":{"name":"(anonymous_11)","line":44,"loc":{"start":{"line":44,"column":21},"end":{"line":44,"column":46}}},"12":{"name":"NuclideSocket","line":47,"loc":{"start":{"line":47,"column":2},"end":{"line":47,"column":45}}},"13":{"name":"waitForConnect","line":78,"loc":{"start":{"line":78,"column":11},"end":{"line":78,"column":37}}},"14":{"name":"(anonymous_14)","line":81,"loc":{"start":{"line":81,"column":25},"end":{"line":81,"column":52}}},"15":{"name":"_reconnect","line":92,"loc":{"start":{"line":92,"column":11},"end":{"line":92,"column":33}}},"16":{"name":"onSocketOpen","line":106,"loc":{"start":{"line":106,"column":25},"end":{"line":106,"column":49}}},"17":{"name":"(anonymous_17)","line":110,"loc":{"start":{"line":110,"column":34},"end":{"line":110,"column":46}}},"18":{"name":"(anonymous_18)","line":121,"loc":{"start":{"line":121,"column":51},"end":{"line":121,"column":70}}},"19":{"name":"onSocketClose","line":128,"loc":{"start":{"line":128,"column":26},"end":{"line":128,"column":51}}},"20":{"name":"onSocketError","line":142,"loc":{"start":{"line":142,"column":26},"end":{"line":142,"column":56}}},"21":{"name":"onSocketMessage","line":152,"loc":{"start":{"line":152,"column":28},"end":{"line":152,"column":66}}},"22":{"name":"(anonymous_22)","line":163,"loc":{"start":{"line":163,"column":26},"end":{"line":163,"column":38}}},"23":{"name":"_disconnect","line":172,"loc":{"start":{"line":172,"column":11},"end":{"line":172,"column":34}}},"24":{"name":"_cleanWebSocket","line":179,"loc":{"start":{"line":179,"column":11},"end":{"line":179,"column":38}}},"25":{"name":"_scheduleReconnect","line":189,"loc":{"start":{"line":189,"column":11},"end":{"line":189,"column":41}}},"26":{"name":"(anonymous_26)","line":196,"loc":{"start":{"line":196,"column":40},"end":{"line":196,"column":52}}},"27":{"name":"_clearReconnectTimer","line":207,"loc":{"start":{"line":207,"column":11},"end":{"line":207,"column":43}}},"28":{"name":"send","line":215,"loc":{"start":{"line":215,"column":11},"end":{"line":215,"column":31}}},"29":{"name":"(anonymous_29)","line":231,"loc":{"start":{"line":231,"column":43},"end":{"line":231,"column":58}}},"30":{"name":"(anonymous_30)","line":244,"loc":{"start":{"line":244,"column":29},"end":{"line":244,"column":49}}},"31":{"name":"_monitorServerHeartbeat","line":268,"loc":{"start":{"line":268,"column":11},"end":{"line":268,"column":46}}},"32":{"name":"(anonymous_32)","line":272,"loc":{"start":{"line":272,"column":44},"end":{"line":272,"column":56}}},"33":{"name":"testConnection","line":281,"loc":{"start":{"line":281,"column":11},"end":{"line":281,"column":37}}},"34":{"name":"_sendHeartBeat","line":286,"loc":{"start":{"line":286,"column":11},"end":{"line":286,"column":37}}},"35":{"name":"(anonymous_35)","line":294,"loc":{"start":{"line":294,"column":29},"end":{"line":294,"column":42}}},"36":{"name":"getServerUri","line":351,"loc":{"start":{"line":351,"column":11},"end":{"line":351,"column":35}}},"37":{"name":"close","line":356,"loc":{"start":{"line":356,"column":11},"end":{"line":356,"column":28}}},"38":{"name":"isConnected","line":373,"loc":{"start":{"line":373,"column":11},"end":{"line":373,"column":34}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":566}},"2":{"start":{"line":1,"column":34},"end":{"line":1,"column":350}},"3":{"start":{"line":1,"column":77},"end":{"line":1,"column":348}},"4":{"start":{"line":1,"column":118},"end":{"line":1,"column":144}},"5":{"start":{"line":1,"column":145},"end":{"line":1,"column":200}},"6":{"start":{"line":1,"column":201},"end":{"line":1,"column":232}},"7":{"start":{"line":1,"column":233},"end":{"line":1,"column":287}},"8":{"start":{"line":1,"column":260},"end":{"line":1,"column":287}},"9":{"start":{"line":1,"column":288},"end":{"line":1,"column":346}},"10":{"start":{"line":1,"column":351},"end":{"line":1,"column":560}},"11":{"start":{"line":1,"column":408},"end":{"line":1,"column":476}},"12":{"start":{"line":1,"column":424},"end":{"line":1,"column":476}},"13":{"start":{"line":1,"column":477},"end":{"line":1,"column":537}},"14":{"start":{"line":1,"column":494},"end":{"line":1,"column":537}},"15":{"start":{"line":1,"column":538},"end":{"line":1,"column":557}},"16":{"start":{"line":3,"column":0},"end":{"line":3,"column":667}},"17":{"start":{"line":3,"column":40},"end":{"line":3,"column":58}},"18":{"start":{"line":3,"column":59},"end":{"line":3,"column":664}},"19":{"start":{"line":3,"column":70},"end":{"line":3,"column":664}},"20":{"start":{"line":3,"column":87},"end":{"line":3,"column":135}},"21":{"start":{"line":3,"column":136},"end":{"line":3,"column":171}},"22":{"start":{"line":3,"column":172},"end":{"line":3,"column":187}},"23":{"start":{"line":3,"column":188},"end":{"line":3,"column":237}},"24":{"start":{"line":3,"column":209},"end":{"line":3,"column":237}},"25":{"start":{"line":3,"column":238},"end":{"line":3,"column":299}},"26":{"start":{"line":3,"column":300},"end":{"line":3,"column":662}},"27":{"start":{"line":3,"column":326},"end":{"line":3,"column":369}},"28":{"start":{"line":3,"column":370},"end":{"line":3,"column":501}},"29":{"start":{"line":3,"column":393},"end":{"line":3,"column":410}},"30":{"start":{"line":3,"column":420},"end":{"line":3,"column":432}},"31":{"start":{"line":3,"column":433},"end":{"line":3,"column":448}},"32":{"start":{"line":3,"column":449},"end":{"line":3,"column":464}},"33":{"start":{"line":3,"column":465},"end":{"line":3,"column":479}},"34":{"start":{"line":3,"column":480},"end":{"line":3,"column":499}},"35":{"start":{"line":3,"column":509},"end":{"line":3,"column":662}},"36":{"start":{"line":3,"column":532},"end":{"line":3,"column":550}},"37":{"start":{"line":3,"column":560},"end":{"line":3,"column":582}},"38":{"start":{"line":3,"column":583},"end":{"line":3,"column":630}},"39":{"start":{"line":3,"column":611},"end":{"line":3,"column":628}},"40":{"start":{"line":3,"column":631},"end":{"line":3,"column":660}},"41":{"start":{"line":5,"column":0},"end":{"line":5,"column":462}},"42":{"start":{"line":5,"column":33},"end":{"line":5,"column":460}},"43":{"start":{"line":5,"column":54},"end":{"line":5,"column":90}},"44":{"start":{"line":5,"column":91},"end":{"line":5,"column":457}},"45":{"start":{"line":5,"column":139},"end":{"line":5,"column":178}},"46":{"start":{"line":5,"column":179},"end":{"line":5,"column":220}},"47":{"start":{"line":5,"column":221},"end":{"line":5,"column":441}},"48":{"start":{"line":5,"column":247},"end":{"line":5,"column":345}},"49":{"start":{"line":5,"column":253},"end":{"line":5,"column":278}},"50":{"start":{"line":5,"column":279},"end":{"line":5,"column":302}},"51":{"start":{"line":5,"column":321},"end":{"line":5,"column":335}},"52":{"start":{"line":5,"column":336},"end":{"line":5,"column":343}},"53":{"start":{"line":5,"column":346},"end":{"line":5,"column":439}},"54":{"start":{"line":5,"column":363},"end":{"line":5,"column":378}},"55":{"start":{"line":5,"column":388},"end":{"line":5,"column":437}},"56":{"start":{"line":5,"column":442},"end":{"line":5,"column":453}},"57":{"start":{"line":7,"column":0},"end":{"line":7,"column":153}},"58":{"start":{"line":7,"column":50},"end":{"line":7,"column":151}},"59":{"start":{"line":7,"column":92},"end":{"line":7,"column":149}},"60":{"start":{"line":9,"column":0},"end":{"line":9,"column":494}},"61":{"start":{"line":9,"column":43},"end":{"line":9,"column":208}},"62":{"start":{"line":9,"column":106},"end":{"line":9,"column":206}},"63":{"start":{"line":9,"column":209},"end":{"line":9,"column":373}},"64":{"start":{"line":9,"column":374},"end":{"line":9,"column":492}},"65":{"start":{"line":9,"column":390},"end":{"line":9,"column":492}},"66":{"start":{"line":11,"column":0},"end":{"line":11,"column":34}},"67":{"start":{"line":13,"column":0},"end":{"line":13,"column":12}},"68":{"start":{"line":22,"column":0},"end":{"line":22,"column":25}},"69":{"start":{"line":24,"column":0},"end":{"line":24,"column":34}},"70":{"start":{"line":26,"column":0},"end":{"line":26,"column":41}},"71":{"start":{"line":28,"column":0},"end":{"line":28,"column":30}},"72":{"start":{"line":29,"column":0},"end":{"line":29,"column":27}},"73":{"start":{"line":31,"column":0},"end":{"line":31,"column":34}},"74":{"start":{"line":33,"column":0},"end":{"line":33,"column":42}},"75":{"start":{"line":35,"column":0},"end":{"line":35,"column":52}},"76":{"start":{"line":37,"column":0},"end":{"line":37,"column":35}},"77":{"start":{"line":38,"column":0},"end":{"line":38,"column":33}},"78":{"start":{"line":39,"column":0},"end":{"line":39,"column":33}},"79":{"start":{"line":40,"column":0},"end":{"line":40,"column":44}},"80":{"start":{"line":44,"column":0},"end":{"line":379,"column":17}},"81":{"start":{"line":45,"column":2},"end":{"line":45,"column":42}},"82":{"start":{"line":47,"column":2},"end":{"line":74,"column":3}},"83":{"start":{"line":48,"column":4},"end":{"line":48,"column":41}},"84":{"start":{"line":50,"column":4},"end":{"line":50,"column":89}},"85":{"start":{"line":51,"column":4},"end":{"line":51,"column":32}},"86":{"start":{"line":52,"column":4},"end":{"line":52,"column":28}},"87":{"start":{"line":53,"column":4},"end":{"line":53,"column":24}},"88":{"start":{"line":54,"column":4},"end":{"line":54,"column":52}},"89":{"start":{"line":55,"column":4},"end":{"line":55,"column":32}},"90":{"start":{"line":56,"column":4},"end":{"line":56,"column":28}},"91":{"start":{"line":57,"column":4},"end":{"line":57,"column":25}},"92":{"start":{"line":58,"column":4},"end":{"line":58,"column":38}},"93":{"start":{"line":59,"column":4},"end":{"line":59,"column":30}},"94":{"start":{"line":61,"column":4},"end":{"line":61,"column":42}},"95":{"start":{"line":63,"column":4},"end":{"line":63,"column":39}},"96":{"start":{"line":64,"column":4},"end":{"line":64,"column":31}},"97":{"start":{"line":66,"column":4},"end":{"line":66,"column":82}},"98":{"start":{"line":68,"column":4},"end":{"line":68,"column":41}},"99":{"start":{"line":69,"column":4},"end":{"line":69,"column":31}},"100":{"start":{"line":70,"column":4},"end":{"line":70,"column":35}},"101":{"start":{"line":71,"column":4},"end":{"line":71,"column":35}},"102":{"start":{"line":73,"column":4},"end":{"line":73,"column":22}},"103":{"start":{"line":76,"column":2},"end":{"line":376,"column":6}},"104":{"start":{"line":79,"column":6},"end":{"line":79,"column":23}},"105":{"start":{"line":81,"column":6},"end":{"line":88,"column":9}},"106":{"start":{"line":82,"column":8},"end":{"line":87,"column":9}},"107":{"start":{"line":83,"column":10},"end":{"line":83,"column":27}},"108":{"start":{"line":85,"column":10},"end":{"line":85,"column":39}},"109":{"start":{"line":86,"column":10},"end":{"line":86,"column":41}},"110":{"start":{"line":93,"column":6},"end":{"line":93,"column":24}},"111":{"start":{"line":95,"column":6},"end":{"line":95,"column":35}},"112":{"start":{"line":96,"column":6},"end":{"line":96,"column":85}},"113":{"start":{"line":97,"column":6},"end":{"line":97,"column":41}},"114":{"start":{"line":98,"column":6},"end":{"line":98,"column":57}},"115":{"start":{"line":100,"column":6},"end":{"line":104,"column":9}},"116":{"start":{"line":106,"column":6},"end":{"line":125,"column":8}},"117":{"start":{"line":107,"column":8},"end":{"line":107,"column":38}},"118":{"start":{"line":108,"column":8},"end":{"line":108,"column":58}},"119":{"start":{"line":110,"column":8},"end":{"line":124,"column":11}},"120":{"start":{"line":111,"column":10},"end":{"line":111,"column":35}},"121":{"start":{"line":112,"column":10},"end":{"line":112,"column":51}},"122":{"start":{"line":113,"column":10},"end":{"line":119,"column":11}},"123":{"start":{"line":114,"column":12},"end":{"line":114,"column":49}},"124":{"start":{"line":115,"column":12},"end":{"line":115,"column":37}},"125":{"start":{"line":117,"column":12},"end":{"line":117,"column":47}},"126":{"start":{"line":118,"column":12},"end":{"line":118,"column":35}},"127":{"start":{"line":120,"column":10},"end":{"line":120,"column":45}},"128":{"start":{"line":121,"column":10},"end":{"line":123,"column":13}},"129":{"start":{"line":122,"column":12},"end":{"line":122,"column":45}},"130":{"start":{"line":126,"column":6},"end":{"line":126,"column":41}},"131":{"start":{"line":128,"column":6},"end":{"line":139,"column":8}},"132":{"start":{"line":129,"column":8},"end":{"line":131,"column":9}},"133":{"start":{"line":130,"column":10},"end":{"line":130,"column":17}},"134":{"start":{"line":132,"column":8},"end":{"line":132,"column":41}},"135":{"start":{"line":133,"column":8},"end":{"line":133,"column":33}},"136":{"start":{"line":134,"column":8},"end":{"line":134,"column":29}},"137":{"start":{"line":135,"column":8},"end":{"line":138,"column":9}},"138":{"start":{"line":136,"column":10},"end":{"line":136,"column":62}},"139":{"start":{"line":137,"column":10},"end":{"line":137,"column":38}},"140":{"start":{"line":140,"column":6},"end":{"line":140,"column":43}},"141":{"start":{"line":142,"column":6},"end":{"line":149,"column":8}},"142":{"start":{"line":143,"column":8},"end":{"line":145,"column":9}},"143":{"start":{"line":144,"column":10},"end":{"line":144,"column":17}},"144":{"start":{"line":146,"column":8},"end":{"line":146,"column":65}},"145":{"start":{"line":147,"column":8},"end":{"line":147,"column":33}},"146":{"start":{"line":148,"column":8},"end":{"line":148,"column":36}},"147":{"start":{"line":150,"column":6},"end":{"line":150,"column":43}},"148":{"start":{"line":152,"column":6},"end":{"line":157,"column":8}},"149":{"start":{"line":155,"column":8},"end":{"line":155,"column":36}},"150":{"start":{"line":156,"column":8},"end":{"line":156,"column":37}},"151":{"start":{"line":159,"column":6},"end":{"line":159,"column":47}},"152":{"start":{"line":163,"column":6},"end":{"line":168,"column":8}},"153":{"start":{"line":164,"column":8},"end":{"line":164,"column":55}},"154":{"start":{"line":165,"column":8},"end":{"line":165,"column":57}},"155":{"start":{"line":166,"column":8},"end":{"line":166,"column":57}},"156":{"start":{"line":167,"column":8},"end":{"line":167,"column":61}},"157":{"start":{"line":173,"column":6},"end":{"line":173,"column":30}},"158":{"start":{"line":174,"column":6},"end":{"line":174,"column":43}},"159":{"start":{"line":175,"column":6},"end":{"line":175,"column":30}},"160":{"start":{"line":180,"column":6},"end":{"line":180,"column":38}},"161":{"start":{"line":181,"column":6},"end":{"line":185,"column":7}},"162":{"start":{"line":182,"column":8},"end":{"line":182,"column":28}},"163":{"start":{"line":183,"column":8},"end":{"line":183,"column":26}},"164":{"start":{"line":184,"column":8},"end":{"line":184,"column":31}},"165":{"start":{"line":190,"column":6},"end":{"line":190,"column":24}},"166":{"start":{"line":192,"column":6},"end":{"line":194,"column":7}},"167":{"start":{"line":193,"column":8},"end":{"line":193,"column":15}},"168":{"start":{"line":196,"column":6},"end":{"line":199,"column":30}},"169":{"start":{"line":197,"column":8},"end":{"line":197,"column":38}},"170":{"start":{"line":198,"column":8},"end":{"line":198,"column":28}},"171":{"start":{"line":200,"column":6},"end":{"line":200,"column":52}},"172":{"start":{"line":201,"column":6},"end":{"line":203,"column":7}},"173":{"start":{"line":202,"column":8},"end":{"line":202,"column":52}},"174":{"start":{"line":208,"column":6},"end":{"line":211,"column":7}},"175":{"start":{"line":209,"column":8},"end":{"line":209,"column":43}},"176":{"start":{"line":210,"column":8},"end":{"line":210,"column":36}},"177":{"start":{"line":216,"column":6},"end":{"line":216,"column":24}},"178":{"start":{"line":221,"column":6},"end":{"line":221,"column":35}},"179":{"start":{"line":222,"column":6},"end":{"line":222,"column":41}},"180":{"start":{"line":223,"column":6},"end":{"line":225,"column":7}},"181":{"start":{"line":224,"column":8},"end":{"line":224,"column":15}},"182":{"start":{"line":227,"column":6},"end":{"line":227,"column":38}},"183":{"start":{"line":228,"column":6},"end":{"line":230,"column":7}},"184":{"start":{"line":229,"column":8},"end":{"line":229,"column":15}},"185":{"start":{"line":231,"column":6},"end":{"line":240,"column":9}},"186":{"start":{"line":232,"column":8},"end":{"line":239,"column":9}},"187":{"start":{"line":233,"column":10},"end":{"line":233,"column":72}},"188":{"start":{"line":235,"column":10},"end":{"line":235,"column":69}},"189":{"start":{"line":236,"column":10},"end":{"line":238,"column":11}},"190":{"start":{"line":237,"column":12},"end":{"line":237,"column":59}},"191":{"start":{"line":245,"column":6},"end":{"line":245,"column":36}},"192":{"start":{"line":246,"column":6},"end":{"line":246,"column":86}},"193":{"start":{"line":247,"column":6},"end":{"line":247,"column":42}},"194":{"start":{"line":248,"column":6},"end":{"line":248,"column":58}},"195":{"start":{"line":250,"column":6},"end":{"line":256,"column":7}},"196":{"start":{"line":251,"column":8},"end":{"line":255,"column":10}},"197":{"start":{"line":258,"column":6},"end":{"line":258,"column":56}},"198":{"start":{"line":260,"column":6},"end":{"line":260,"column":45}},"199":{"start":{"line":262,"column":6},"end":{"line":262,"column":27}},"200":{"start":{"line":264,"column":6},"end":{"line":264,"column":18}},"201":{"start":{"line":269,"column":6},"end":{"line":269,"column":24}},"202":{"start":{"line":271,"column":6},"end":{"line":271,"column":24}},"203":{"start":{"line":272,"column":6},"end":{"line":274,"column":32}},"204":{"start":{"line":273,"column":8},"end":{"line":273,"column":35}},"205":{"start":{"line":282,"column":6},"end":{"line":282,"column":35}},"206":{"start":{"line":287,"column":6},"end":{"line":290,"column":9}},"207":{"start":{"line":295,"column":6},"end":{"line":347,"column":7}},"208":{"start":{"line":296,"column":8},"end":{"line":296,"column":36}},"209":{"start":{"line":297,"column":8},"end":{"line":297,"column":44}},"210":{"start":{"line":298,"column":8},"end":{"line":298,"column":29}},"211":{"start":{"line":299,"column":8},"end":{"line":299,"column":65}},"212":{"start":{"line":300,"column":8},"end":{"line":304,"column":9}},"213":{"start":{"line":302,"column":10},"end":{"line":302,"column":33}},"214":{"start":{"line":303,"column":10},"end":{"line":303,"column":36}},"215":{"start":{"line":305,"column":8},"end":{"line":305,"column":37}},"216":{"start":{"line":306,"column":8},"end":{"line":306,"column":38}},"217":{"start":{"line":307,"column":8},"end":{"line":307,"column":31}},"218":{"start":{"line":309,"column":8},"end":{"line":309,"column":27}},"219":{"start":{"line":310,"column":8},"end":{"line":310,"column":37}},"220":{"start":{"line":314,"column":8},"end":{"line":314,"column":36}},"221":{"start":{"line":315,"column":8},"end":{"line":315,"column":34}},"222":{"start":{"line":317,"column":8},"end":{"line":317,"column":24}},"223":{"start":{"line":318,"column":8},"end":{"line":345,"column":9}},"224":{"start":{"line":329,"column":12},"end":{"line":329,"column":34}},"225":{"start":{"line":330,"column":12},"end":{"line":330,"column":18}},"226":{"start":{"line":333,"column":12},"end":{"line":337,"column":13}},"227":{"start":{"line":334,"column":14},"end":{"line":334,"column":38}},"228":{"start":{"line":336,"column":14},"end":{"line":336,"column":43}},"229":{"start":{"line":338,"column":12},"end":{"line":338,"column":18}},"230":{"start":{"line":340,"column":12},"end":{"line":340,"column":41}},"231":{"start":{"line":341,"column":12},"end":{"line":341,"column":18}},"232":{"start":{"line":343,"column":12},"end":{"line":343,"column":32}},"233":{"start":{"line":344,"column":12},"end":{"line":344,"column":18}},"234":{"start":{"line":346,"column":8},"end":{"line":346,"column":99}},"235":{"start":{"line":352,"column":6},"end":{"line":352,"column":29}},"236":{"start":{"line":357,"column":6},"end":{"line":357,"column":26}},"237":{"start":{"line":358,"column":6},"end":{"line":360,"column":7}},"238":{"start":{"line":359,"column":8},"end":{"line":359,"column":27}},"239":{"start":{"line":361,"column":6},"end":{"line":363,"column":7}},"240":{"start":{"line":362,"column":8},"end":{"line":362,"column":43}},"241":{"start":{"line":364,"column":6},"end":{"line":364,"column":29}},"242":{"start":{"line":365,"column":6},"end":{"line":365,"column":32}},"243":{"start":{"line":366,"column":6},"end":{"line":366,"column":54}},"244":{"start":{"line":367,"column":6},"end":{"line":369,"column":7}},"245":{"start":{"line":368,"column":8},"end":{"line":368,"column":47}},"246":{"start":{"line":374,"column":6},"end":{"line":374,"column":29}},"247":{"start":{"line":378,"column":2},"end":{"line":378,"column":23}},"248":{"start":{"line":381,"column":0},"end":{"line":381,"column":31}}},"branchMap":{"1":{"line":1,"type":"binary-expr","locations":[{"start":{"line":1,"column":169},"end":{"line":1,"column":190}},{"start":{"line":1,"column":194},"end":{"line":1,"column":199}}]},"2":{"line":1,"type":"if","locations":[{"start":{"line":1,"column":233},"end":{"line":1,"column":233}},{"start":{"line":1,"column":233},"end":{"line":1,"column":233}}]},"3":{"line":1,"type":"if","locations":[{"start":{"line":1,"column":408},"end":{"line":1,"column":408}},{"start":{"line":1,"column":408},"end":{"line":1,"column":408}}]},"4":{"line":1,"type":"if","locations":[{"start":{"line":1,"column":477},"end":{"line":1,"column":477}},{"start":{"line":1,"column":477},"end":{"line":1,"column":477}}]},"5":{"line":3,"type":"if","locations":[{"start":{"line":3,"column":188},"end":{"line":3,"column":188}},{"start":{"line":3,"column":188},"end":{"line":3,"column":188}}]},"6":{"line":3,"type":"if","locations":[{"start":{"line":3,"column":300},"end":{"line":3,"column":300}},{"start":{"line":3,"column":300},"end":{"line":3,"column":300}}]},"7":{"line":3,"type":"if","locations":[{"start":{"line":3,"column":370},"end":{"line":3,"column":370}},{"start":{"line":3,"column":370},"end":{"line":3,"column":370}}]},"8":{"line":3,"type":"if","locations":[{"start":{"line":3,"column":509},"end":{"line":3,"column":509}},{"start":{"line":3,"column":509},"end":{"line":3,"column":509}}]},"9":{"line":3,"type":"if","locations":[{"start":{"line":3,"column":583},"end":{"line":3,"column":583}},{"start":{"line":3,"column":583},"end":{"line":3,"column":583}}]},"10":{"line":5,"type":"if","locations":[{"start":{"line":5,"column":346},"end":{"line":5,"column":346}},{"start":{"line":5,"column":346},"end":{"line":5,"column":346}}]},"11":{"line":7,"type":"if","locations":[{"start":{"line":7,"column":50},"end":{"line":7,"column":50}},{"start":{"line":7,"column":50},"end":{"line":7,"column":50}}]},"12":{"line":9,"type":"if","locations":[{"start":{"line":9,"column":43},"end":{"line":9,"column":43}},{"start":{"line":9,"column":43},"end":{"line":9,"column":43}}]},"13":{"line":9,"type":"binary-expr","locations":[{"start":{"line":9,"column":47},"end":{"line":9,"column":79}},{"start":{"line":9,"column":83},"end":{"line":9,"column":102}}]},"14":{"line":9,"type":"binary-expr","locations":[{"start":{"line":9,"column":244},"end":{"line":9,"column":254}},{"start":{"line":9,"column":258},"end":{"line":9,"column":278}}]},"15":{"line":9,"type":"if","locations":[{"start":{"line":9,"column":374},"end":{"line":9,"column":374}},{"start":{"line":9,"column":374},"end":{"line":9,"column":374}}]},"16":{"line":9,"type":"cond-expr","locations":[{"start":{"line":9,"column":414},"end":{"line":9,"column":457}},{"start":{"line":9,"column":460},"end":{"line":9,"column":491}}]},"17":{"line":66,"type":"cond-expr","locations":[{"start":{"line":66,"column":57},"end":{"line":66,"column":60}},{"start":{"line":66,"column":63},"end":{"line":66,"column":65}}]},"18":{"line":82,"type":"if","locations":[{"start":{"line":82,"column":8},"end":{"line":82,"column":8}},{"start":{"line":82,"column":8},"end":{"line":82,"column":8}}]},"19":{"line":113,"type":"if","locations":[{"start":{"line":113,"column":10},"end":{"line":113,"column":10}},{"start":{"line":113,"column":10},"end":{"line":113,"column":10}}]},"20":{"line":129,"type":"if","locations":[{"start":{"line":129,"column":8},"end":{"line":129,"column":8}},{"start":{"line":129,"column":8},"end":{"line":129,"column":8}}]},"21":{"line":135,"type":"if","locations":[{"start":{"line":135,"column":8},"end":{"line":135,"column":8}},{"start":{"line":135,"column":8},"end":{"line":135,"column":8}}]},"22":{"line":143,"type":"if","locations":[{"start":{"line":143,"column":8},"end":{"line":143,"column":8}},{"start":{"line":143,"column":8},"end":{"line":143,"column":8}}]},"23":{"line":181,"type":"if","locations":[{"start":{"line":181,"column":6},"end":{"line":181,"column":6}},{"start":{"line":181,"column":6},"end":{"line":181,"column":6}}]},"24":{"line":192,"type":"if","locations":[{"start":{"line":192,"column":6},"end":{"line":192,"column":6}},{"start":{"line":192,"column":6},"end":{"line":192,"column":6}}]},"25":{"line":201,"type":"if","locations":[{"start":{"line":201,"column":6},"end":{"line":201,"column":6}},{"start":{"line":201,"column":6},"end":{"line":201,"column":6}}]},"26":{"line":208,"type":"if","locations":[{"start":{"line":208,"column":6},"end":{"line":208,"column":6}},{"start":{"line":208,"column":6},"end":{"line":208,"column":6}}]},"27":{"line":223,"type":"if","locations":[{"start":{"line":223,"column":6},"end":{"line":223,"column":6}},{"start":{"line":223,"column":6},"end":{"line":223,"column":6}}]},"28":{"line":228,"type":"if","locations":[{"start":{"line":228,"column":6},"end":{"line":228,"column":6}},{"start":{"line":228,"column":6},"end":{"line":228,"column":6}}]},"29":{"line":232,"type":"if","locations":[{"start":{"line":232,"column":8},"end":{"line":232,"column":8}},{"start":{"line":232,"column":8},"end":{"line":232,"column":8}}]},"30":{"line":236,"type":"if","locations":[{"start":{"line":236,"column":10},"end":{"line":236,"column":10}},{"start":{"line":236,"column":10},"end":{"line":236,"column":10}}]},"31":{"line":250,"type":"if","locations":[{"start":{"line":250,"column":6},"end":{"line":250,"column":6}},{"start":{"line":250,"column":6},"end":{"line":250,"column":6}}]},"32":{"line":250,"type":"binary-expr","locations":[{"start":{"line":250,"column":10},"end":{"line":250,"column":41}},{"start":{"line":250,"column":45},"end":{"line":250,"column":54}},{"start":{"line":250,"column":58},"end":{"line":250,"column":75}}]},"33":{"line":299,"type":"binary-expr","locations":[{"start":{"line":299,"column":34},"end":{"line":299,"column":57}},{"start":{"line":299,"column":61},"end":{"line":299,"column":64}}]},"34":{"line":300,"type":"if","locations":[{"start":{"line":300,"column":8},"end":{"line":300,"column":8}},{"start":{"line":300,"column":8},"end":{"line":300,"column":8}}]},"35":{"line":300,"type":"binary-expr","locations":[{"start":{"line":300,"column":12},"end":{"line":300,"column":42}},{"start":{"line":300,"column":46},"end":{"line":300,"column":109}}]},"36":{"line":318,"type":"switch","locations":[{"start":{"line":319,"column":10},"end":{"line":319,"column":27}},{"start":{"line":321,"column":10},"end":{"line":321,"column":26}},{"start":{"line":324,"column":10},"end":{"line":324,"column":31}},{"start":{"line":326,"column":10},"end":{"line":326,"column":30}},{"start":{"line":328,"column":10},"end":{"line":330,"column":18}},{"start":{"line":331,"column":10},"end":{"line":338,"column":18}},{"start":{"line":339,"column":10},"end":{"line":341,"column":18}},{"start":{"line":342,"column":10},"end":{"line":344,"column":18}}]},"37":{"line":333,"type":"if","locations":[{"start":{"line":333,"column":12},"end":{"line":333,"column":12}},{"start":{"line":333,"column":12},"end":{"line":333,"column":12}}]},"38":{"line":358,"type":"if","locations":[{"start":{"line":358,"column":6},"end":{"line":358,"column":6}},{"start":{"line":358,"column":6},"end":{"line":358,"column":6}}]},"39":{"line":361,"type":"if","locations":[{"start":{"line":361,"column":6},"end":{"line":361,"column":6}},{"start":{"line":361,"column":6},"end":{"line":361,"column":6}}]},"40":{"line":367,"type":"if","locations":[{"start":{"line":367,"column":6},"end":{"line":367,"column":6}},{"start":{"line":367,"column":6},"end":{"line":367,"column":6}}]}},"code":["var _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();","","var _get = function get(_x, _x2, _x3) { var _again = true; _function: while (_again) { var object = _x, property = _x2, receiver = _x3; desc = parent = getter = undefined; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x = parent; _x2 = property; _x3 = receiver; _again = true; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };","","function _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { var callNext = step.bind(null, 'next'); var callThrow = step.bind(null, 'throw'); function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(callNext, callThrow); } } callNext(); }); }; }","","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }","","function _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }","","var _config = require('./config');","","'use babel';","","/*"," * Copyright (c) 2015-present, Facebook, Inc."," * All rights reserved."," *"," * This source code is licensed under the license found in the LICENSE file in"," * the root directory of this source tree."," */","var url = require('url');","","var _require = require('./utils');","","var asyncRequest = _require.asyncRequest;","","var WebSocket = require('ws');","var uuid = require('uuid');","","var _require2 = require('events');","","var EventEmitter = _require2.EventEmitter;","","var logger = require('nuclide-logging').getLogger();","","var INITIAL_RECONNECT_TIME_MS = 10;","var MAX_RECONNECT_TIME_MS = 5000;","var HEARTBEAT_INTERVAL_MS = 5000;","var MAX_HEARTBEAT_AWAY_RECONNECT_MS = 60000;","","// TODO(most): Rename class to reflect its new responsibilities (not just WebSocket connection).","","var NuclideSocket = (function (_EventEmitter) {","  _inherits(NuclideSocket, _EventEmitter);","","  function NuclideSocket(serverUri, options) {","    _classCallCheck(this, NuclideSocket);","","    _get(Object.getPrototypeOf(NuclideSocket.prototype), 'constructor', this).call(this);","    this._serverUri = serverUri;","    this._options = options;","    this.id = uuid.v4();","    this._reconnectTime = INITIAL_RECONNECT_TIME_MS;","    this._reconnectTimer = null;","    this._connected = false;","    this._closed = false;","    this._previouslyConnected = false;","    this._cachedMessages = [];","","    var _url$parse = url.parse(serverUri);","","    var protocol = _url$parse.protocol;","    var host = _url$parse.host;","","    this._websocketUri = 'ws' + (protocol === 'https:' ? 's' : '') + '://' + host;","","    this._heartbeatConnectedOnce = false;","    this._lastHeartbeat = null;","    this._lastHeartbeatTime = null;","    this._monitorServerHeartbeat();","","    this._reconnect();","  }","","  _createClass(NuclideSocket, [{","    key: 'waitForConnect',","    value: function waitForConnect() {","      var _this = this;","","      return new Promise(function (resolve, reject) {","        if (_this._connected) {","          return resolve();","        } else {","          _this.on('connect', resolve);","          _this.on('reconnect', resolve);","        }","      });","    }","  }, {","    key: '_reconnect',","    value: function _reconnect() {","      var _this2 = this;","","      var _options = this._options;","      var certificateAuthorityCertificate = _options.certificateAuthorityCertificate;","      var clientKey = _options.clientKey;","      var clientCertificate = _options.clientCertificate;","","      var websocket = new WebSocket(this._websocketUri, {","        cert: clientCertificate,","        key: clientKey,","        ca: certificateAuthorityCertificate","      });","","      var onSocketOpen = function onSocketOpen() {","        _this2._websocket = websocket;","        _this2._reconnectTime = INITIAL_RECONNECT_TIME_MS;","        // Handshake the server with my client id to manage my re-connect attemp, if it is.","        websocket.send(_this2.id, function () {","          _this2._connected = true;","          _this2.emit('status', _this2._connected);","          if (_this2._previouslyConnected) {","            logger.info('WebSocket reconnected');","            _this2.emit('reconnect');","          } else {","            logger.info('WebSocket connected');","            _this2.emit('connect');","          }","          _this2._previouslyConnected = true;","          _this2._cachedMessages.splice(0).forEach(function (message) {","            return _this2.send(message.data);","          });","        });","      };","      websocket.on('open', onSocketOpen);","","      var onSocketClose = function onSocketClose() {","        if (_this2._websocket !== websocket) {","          return;","        }","        logger.info('WebSocket closed.');","        _this2._websocket = null;","        _this2._disconnect();","        if (!_this2._closed) {","          logger.info('WebSocket reconnecting after closed.');","          _this2._scheduleReconnect();","        }","      };","      websocket.on('close', onSocketClose);","","      var onSocketError = function onSocketError(error) {","        if (_this2._websocket !== websocket) {","          return;","        }","        logger.error('WebSocket Error - reconnecting...', error);","        _this2._cleanWebSocket();","        _this2._scheduleReconnect();","      };","      websocket.on('error', onSocketError);","","      var onSocketMessage = function onSocketMessage(data, flags) {","        // flags.binary will be set if a binary data is received.","        // flags.masked will be set if the data was masked.","        var json = JSON.parse(data);","        _this2.emit('message', json);","      };","","      websocket.on('message', onSocketMessage);","      // WebSocket inherits from EventEmitter, and doesn't dispose the listeners on close.","      // Here, I added an expando property function to allow disposing those listeners on the created","      // instance.","      websocket.dispose = function () {","        websocket.removeListener('open', onSocketOpen);","        websocket.removeListener('close', onSocketClose);","        websocket.removeListener('error', onSocketError);","        websocket.removeListener('message', onSocketMessage);","      };","    }","  }, {","    key: '_disconnect',","    value: function _disconnect() {","      this._connected = false;","      this.emit('status', this._connected);","      this.emit('disconnect');","    }","  }, {","    key: '_cleanWebSocket',","    value: function _cleanWebSocket() {","      var websocket = this._websocket;","      if (websocket != null) {","        websocket.dispose();","        websocket.close();","        this._websocket = null;","      }","    }","  }, {","    key: '_scheduleReconnect',","    value: function _scheduleReconnect() {","      var _this3 = this;","","      if (this._reconnectTimer) {","        return;","      }","      // Exponential reconnect time trials.","      this._reconnectTimer = setTimeout(function () {","        _this3._reconnectTimer = null;","        _this3._reconnect();","      }, this._reconnectTime);","      this._reconnectTime = this._reconnectTime * 2;","      if (this._reconnectTime > MAX_RECONNECT_TIME_MS) {","        this._reconnectTime = MAX_RECONNECT_TIME_MS;","      }","    }","  }, {","    key: '_clearReconnectTimer',","    value: function _clearReconnectTimer() {","      if (this._reconnectTimer) {","        clearTimeout(this._reconnectTimer);","        this._reconnectTimer = null;","      }","    }","  }, {","    key: 'send',","    value: function send(data) {","      var _this4 = this;","","      // Wrap the data in an object, because if `data` is a primitive data type,","      // finding it in an array would return the first matching item, not necessarily the same","      // inserted item.","      var message = { data: data };","      this._cachedMessages.push(message);","      if (!this._connected) {","        return;","      }","","      var websocket = this._websocket;","      if (websocket == null) {","        return;","      }","      websocket.send(JSON.stringify(data), function (err) {","        if (err) {","          logger.warn('WebSocket error, but caching the message:', err);","        } else {","          var messageIndex = _this4._cachedMessages.indexOf(message);","          if (messageIndex !== -1) {","            _this4._cachedMessages.splice(messageIndex, 1);","          }","        }","      });","    }","  }, {","    key: 'xhrRequest',","    value: _asyncToGenerator(function* (options) {","      var _options2 = this._options;","      var certificateAuthorityCertificate = _options2.certificateAuthorityCertificate;","      var clientKey = _options2.clientKey;","      var clientCertificate = _options2.clientCertificate;","","      if (certificateAuthorityCertificate && clientKey && clientCertificate) {","        options.agentOptions = {","          ca: certificateAuthorityCertificate,","          key: clientKey,","          cert: clientCertificate","        };","      }","","      options.uri = this._serverUri + '/' + options.uri;","","      var _ref = yield asyncRequest(options);","","      var body = _ref.body;","","      return body;","    })","  }, {","    key: '_monitorServerHeartbeat',","    value: function _monitorServerHeartbeat() {","      var _this5 = this;","","      this._heartbeat();","      this._heartbeatInterval = setInterval(function () {","        return _this5._heartbeat();","      }, HEARTBEAT_INTERVAL_MS);","    }","","    // Resolves if the connection looks healthy.","    // Will reject quickly if the connection looks unhealthy.","  }, {","    key: 'testConnection',","    value: function testConnection() {","      return this._sendHeartBeat();","    }","  }, {","    key: '_sendHeartBeat',","    value: function _sendHeartBeat() {","      return this.xhrRequest({","        uri: _config.HEARTBEAT_CHANNEL,","        method: 'POST'","      });","    }","  }, {","    key: '_heartbeat',","    value: _asyncToGenerator(function* () {","      try {","        yield this._sendHeartBeat();","        this._heartbeatConnectedOnce = true;","        var now = Date.now();","        this._lastHeartbeatTime = this._lastHeartbeatTime || now;","        if (this._lastHeartbeat === 'away' || now - this._lastHeartbeatTime > MAX_HEARTBEAT_AWAY_RECONNECT_MS) {","          // Trigger a websocket reconnect.","          this._cleanWebSocket();","          this._scheduleReconnect();","        }","        this._lastHeartbeat = 'here';","        this._lastHeartbeatTime = now;","        this.emit('heartbeat');","      } catch (err) {","        this._disconnect();","        this._lastHeartbeat = 'away';","        // Error code could could be one of:","        // ['ENOTFOUND', 'ECONNREFUSED', 'ECONNRESET', 'ETIMEDOUT']","        // A heuristic mapping is done between the xhr error code to the state of server connection.","        var originalCode = err.code;","        var message = err.message;","","        var code = null;","        switch (originalCode) {","          case 'ENOTFOUND':","          // A socket operation failed because the network was down.","          case 'ENETDOWN':","          // The range of the temporary ports for connection are all taken,","          // This is temporal with many http requests, but should be counted as a network away event.","          case 'EADDRNOTAVAIL':","          // The host server is unreachable, could be in a VPN.","          case 'EHOSTUNREACH':","          // A request timeout is considered a network away event.","          case 'ETIMEDOUT':","            code = 'NETWORK_AWAY';","            break;","          case 'ECONNREFUSED':","            // Server shut down or port no longer accessible.","            if (this._heartbeatConnectedOnce) {","              code = 'SERVER_CRASHED';","            } else {","              code = 'PORT_NOT_ACCESSIBLE';","            }","            break;","          case 'ECONNRESET':","            code = 'INVALID_CERTIFICATE';","            break;","          default:","            code = originalCode;","            break;","        }","        this.emit('heartbeat.error', { code: code, originalCode: originalCode, message: message });","      }","    })","  }, {","    key: 'getServerUri',","    value: function getServerUri() {","      return this._serverUri;","    }","  }, {","    key: 'close',","    value: function close() {","      this._closed = true;","      if (this._connected) {","        this._disconnect();","      }","      if (this._reconnectTimer) {","        clearTimeout(this._reconnectTimer);","      }","      this._cleanWebSocket();","      this._cachedMessages = [];","      this._reconnectTime = INITIAL_RECONNECT_TIME_MS;","      if (this._heartbeatInterval != null) {","        clearInterval(this._heartbeatInterval);","      }","    }","  }, {","    key: 'isConnected',","    value: function isConnected() {","      return this._connected;","    }","  }]);","","  return NuclideSocket;","})(EventEmitter);","","module.exports = NuclideSocket;","// ID from a setTimeout() call.","//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi92YXIvZm9sZGVycy94Zi9yc3BoNF9jNTczMTVyczU3eHhzZHNrcnhudjM2dDAvVC90bXBwZmw1Mm5wdWJsaXNoX3BhY2thZ2VzL25wbS9udWNsaWRlLXNlcnZlci9saWIvTnVjbGlkZVNvY2tldC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O3NCQWdCZ0MsVUFBVTs7QUFoQjFDLFdBQVcsQ0FBQzs7Ozs7Ozs7O0FBVVosSUFBTSxHQUFHLEdBQUcsT0FBTyxDQUFDLEtBQUssQ0FBQyxDQUFDOztlQUNKLE9BQU8sQ0FBQyxTQUFTLENBQUM7O0lBQWxDLFlBQVksWUFBWixZQUFZOztBQUNuQixJQUFNLFNBQVMsR0FBRyxPQUFPLENBQUMsSUFBSSxDQUFDLENBQUM7QUFDaEMsSUFBTSxJQUFJLEdBQUcsT0FBTyxDQUFDLE1BQU0sQ0FBQyxDQUFDOztnQkFDTixPQUFPLENBQUMsUUFBUSxDQUFDOztJQUFqQyxZQUFZLGFBQVosWUFBWTs7QUFDbkIsSUFBTSxNQUFNLEdBQUcsT0FBTyxDQUFDLGlCQUFpQixDQUFDLENBQUMsU0FBUyxFQUFFLENBQUM7O0FBU3RELElBQU0seUJBQXlCLEdBQUcsRUFBRSxDQUFDO0FBQ3JDLElBQU0scUJBQXFCLEdBQUcsSUFBSSxDQUFDO0FBQ25DLElBQU0scUJBQXFCLEdBQUcsSUFBSSxDQUFDO0FBQ25DLElBQU0sK0JBQStCLEdBQUcsS0FBSyxDQUFDOzs7O0lBR3hDLGFBQWE7WUFBYixhQUFhOztBQWtCTixXQWxCUCxhQUFhLENBa0JMLFNBQWlCLEVBQUUsT0FBOEIsRUFBRTswQkFsQjNELGFBQWE7O0FBbUJmLCtCQW5CRSxhQUFhLDZDQW1CUDtBQUNSLFFBQUksQ0FBQyxVQUFVLEdBQUcsU0FBUyxDQUFDO0FBQzVCLFFBQUksQ0FBQyxRQUFRLEdBQUcsT0FBTyxDQUFDO0FBQ3hCLFFBQUksQ0FBQyxFQUFFLEdBQUcsSUFBSSxDQUFDLEVBQUUsRUFBRSxDQUFDO0FBQ3BCLFFBQUksQ0FBQyxjQUFjLEdBQUcseUJBQXlCLENBQUM7QUFDaEQsUUFBSSxDQUFDLGVBQWUsR0FBRyxJQUFJLENBQUM7QUFDNUIsUUFBSSxDQUFDLFVBQVUsR0FBRyxLQUFLLENBQUM7QUFDeEIsUUFBSSxDQUFDLE9BQU8sR0FBRyxLQUFLLENBQUM7QUFDckIsUUFBSSxDQUFDLG9CQUFvQixHQUFHLEtBQUssQ0FBQztBQUNsQyxRQUFJLENBQUMsZUFBZSxHQUFHLEVBQUUsQ0FBQzs7cUJBRUQsR0FBRyxDQUFDLEtBQUssQ0FBQyxTQUFTLENBQUM7O1FBQXRDLFFBQVEsY0FBUixRQUFRO1FBQUUsSUFBSSxjQUFKLElBQUk7O0FBQ3JCLFFBQUksQ0FBQyxhQUFhLFdBQVEsUUFBUSxLQUFLLFFBQVEsR0FBRyxHQUFHLEdBQUcsRUFBRSxDQUFBLFdBQU0sSUFBSSxBQUFFLENBQUM7O0FBRXZFLFFBQUksQ0FBQyx1QkFBdUIsR0FBRyxLQUFLLENBQUM7QUFDckMsUUFBSSxDQUFDLGNBQWMsR0FBRyxJQUFJLENBQUM7QUFDM0IsUUFBSSxDQUFDLGtCQUFrQixHQUFHLElBQUksQ0FBQztBQUMvQixRQUFJLENBQUMsdUJBQXVCLEVBQUUsQ0FBQzs7QUFFL0IsUUFBSSxDQUFDLFVBQVUsRUFBRSxDQUFDO0dBQ25COztlQXZDRyxhQUFhOztXQXlDSCwwQkFBWTs7O0FBQ3hCLGFBQU8sSUFBSSxPQUFPLENBQUMsVUFBQyxPQUFPLEVBQUUsTUFBTSxFQUFLO0FBQ3RDLFlBQUksTUFBSyxVQUFVLEVBQUU7QUFDbkIsaUJBQU8sT0FBTyxFQUFFLENBQUM7U0FDbEIsTUFBTTtBQUNMLGdCQUFLLEVBQUUsQ0FBQyxTQUFTLEVBQUUsT0FBTyxDQUFDLENBQUM7QUFDNUIsZ0JBQUssRUFBRSxDQUFDLFdBQVcsRUFBRSxPQUFPLENBQUMsQ0FBQztTQUMvQjtPQUNGLENBQUMsQ0FBQztLQUNKOzs7V0FFUyxzQkFBRzs7O3FCQUM2RCxJQUFJLENBQUMsUUFBUTtVQUE5RSwrQkFBK0IsWUFBL0IsK0JBQStCO1VBQUUsU0FBUyxZQUFULFNBQVM7VUFBRSxpQkFBaUIsWUFBakIsaUJBQWlCOztBQUNwRSxVQUFNLFNBQVMsR0FBRyxJQUFJLFNBQVMsQ0FBQyxJQUFJLENBQUMsYUFBYSxFQUFFO0FBQ2xELFlBQUksRUFBRSxpQkFBaUI7QUFDdkIsV0FBRyxFQUFFLFNBQVM7QUFDZCxVQUFFLEVBQUUsK0JBQStCO09BQ3BDLENBQUMsQ0FBQzs7QUFFSCxVQUFNLFlBQVksR0FBRyxTQUFmLFlBQVksR0FBUztBQUN6QixlQUFLLFVBQVUsR0FBRyxTQUFTLENBQUM7QUFDNUIsZUFBSyxjQUFjLEdBQUcseUJBQXlCLENBQUM7O0FBRWhELGlCQUFTLENBQUMsSUFBSSxDQUFDLE9BQUssRUFBRSxFQUFFLFlBQU07QUFDNUIsaUJBQUssVUFBVSxHQUFHLElBQUksQ0FBQztBQUN2QixpQkFBSyxJQUFJLENBQUMsUUFBUSxFQUFFLE9BQUssVUFBVSxDQUFDLENBQUM7QUFDckMsY0FBSSxPQUFLLG9CQUFvQixFQUFFO0FBQzdCLGtCQUFNLENBQUMsSUFBSSxDQUFDLHVCQUF1QixDQUFDLENBQUM7QUFDckMsbUJBQUssSUFBSSxDQUFDLFdBQVcsQ0FBQyxDQUFDO1dBQ3hCLE1BQU07QUFDTCxrQkFBTSxDQUFDLElBQUksQ0FBQyxxQkFBcUIsQ0FBQyxDQUFDO0FBQ25DLG1CQUFLLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQztXQUN0QjtBQUNELGlCQUFLLG9CQUFvQixHQUFHLElBQUksQ0FBQztBQUNqQyxpQkFBSyxlQUFlLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxVQUFBLE9BQU87bUJBQUksT0FBSyxJQUFJLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQztXQUFBLENBQUMsQ0FBQztTQUM1RSxDQUFDLENBQUM7T0FDSixDQUFDO0FBQ0YsZUFBUyxDQUFDLEVBQUUsQ0FBQyxNQUFNLEVBQUUsWUFBWSxDQUFDLENBQUM7O0FBRW5DLFVBQU0sYUFBYSxHQUFHLFNBQWhCLGFBQWEsR0FBUztBQUMxQixZQUFJLE9BQUssVUFBVSxLQUFLLFNBQVMsRUFBRTtBQUNqQyxpQkFBTztTQUNSO0FBQ0QsY0FBTSxDQUFDLElBQUksQ0FBQyxtQkFBbUIsQ0FBQyxDQUFDO0FBQ2pDLGVBQUssVUFBVSxHQUFHLElBQUksQ0FBQztBQUN2QixlQUFLLFdBQVcsRUFBRSxDQUFDO0FBQ25CLFlBQUksQ0FBQyxPQUFLLE9BQU8sRUFBRTtBQUNqQixnQkFBTSxDQUFDLElBQUksQ0FBQyxzQ0FBc0MsQ0FBQyxDQUFDO0FBQ3BELGlCQUFLLGtCQUFrQixFQUFFLENBQUM7U0FDM0I7T0FDRixDQUFDO0FBQ0YsZUFBUyxDQUFDLEVBQUUsQ0FBQyxPQUFPLEVBQUUsYUFBYSxDQUFDLENBQUM7O0FBRXJDLFVBQU0sYUFBYSxHQUFHLFNBQWhCLGFBQWEsQ0FBSSxLQUFLLEVBQUs7QUFDL0IsWUFBSSxPQUFLLFVBQVUsS0FBSyxTQUFTLEVBQUU7QUFDakMsaUJBQU87U0FDUjtBQUNELGNBQU0sQ0FBQyxLQUFLLENBQUMsbUNBQW1DLEVBQUUsS0FBSyxDQUFDLENBQUM7QUFDekQsZUFBSyxlQUFlLEVBQUUsQ0FBQztBQUN2QixlQUFLLGtCQUFrQixFQUFFLENBQUM7T0FDM0IsQ0FBQztBQUNGLGVBQVMsQ0FBQyxFQUFFLENBQUMsT0FBTyxFQUFFLGFBQWEsQ0FBQyxDQUFDOztBQUVyQyxVQUFNLGVBQWUsR0FBRyxTQUFsQixlQUFlLENBQUksSUFBSSxFQUFFLEtBQUssRUFBSzs7O0FBR3ZDLFlBQU0sSUFBSSxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLENBQUM7QUFDOUIsZUFBSyxJQUFJLENBQUMsU0FBUyxFQUFFLElBQUksQ0FBQyxDQUFDO09BQzVCLENBQUM7O0FBRUYsZUFBUyxDQUFDLEVBQUUsQ0FBQyxTQUFTLEVBQUUsZUFBZSxDQUFDLENBQUM7Ozs7QUFJekMsZUFBUyxDQUFDLE9BQU8sR0FBRyxZQUFNO0FBQ3hCLGlCQUFTLENBQUMsY0FBYyxDQUFDLE1BQU0sRUFBRSxZQUFZLENBQUMsQ0FBQztBQUMvQyxpQkFBUyxDQUFDLGNBQWMsQ0FBQyxPQUFPLEVBQUUsYUFBYSxDQUFDLENBQUM7QUFDakQsaUJBQVMsQ0FBQyxjQUFjLENBQUMsT0FBTyxFQUFFLGFBQWEsQ0FBQyxDQUFDO0FBQ2pELGlCQUFTLENBQUMsY0FBYyxDQUFDLFNBQVMsRUFBRSxlQUFlLENBQUMsQ0FBQztPQUN0RCxDQUFDO0tBQ0g7OztXQUVVLHVCQUFHO0FBQ1osVUFBSSxDQUFDLFVBQVUsR0FBRyxLQUFLLENBQUM7QUFDeEIsVUFBSSxDQUFDLElBQUksQ0FBQyxRQUFRLEVBQUUsSUFBSSxDQUFDLFVBQVUsQ0FBQyxDQUFDO0FBQ3JDLFVBQUksQ0FBQyxJQUFJLENBQUMsWUFBWSxDQUFDLENBQUM7S0FDekI7OztXQUVjLDJCQUFHO0FBQ2hCLFVBQU0sU0FBUyxHQUFHLElBQUksQ0FBQyxVQUFVLENBQUM7QUFDbEMsVUFBSSxTQUFTLElBQUksSUFBSSxFQUFFO0FBQ3JCLGlCQUFTLENBQUMsT0FBTyxFQUFFLENBQUM7QUFDcEIsaUJBQVMsQ0FBQyxLQUFLLEVBQUUsQ0FBQztBQUNsQixZQUFJLENBQUMsVUFBVSxHQUFHLElBQUksQ0FBQztPQUN4QjtLQUNGOzs7V0FFaUIsOEJBQUc7OztBQUNuQixVQUFJLElBQUksQ0FBQyxlQUFlLEVBQUU7QUFDeEIsZUFBTztPQUNSOztBQUVELFVBQUksQ0FBQyxlQUFlLEdBQUcsVUFBVSxDQUFDLFlBQU07QUFDdEMsZUFBSyxlQUFlLEdBQUcsSUFBSSxDQUFDO0FBQzVCLGVBQUssVUFBVSxFQUFFLENBQUM7T0FDbkIsRUFBRSxJQUFJLENBQUMsY0FBYyxDQUFDLENBQUM7QUFDeEIsVUFBSSxDQUFDLGNBQWMsR0FBRyxJQUFJLENBQUMsY0FBYyxHQUFHLENBQUMsQ0FBQztBQUM5QyxVQUFJLElBQUksQ0FBQyxjQUFjLEdBQUcscUJBQXFCLEVBQUU7QUFDL0MsWUFBSSxDQUFDLGNBQWMsR0FBRyxxQkFBcUIsQ0FBQztPQUM3QztLQUNGOzs7V0FFbUIsZ0NBQUc7QUFDckIsVUFBSSxJQUFJLENBQUMsZUFBZSxFQUFFO0FBQ3hCLG9CQUFZLENBQUMsSUFBSSxDQUFDLGVBQWUsQ0FBQyxDQUFDO0FBQ25DLFlBQUksQ0FBQyxlQUFlLEdBQUcsSUFBSSxDQUFDO09BQzdCO0tBQ0Y7OztXQUVHLGNBQUMsSUFBUyxFQUFROzs7Ozs7QUFJcEIsVUFBTSxPQUFPLEdBQUcsRUFBQyxJQUFJLEVBQUosSUFBSSxFQUFDLENBQUM7QUFDdkIsVUFBSSxDQUFDLGVBQWUsQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUM7QUFDbkMsVUFBSSxDQUFDLElBQUksQ0FBQyxVQUFVLEVBQUU7QUFDcEIsZUFBTztPQUNSOztBQUVELFVBQU0sU0FBUyxHQUFHLElBQUksQ0FBQyxVQUFVLENBQUM7QUFDbEMsVUFBSSxTQUFTLElBQUksSUFBSSxFQUFFO0FBQ3JCLGVBQU87T0FDUjtBQUNELGVBQVMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsRUFBRSxVQUFDLEdBQUcsRUFBSztBQUM1QyxZQUFJLEdBQUcsRUFBRTtBQUNQLGdCQUFNLENBQUMsSUFBSSxDQUFDLDJDQUEyQyxFQUFFLEdBQUcsQ0FBQyxDQUFDO1NBQy9ELE1BQU07QUFDTCxjQUFNLFlBQVksR0FBRyxPQUFLLGVBQWUsQ0FBQyxPQUFPLENBQUMsT0FBTyxDQUFDLENBQUM7QUFDM0QsY0FBSSxZQUFZLEtBQUssQ0FBQyxDQUFDLEVBQUU7QUFDdkIsbUJBQUssZUFBZSxDQUFDLE1BQU0sQ0FBQyxZQUFZLEVBQUUsQ0FBQyxDQUFDLENBQUM7V0FDOUM7U0FDRjtPQUNGLENBQUMsQ0FBQztLQUNKOzs7NkJBRWUsV0FBQyxPQUFZLEVBQXVCO3NCQUNzQixJQUFJLENBQUMsUUFBUTtVQUE5RSwrQkFBK0IsYUFBL0IsK0JBQStCO1VBQUUsU0FBUyxhQUFULFNBQVM7VUFBRSxpQkFBaUIsYUFBakIsaUJBQWlCOztBQUNwRSxVQUFJLCtCQUErQixJQUFJLFNBQVMsSUFBSSxpQkFBaUIsRUFBRTtBQUNyRSxlQUFPLENBQUMsWUFBWSxHQUFHO0FBQ3JCLFlBQUUsRUFBRSwrQkFBK0I7QUFDbkMsYUFBRyxFQUFFLFNBQVM7QUFDZCxjQUFJLEVBQUUsaUJBQWlCO1NBQ3hCLENBQUM7T0FDSDs7QUFFRCxhQUFPLENBQUMsR0FBRyxHQUFHLElBQUksQ0FBQyxVQUFVLEdBQUcsR0FBRyxHQUFHLE9BQU8sQ0FBQyxHQUFHLENBQUM7O2lCQUNuQyxNQUFNLFlBQVksQ0FBQyxPQUFPLENBQUM7O1VBQW5DLElBQUksUUFBSixJQUFJOztBQUNYLGFBQU8sSUFBSSxDQUFDO0tBQ2I7OztXQUVzQixtQ0FBUzs7O0FBQzlCLFVBQUksQ0FBQyxVQUFVLEVBQUUsQ0FBQztBQUNsQixVQUFJLENBQUMsa0JBQWtCLEdBQUcsV0FBVyxDQUFDO2VBQU0sT0FBSyxVQUFVLEVBQUU7T0FBQSxFQUFFLHFCQUFxQixDQUFDLENBQUM7S0FDdkY7Ozs7OztXQUlhLDBCQUFrQjtBQUM5QixhQUFPLElBQUksQ0FBQyxjQUFjLEVBQUUsQ0FBQztLQUM5Qjs7O1dBRWEsMEJBQWtCO0FBQzlCLGFBQU8sSUFBSSxDQUFDLFVBQVUsQ0FBQztBQUNyQixXQUFHLFVBcE9ELGlCQUFpQixBQW9PRztBQUN0QixjQUFNLEVBQUUsTUFBTTtPQUNmLENBQUMsQ0FBQztLQUNKOzs7NkJBRWUsYUFBa0I7QUFDaEMsVUFBSTtBQUNGLGNBQU0sSUFBSSxDQUFDLGNBQWMsRUFBRSxDQUFDO0FBQzVCLFlBQUksQ0FBQyx1QkFBdUIsR0FBRyxJQUFJLENBQUM7QUFDcEMsWUFBTSxHQUFHLEdBQUcsSUFBSSxDQUFDLEdBQUcsRUFBRSxDQUFDO0FBQ3ZCLFlBQUksQ0FBQyxrQkFBa0IsR0FBRyxJQUFJLENBQUMsa0JBQWtCLElBQUksR0FBRyxDQUFDO0FBQ3pELFlBQUksSUFBSSxDQUFDLGNBQWMsS0FBSyxNQUFNLElBQzFCLEFBQUMsR0FBRyxHQUFHLElBQUksQ0FBQyxrQkFBa0IsR0FBSSwrQkFBK0IsQUFBQyxFQUFFOztBQUUxRSxjQUFJLENBQUMsZUFBZSxFQUFFLENBQUM7QUFDdkIsY0FBSSxDQUFDLGtCQUFrQixFQUFFLENBQUM7U0FDM0I7QUFDRCxZQUFJLENBQUMsY0FBYyxHQUFHLE1BQU0sQ0FBQztBQUM3QixZQUFJLENBQUMsa0JBQWtCLEdBQUcsR0FBRyxDQUFDO0FBQzlCLFlBQUksQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLENBQUM7T0FDeEIsQ0FBQyxPQUFPLEdBQUcsRUFBRTtBQUNaLFlBQUksQ0FBQyxXQUFXLEVBQUUsQ0FBQztBQUNuQixZQUFJLENBQUMsY0FBYyxHQUFHLE1BQU0sQ0FBQzs7OztZQUloQixZQUFZLEdBQWEsR0FBRyxDQUFsQyxJQUFJO1lBQWdCLE9BQU8sR0FBSSxHQUFHLENBQWQsT0FBTzs7QUFDbEMsWUFBSSxJQUFJLEdBQUcsSUFBSSxDQUFDO0FBQ2hCLGdCQUFRLFlBQVk7QUFDbEIsZUFBSyxXQUFXLENBQUM7O0FBRWpCLGVBQUssVUFBVSxDQUFDOzs7QUFHaEIsZUFBSyxlQUFlLENBQUM7O0FBRXJCLGVBQUssY0FBYyxDQUFDOztBQUVwQixlQUFLLFdBQVc7QUFDZCxnQkFBSSxHQUFHLGNBQWMsQ0FBQztBQUN0QixrQkFBTTtBQUFBLEFBQ1IsZUFBSyxjQUFjOztBQUVqQixnQkFBSSxJQUFJLENBQUMsdUJBQXVCLEVBQUU7QUFDaEMsa0JBQUksR0FBRyxnQkFBZ0IsQ0FBQzthQUN6QixNQUFNO0FBQ0wsa0JBQUksR0FBRyxxQkFBcUIsQ0FBQzthQUM5QjtBQUNELGtCQUFNO0FBQUEsQUFDUixlQUFLLFlBQVk7QUFDZixnQkFBSSxHQUFHLHFCQUFxQixDQUFDO0FBQzdCLGtCQUFNO0FBQUEsQUFDUjtBQUNFLGdCQUFJLEdBQUcsWUFBWSxDQUFDO0FBQ3BCLGtCQUFNO0FBQUEsU0FDVDtBQUNELFlBQUksQ0FBQyxJQUFJLENBQUMsaUJBQWlCLEVBQUUsRUFBQyxJQUFJLEVBQUosSUFBSSxFQUFFLFlBQVksRUFBWixZQUFZLEVBQUUsT0FBTyxFQUFQLE9BQU8sRUFBQyxDQUFDLENBQUM7T0FDN0Q7S0FDRjs7O1dBRVcsd0JBQVc7QUFDckIsYUFBTyxJQUFJLENBQUMsVUFBVSxDQUFDO0tBQ3hCOzs7V0FFSSxpQkFBRztBQUNOLFVBQUksQ0FBQyxPQUFPLEdBQUcsSUFBSSxDQUFDO0FBQ3BCLFVBQUksSUFBSSxDQUFDLFVBQVUsRUFBRTtBQUNuQixZQUFJLENBQUMsV0FBVyxFQUFFLENBQUM7T0FDcEI7QUFDRCxVQUFJLElBQUksQ0FBQyxlQUFlLEVBQUU7QUFDeEIsb0JBQVksQ0FBQyxJQUFJLENBQUMsZUFBZSxDQUFDLENBQUM7T0FDcEM7QUFDRCxVQUFJLENBQUMsZUFBZSxFQUFFLENBQUM7QUFDdkIsVUFBSSxDQUFDLGVBQWUsR0FBRyxFQUFFLENBQUM7QUFDMUIsVUFBSSxDQUFDLGNBQWMsR0FBRyx5QkFBeUIsQ0FBQztBQUNoRCxVQUFJLElBQUksQ0FBQyxrQkFBa0IsSUFBSSxJQUFJLEVBQUU7QUFDbkMscUJBQWEsQ0FBQyxJQUFJLENBQUMsa0JBQWtCLENBQUMsQ0FBQztPQUN4QztLQUNGOzs7V0FFVSx1QkFBWTtBQUNyQixhQUFPLElBQUksQ0FBQyxVQUFVLENBQUM7S0FDeEI7OztTQXhTRyxhQUFhO0dBQVMsWUFBWTs7QUEyU3hDLE1BQU0sQ0FBQyxPQUFPLEdBQUcsYUFBYSxDQUFDIiwiZmlsZSI6Ii92YXIvZm9sZGVycy94Zi9yc3BoNF9jNTczMTVyczU3eHhzZHNrcnhudjM2dDAvVC90bXBwZmw1Mm5wdWJsaXNoX3BhY2thZ2VzL25wbS9udWNsaWRlLXNlcnZlci9saWIvTnVjbGlkZVNvY2tldC5qcyIsInNvdXJjZXNDb250ZW50IjpbIid1c2UgYmFiZWwnO1xuLyogQGZsb3cgKi9cblxuLypcbiAqIENvcHlyaWdodCAoYykgMjAxNS1wcmVzZW50LCBGYWNlYm9vaywgSW5jLlxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBsaWNlbnNlIGZvdW5kIGluIHRoZSBMSUNFTlNFIGZpbGUgaW5cbiAqIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICovXG5jb25zdCB1cmwgPSByZXF1aXJlKCd1cmwnKTtcbmNvbnN0IHthc3luY1JlcXVlc3R9ID0gcmVxdWlyZSgnLi91dGlscycpO1xuY29uc3QgV2ViU29ja2V0ID0gcmVxdWlyZSgnd3MnKTtcbmNvbnN0IHV1aWQgPSByZXF1aXJlKCd1dWlkJyk7XG5jb25zdCB7RXZlbnRFbWl0dGVyfSA9IHJlcXVpcmUoJ2V2ZW50cycpO1xuY29uc3QgbG9nZ2VyID0gcmVxdWlyZSgnbnVjbGlkZS1sb2dnaW5nJykuZ2V0TG9nZ2VyKCk7XG5pbXBvcnQge0hFQVJUQkVBVF9DSEFOTkVMfSBmcm9tICcuL2NvbmZpZyc7XG5cbnR5cGUgTnVjbGlkZVNvY2tldE9wdGlvbnMgPSB7XG4gIGNlcnRpZmljYXRlQXV0aG9yaXR5Q2VydGlmaWNhdGU6ID9CdWZmZXI7XG4gIGNsaWVudENlcnRpZmljYXRlOiA/QnVmZmVyO1xuICBjbGllbnRLZXk6ID9CdWZmZXI7XG59O1xuXG5jb25zdCBJTklUSUFMX1JFQ09OTkVDVF9USU1FX01TID0gMTA7XG5jb25zdCBNQVhfUkVDT05ORUNUX1RJTUVfTVMgPSA1MDAwO1xuY29uc3QgSEVBUlRCRUFUX0lOVEVSVkFMX01TID0gNTAwMDtcbmNvbnN0IE1BWF9IRUFSVEJFQVRfQVdBWV9SRUNPTk5FQ1RfTVMgPSA2MDAwMDtcblxuLy8gVE9ETyhtb3N0KTogUmVuYW1lIGNsYXNzIHRvIHJlZmxlY3QgaXRzIG5ldyByZXNwb25zaWJpbGl0aWVzIChub3QganVzdCBXZWJTb2NrZXQgY29ubmVjdGlvbikuXG5jbGFzcyBOdWNsaWRlU29ja2V0IGV4dGVuZHMgRXZlbnRFbWl0dGVyIHtcbiAgaWQ6IHN0cmluZztcblxuICBfc2VydmVyVXJpOiBzdHJpbmc7XG4gIF9vcHRpb25zOiA/TnVjbGlkZVNvY2tldE9wdGlvbnM7XG4gIF9yZWNvbm5lY3RUaW1lOiBudW1iZXI7XG4gIF9yZWNvbm5lY3RUaW1lcjogP251bWJlcjsgLy8gSUQgZnJvbSBhIHNldFRpbWVvdXQoKSBjYWxsLlxuICBfY29ubmVjdGVkOiBib29sZWFuO1xuICBfY2xvc2VkOiBib29sZWFuO1xuICBfcHJldmlvdXNseUNvbm5lY3RlZDogYm9vbGVhbjtcbiAgX2NhY2hlZE1lc3NhZ2VzOiBBcnJheTx7ZGF0YTogYW55fT47XG4gIF93ZWJzb2NrZXRVcmk6IHN0cmluZztcbiAgX3dlYnNvY2tldDogP1dlYlNvY2tldDtcbiAgX2hlYXJ0YmVhdENvbm5lY3RlZE9uY2U6IGJvb2xlYW47XG4gIF9sYXN0SGVhcnRiZWF0OiA/KCdoZXJlJyB8ICdhd2F5Jyk7XG4gIF9sYXN0SGVhcnRiZWF0VGltZTogP251bWJlcjtcbiAgX2hlYXJ0YmVhdEludGVydmFsOiA/bnVtYmVyO1xuXG4gIGNvbnN0cnVjdG9yKHNlcnZlclVyaTogc3RyaW5nLCBvcHRpb25zOiA/TnVjbGlkZVNvY2tldE9wdGlvbnMpIHtcbiAgICBzdXBlcigpO1xuICAgIHRoaXMuX3NlcnZlclVyaSA9IHNlcnZlclVyaTtcbiAgICB0aGlzLl9vcHRpb25zID0gb3B0aW9ucztcbiAgICB0aGlzLmlkID0gdXVpZC52NCgpO1xuICAgIHRoaXMuX3JlY29ubmVjdFRpbWUgPSBJTklUSUFMX1JFQ09OTkVDVF9USU1FX01TO1xuICAgIHRoaXMuX3JlY29ubmVjdFRpbWVyID0gbnVsbDtcbiAgICB0aGlzLl9jb25uZWN0ZWQgPSBmYWxzZTtcbiAgICB0aGlzLl9jbG9zZWQgPSBmYWxzZTtcbiAgICB0aGlzLl9wcmV2aW91c2x5Q29ubmVjdGVkID0gZmFsc2U7XG4gICAgdGhpcy5fY2FjaGVkTWVzc2FnZXMgPSBbXTtcblxuICAgIGNvbnN0IHtwcm90b2NvbCwgaG9zdH0gPSB1cmwucGFyc2Uoc2VydmVyVXJpKTtcbiAgICB0aGlzLl93ZWJzb2NrZXRVcmkgPSBgd3Mke3Byb3RvY29sID09PSAnaHR0cHM6JyA/ICdzJyA6ICcnfTovLyR7aG9zdH1gO1xuXG4gICAgdGhpcy5faGVhcnRiZWF0Q29ubmVjdGVkT25jZSA9IGZhbHNlO1xuICAgIHRoaXMuX2xhc3RIZWFydGJlYXQgPSBudWxsO1xuICAgIHRoaXMuX2xhc3RIZWFydGJlYXRUaW1lID0gbnVsbDtcbiAgICB0aGlzLl9tb25pdG9yU2VydmVySGVhcnRiZWF0KCk7XG5cbiAgICB0aGlzLl9yZWNvbm5lY3QoKTtcbiAgfVxuXG4gIHdhaXRGb3JDb25uZWN0KCk6IFByb21pc2Uge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBpZiAodGhpcy5fY29ubmVjdGVkKSB7XG4gICAgICAgIHJldHVybiByZXNvbHZlKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLm9uKCdjb25uZWN0JywgcmVzb2x2ZSk7XG4gICAgICAgIHRoaXMub24oJ3JlY29ubmVjdCcsIHJlc29sdmUpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgX3JlY29ubmVjdCgpIHtcbiAgICBjb25zdCB7Y2VydGlmaWNhdGVBdXRob3JpdHlDZXJ0aWZpY2F0ZSwgY2xpZW50S2V5LCBjbGllbnRDZXJ0aWZpY2F0ZX0gPSB0aGlzLl9vcHRpb25zO1xuICAgIGNvbnN0IHdlYnNvY2tldCA9IG5ldyBXZWJTb2NrZXQodGhpcy5fd2Vic29ja2V0VXJpLCB7XG4gICAgICBjZXJ0OiBjbGllbnRDZXJ0aWZpY2F0ZSxcbiAgICAgIGtleTogY2xpZW50S2V5LFxuICAgICAgY2E6IGNlcnRpZmljYXRlQXV0aG9yaXR5Q2VydGlmaWNhdGUsXG4gICAgfSk7XG5cbiAgICBjb25zdCBvblNvY2tldE9wZW4gPSAoKSA9PiB7XG4gICAgICB0aGlzLl93ZWJzb2NrZXQgPSB3ZWJzb2NrZXQ7XG4gICAgICB0aGlzLl9yZWNvbm5lY3RUaW1lID0gSU5JVElBTF9SRUNPTk5FQ1RfVElNRV9NUztcbiAgICAgIC8vIEhhbmRzaGFrZSB0aGUgc2VydmVyIHdpdGggbXkgY2xpZW50IGlkIHRvIG1hbmFnZSBteSByZS1jb25uZWN0IGF0dGVtcCwgaWYgaXQgaXMuXG4gICAgICB3ZWJzb2NrZXQuc2VuZCh0aGlzLmlkLCAoKSA9PiB7XG4gICAgICAgIHRoaXMuX2Nvbm5lY3RlZCA9IHRydWU7XG4gICAgICAgIHRoaXMuZW1pdCgnc3RhdHVzJywgdGhpcy5fY29ubmVjdGVkKTtcbiAgICAgICAgaWYgKHRoaXMuX3ByZXZpb3VzbHlDb25uZWN0ZWQpIHtcbiAgICAgICAgICBsb2dnZXIuaW5mbygnV2ViU29ja2V0IHJlY29ubmVjdGVkJyk7XG4gICAgICAgICAgdGhpcy5lbWl0KCdyZWNvbm5lY3QnKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBsb2dnZXIuaW5mbygnV2ViU29ja2V0IGNvbm5lY3RlZCcpO1xuICAgICAgICAgIHRoaXMuZW1pdCgnY29ubmVjdCcpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3ByZXZpb3VzbHlDb25uZWN0ZWQgPSB0cnVlO1xuICAgICAgICB0aGlzLl9jYWNoZWRNZXNzYWdlcy5zcGxpY2UoMCkuZm9yRWFjaChtZXNzYWdlID0+IHRoaXMuc2VuZChtZXNzYWdlLmRhdGEpKTtcbiAgICAgIH0pO1xuICAgIH07XG4gICAgd2Vic29ja2V0Lm9uKCdvcGVuJywgb25Tb2NrZXRPcGVuKTtcblxuICAgIGNvbnN0IG9uU29ja2V0Q2xvc2UgPSAoKSA9PiB7XG4gICAgICBpZiAodGhpcy5fd2Vic29ja2V0ICE9PSB3ZWJzb2NrZXQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgbG9nZ2VyLmluZm8oJ1dlYlNvY2tldCBjbG9zZWQuJyk7XG4gICAgICB0aGlzLl93ZWJzb2NrZXQgPSBudWxsO1xuICAgICAgdGhpcy5fZGlzY29ubmVjdCgpO1xuICAgICAgaWYgKCF0aGlzLl9jbG9zZWQpIHtcbiAgICAgICAgbG9nZ2VyLmluZm8oJ1dlYlNvY2tldCByZWNvbm5lY3RpbmcgYWZ0ZXIgY2xvc2VkLicpO1xuICAgICAgICB0aGlzLl9zY2hlZHVsZVJlY29ubmVjdCgpO1xuICAgICAgfVxuICAgIH07XG4gICAgd2Vic29ja2V0Lm9uKCdjbG9zZScsIG9uU29ja2V0Q2xvc2UpO1xuXG4gICAgY29uc3Qgb25Tb2NrZXRFcnJvciA9IChlcnJvcikgPT4ge1xuICAgICAgaWYgKHRoaXMuX3dlYnNvY2tldCAhPT0gd2Vic29ja2V0KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGxvZ2dlci5lcnJvcignV2ViU29ja2V0IEVycm9yIC0gcmVjb25uZWN0aW5nLi4uJywgZXJyb3IpO1xuICAgICAgdGhpcy5fY2xlYW5XZWJTb2NrZXQoKTtcbiAgICAgIHRoaXMuX3NjaGVkdWxlUmVjb25uZWN0KCk7XG4gICAgfTtcbiAgICB3ZWJzb2NrZXQub24oJ2Vycm9yJywgb25Tb2NrZXRFcnJvcik7XG5cbiAgICBjb25zdCBvblNvY2tldE1lc3NhZ2UgPSAoZGF0YSwgZmxhZ3MpID0+IHtcbiAgICAgIC8vIGZsYWdzLmJpbmFyeSB3aWxsIGJlIHNldCBpZiBhIGJpbmFyeSBkYXRhIGlzIHJlY2VpdmVkLlxuICAgICAgLy8gZmxhZ3MubWFza2VkIHdpbGwgYmUgc2V0IGlmIHRoZSBkYXRhIHdhcyBtYXNrZWQuXG4gICAgICBjb25zdCBqc29uID0gSlNPTi5wYXJzZShkYXRhKTtcbiAgICAgIHRoaXMuZW1pdCgnbWVzc2FnZScsIGpzb24pO1xuICAgIH07XG5cbiAgICB3ZWJzb2NrZXQub24oJ21lc3NhZ2UnLCBvblNvY2tldE1lc3NhZ2UpO1xuICAgIC8vIFdlYlNvY2tldCBpbmhlcml0cyBmcm9tIEV2ZW50RW1pdHRlciwgYW5kIGRvZXNuJ3QgZGlzcG9zZSB0aGUgbGlzdGVuZXJzIG9uIGNsb3NlLlxuICAgIC8vIEhlcmUsIEkgYWRkZWQgYW4gZXhwYW5kbyBwcm9wZXJ0eSBmdW5jdGlvbiB0byBhbGxvdyBkaXNwb3NpbmcgdGhvc2UgbGlzdGVuZXJzIG9uIHRoZSBjcmVhdGVkXG4gICAgLy8gaW5zdGFuY2UuXG4gICAgd2Vic29ja2V0LmRpc3Bvc2UgPSAoKSA9PiB7XG4gICAgICB3ZWJzb2NrZXQucmVtb3ZlTGlzdGVuZXIoJ29wZW4nLCBvblNvY2tldE9wZW4pO1xuICAgICAgd2Vic29ja2V0LnJlbW92ZUxpc3RlbmVyKCdjbG9zZScsIG9uU29ja2V0Q2xvc2UpO1xuICAgICAgd2Vic29ja2V0LnJlbW92ZUxpc3RlbmVyKCdlcnJvcicsIG9uU29ja2V0RXJyb3IpO1xuICAgICAgd2Vic29ja2V0LnJlbW92ZUxpc3RlbmVyKCdtZXNzYWdlJywgb25Tb2NrZXRNZXNzYWdlKTtcbiAgICB9O1xuICB9XG5cbiAgX2Rpc2Nvbm5lY3QoKSB7XG4gICAgdGhpcy5fY29ubmVjdGVkID0gZmFsc2U7XG4gICAgdGhpcy5lbWl0KCdzdGF0dXMnLCB0aGlzLl9jb25uZWN0ZWQpO1xuICAgIHRoaXMuZW1pdCgnZGlzY29ubmVjdCcpO1xuICB9XG5cbiAgX2NsZWFuV2ViU29ja2V0KCkge1xuICAgIGNvbnN0IHdlYnNvY2tldCA9IHRoaXMuX3dlYnNvY2tldDtcbiAgICBpZiAod2Vic29ja2V0ICE9IG51bGwpIHtcbiAgICAgIHdlYnNvY2tldC5kaXNwb3NlKCk7XG4gICAgICB3ZWJzb2NrZXQuY2xvc2UoKTtcbiAgICAgIHRoaXMuX3dlYnNvY2tldCA9IG51bGw7XG4gICAgfVxuICB9XG5cbiAgX3NjaGVkdWxlUmVjb25uZWN0KCkge1xuICAgIGlmICh0aGlzLl9yZWNvbm5lY3RUaW1lcikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICAvLyBFeHBvbmVudGlhbCByZWNvbm5lY3QgdGltZSB0cmlhbHMuXG4gICAgdGhpcy5fcmVjb25uZWN0VGltZXIgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIHRoaXMuX3JlY29ubmVjdFRpbWVyID0gbnVsbDtcbiAgICAgIHRoaXMuX3JlY29ubmVjdCgpO1xuICAgIH0sIHRoaXMuX3JlY29ubmVjdFRpbWUpO1xuICAgIHRoaXMuX3JlY29ubmVjdFRpbWUgPSB0aGlzLl9yZWNvbm5lY3RUaW1lICogMjtcbiAgICBpZiAodGhpcy5fcmVjb25uZWN0VGltZSA+IE1BWF9SRUNPTk5FQ1RfVElNRV9NUykge1xuICAgICAgdGhpcy5fcmVjb25uZWN0VGltZSA9IE1BWF9SRUNPTk5FQ1RfVElNRV9NUztcbiAgICB9XG4gIH1cblxuICBfY2xlYXJSZWNvbm5lY3RUaW1lcigpIHtcbiAgICBpZiAodGhpcy5fcmVjb25uZWN0VGltZXIpIHtcbiAgICAgIGNsZWFyVGltZW91dCh0aGlzLl9yZWNvbm5lY3RUaW1lcik7XG4gICAgICB0aGlzLl9yZWNvbm5lY3RUaW1lciA9IG51bGw7XG4gICAgfVxuICB9XG5cbiAgc2VuZChkYXRhOiBhbnkpOiB2b2lkIHtcbiAgICAvLyBXcmFwIHRoZSBkYXRhIGluIGFuIG9iamVjdCwgYmVjYXVzZSBpZiBgZGF0YWAgaXMgYSBwcmltaXRpdmUgZGF0YSB0eXBlLFxuICAgIC8vIGZpbmRpbmcgaXQgaW4gYW4gYXJyYXkgd291bGQgcmV0dXJuIHRoZSBmaXJzdCBtYXRjaGluZyBpdGVtLCBub3QgbmVjZXNzYXJpbHkgdGhlIHNhbWVcbiAgICAvLyBpbnNlcnRlZCBpdGVtLlxuICAgIGNvbnN0IG1lc3NhZ2UgPSB7ZGF0YX07XG4gICAgdGhpcy5fY2FjaGVkTWVzc2FnZXMucHVzaChtZXNzYWdlKTtcbiAgICBpZiAoIXRoaXMuX2Nvbm5lY3RlZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IHdlYnNvY2tldCA9IHRoaXMuX3dlYnNvY2tldDtcbiAgICBpZiAod2Vic29ja2V0ID09IG51bGwpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgd2Vic29ja2V0LnNlbmQoSlNPTi5zdHJpbmdpZnkoZGF0YSksIChlcnIpID0+IHtcbiAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgbG9nZ2VyLndhcm4oJ1dlYlNvY2tldCBlcnJvciwgYnV0IGNhY2hpbmcgdGhlIG1lc3NhZ2U6JywgZXJyKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2VJbmRleCA9IHRoaXMuX2NhY2hlZE1lc3NhZ2VzLmluZGV4T2YobWVzc2FnZSk7XG4gICAgICAgIGlmIChtZXNzYWdlSW5kZXggIT09IC0xKSB7XG4gICAgICAgICAgdGhpcy5fY2FjaGVkTWVzc2FnZXMuc3BsaWNlKG1lc3NhZ2VJbmRleCwgMSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIGFzeW5jIHhoclJlcXVlc3Qob3B0aW9uczogYW55KTogUHJvbWlzZTxzdHJpbmd8YW55PiB7XG4gICAgY29uc3Qge2NlcnRpZmljYXRlQXV0aG9yaXR5Q2VydGlmaWNhdGUsIGNsaWVudEtleSwgY2xpZW50Q2VydGlmaWNhdGV9ID0gdGhpcy5fb3B0aW9ucztcbiAgICBpZiAoY2VydGlmaWNhdGVBdXRob3JpdHlDZXJ0aWZpY2F0ZSAmJiBjbGllbnRLZXkgJiYgY2xpZW50Q2VydGlmaWNhdGUpIHtcbiAgICAgIG9wdGlvbnMuYWdlbnRPcHRpb25zID0ge1xuICAgICAgICBjYTogY2VydGlmaWNhdGVBdXRob3JpdHlDZXJ0aWZpY2F0ZSxcbiAgICAgICAga2V5OiBjbGllbnRLZXksXG4gICAgICAgIGNlcnQ6IGNsaWVudENlcnRpZmljYXRlLFxuICAgICAgfTtcbiAgICB9XG5cbiAgICBvcHRpb25zLnVyaSA9IHRoaXMuX3NlcnZlclVyaSArICcvJyArIG9wdGlvbnMudXJpO1xuICAgIGNvbnN0IHtib2R5fSA9IGF3YWl0IGFzeW5jUmVxdWVzdChvcHRpb25zKTtcbiAgICByZXR1cm4gYm9keTtcbiAgfVxuXG4gIF9tb25pdG9yU2VydmVySGVhcnRiZWF0KCk6IHZvaWQge1xuICAgIHRoaXMuX2hlYXJ0YmVhdCgpO1xuICAgIHRoaXMuX2hlYXJ0YmVhdEludGVydmFsID0gc2V0SW50ZXJ2YWwoKCkgPT4gdGhpcy5faGVhcnRiZWF0KCksIEhFQVJUQkVBVF9JTlRFUlZBTF9NUyk7XG4gIH1cblxuICAvLyBSZXNvbHZlcyBpZiB0aGUgY29ubmVjdGlvbiBsb29rcyBoZWFsdGh5LlxuICAvLyBXaWxsIHJlamVjdCBxdWlja2x5IGlmIHRoZSBjb25uZWN0aW9uIGxvb2tzIHVuaGVhbHRoeS5cbiAgdGVzdENvbm5lY3Rpb24oKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgcmV0dXJuIHRoaXMuX3NlbmRIZWFydEJlYXQoKTtcbiAgfVxuXG4gIF9zZW5kSGVhcnRCZWF0KCk6IFByb21pc2U8dm9pZD4ge1xuICAgIHJldHVybiB0aGlzLnhoclJlcXVlc3Qoe1xuICAgICAgdXJpOiBIRUFSVEJFQVRfQ0hBTk5FTCxcbiAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgIH0pO1xuICB9XG5cbiAgYXN5bmMgX2hlYXJ0YmVhdCgpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICB0cnkge1xuICAgICAgYXdhaXQgdGhpcy5fc2VuZEhlYXJ0QmVhdCgpO1xuICAgICAgdGhpcy5faGVhcnRiZWF0Q29ubmVjdGVkT25jZSA9IHRydWU7XG4gICAgICBjb25zdCBub3cgPSBEYXRlLm5vdygpO1xuICAgICAgdGhpcy5fbGFzdEhlYXJ0YmVhdFRpbWUgPSB0aGlzLl9sYXN0SGVhcnRiZWF0VGltZSB8fCBub3c7XG4gICAgICBpZiAodGhpcy5fbGFzdEhlYXJ0YmVhdCA9PT0gJ2F3YXknXG4gICAgICAgICAgfHwgKChub3cgLSB0aGlzLl9sYXN0SGVhcnRiZWF0VGltZSkgPiBNQVhfSEVBUlRCRUFUX0FXQVlfUkVDT05ORUNUX01TKSkge1xuICAgICAgICAvLyBUcmlnZ2VyIGEgd2Vic29ja2V0IHJlY29ubmVjdC5cbiAgICAgICAgdGhpcy5fY2xlYW5XZWJTb2NrZXQoKTtcbiAgICAgICAgdGhpcy5fc2NoZWR1bGVSZWNvbm5lY3QoKTtcbiAgICAgIH1cbiAgICAgIHRoaXMuX2xhc3RIZWFydGJlYXQgPSAnaGVyZSc7XG4gICAgICB0aGlzLl9sYXN0SGVhcnRiZWF0VGltZSA9IG5vdztcbiAgICAgIHRoaXMuZW1pdCgnaGVhcnRiZWF0Jyk7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICB0aGlzLl9kaXNjb25uZWN0KCk7XG4gICAgICB0aGlzLl9sYXN0SGVhcnRiZWF0ID0gJ2F3YXknO1xuICAgICAgLy8gRXJyb3IgY29kZSBjb3VsZCBjb3VsZCBiZSBvbmUgb2Y6XG4gICAgICAvLyBbJ0VOT1RGT1VORCcsICdFQ09OTlJFRlVTRUQnLCAnRUNPTk5SRVNFVCcsICdFVElNRURPVVQnXVxuICAgICAgLy8gQSBoZXVyaXN0aWMgbWFwcGluZyBpcyBkb25lIGJldHdlZW4gdGhlIHhociBlcnJvciBjb2RlIHRvIHRoZSBzdGF0ZSBvZiBzZXJ2ZXIgY29ubmVjdGlvbi5cbiAgICAgIGNvbnN0IHtjb2RlOiBvcmlnaW5hbENvZGUsIG1lc3NhZ2V9ID0gZXJyO1xuICAgICAgbGV0IGNvZGUgPSBudWxsO1xuICAgICAgc3dpdGNoIChvcmlnaW5hbENvZGUpIHtcbiAgICAgICAgY2FzZSAnRU5PVEZPVU5EJzpcbiAgICAgICAgLy8gQSBzb2NrZXQgb3BlcmF0aW9uIGZhaWxlZCBiZWNhdXNlIHRoZSBuZXR3b3JrIHdhcyBkb3duLlxuICAgICAgICBjYXNlICdFTkVURE9XTic6XG4gICAgICAgIC8vIFRoZSByYW5nZSBvZiB0aGUgdGVtcG9yYXJ5IHBvcnRzIGZvciBjb25uZWN0aW9uIGFyZSBhbGwgdGFrZW4sXG4gICAgICAgIC8vIFRoaXMgaXMgdGVtcG9yYWwgd2l0aCBtYW55IGh0dHAgcmVxdWVzdHMsIGJ1dCBzaG91bGQgYmUgY291bnRlZCBhcyBhIG5ldHdvcmsgYXdheSBldmVudC5cbiAgICAgICAgY2FzZSAnRUFERFJOT1RBVkFJTCc6XG4gICAgICAgIC8vIFRoZSBob3N0IHNlcnZlciBpcyB1bnJlYWNoYWJsZSwgY291bGQgYmUgaW4gYSBWUE4uXG4gICAgICAgIGNhc2UgJ0VIT1NUVU5SRUFDSCc6XG4gICAgICAgIC8vIEEgcmVxdWVzdCB0aW1lb3V0IGlzIGNvbnNpZGVyZWQgYSBuZXR3b3JrIGF3YXkgZXZlbnQuXG4gICAgICAgIGNhc2UgJ0VUSU1FRE9VVCc6XG4gICAgICAgICAgY29kZSA9ICdORVRXT1JLX0FXQVknO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdFQ09OTlJFRlVTRUQnOlxuICAgICAgICAgIC8vIFNlcnZlciBzaHV0IGRvd24gb3IgcG9ydCBubyBsb25nZXIgYWNjZXNzaWJsZS5cbiAgICAgICAgICBpZiAodGhpcy5faGVhcnRiZWF0Q29ubmVjdGVkT25jZSkge1xuICAgICAgICAgICAgY29kZSA9ICdTRVJWRVJfQ1JBU0hFRCc7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvZGUgPSAnUE9SVF9OT1RfQUNDRVNTSUJMRSc7XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdFQ09OTlJFU0VUJzpcbiAgICAgICAgICBjb2RlID0gJ0lOVkFMSURfQ0VSVElGSUNBVEUnO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIGNvZGUgPSBvcmlnaW5hbENvZGU7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICB0aGlzLmVtaXQoJ2hlYXJ0YmVhdC5lcnJvcicsIHtjb2RlLCBvcmlnaW5hbENvZGUsIG1lc3NhZ2V9KTtcbiAgICB9XG4gIH1cblxuICBnZXRTZXJ2ZXJVcmkoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gdGhpcy5fc2VydmVyVXJpO1xuICB9XG5cbiAgY2xvc2UoKSB7XG4gICAgdGhpcy5fY2xvc2VkID0gdHJ1ZTtcbiAgICBpZiAodGhpcy5fY29ubmVjdGVkKSB7XG4gICAgICB0aGlzLl9kaXNjb25uZWN0KCk7XG4gICAgfVxuICAgIGlmICh0aGlzLl9yZWNvbm5lY3RUaW1lcikge1xuICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuX3JlY29ubmVjdFRpbWVyKTtcbiAgICB9XG4gICAgdGhpcy5fY2xlYW5XZWJTb2NrZXQoKTtcbiAgICB0aGlzLl9jYWNoZWRNZXNzYWdlcyA9IFtdO1xuICAgIHRoaXMuX3JlY29ubmVjdFRpbWUgPSBJTklUSUFMX1JFQ09OTkVDVF9USU1FX01TO1xuICAgIGlmICh0aGlzLl9oZWFydGJlYXRJbnRlcnZhbCAhPSBudWxsKSB7XG4gICAgICBjbGVhckludGVydmFsKHRoaXMuX2hlYXJ0YmVhdEludGVydmFsKTtcbiAgICB9XG4gIH1cblxuICBpc0Nvbm5lY3RlZCgpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5fY29ubmVjdGVkO1xuICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gTnVjbGlkZVNvY2tldDtcbiJdfQ==",""],"l":{"1":15,"3":1,"5":2,"7":1,"9":1,"11":1,"13":1,"22":1,"24":1,"26":1,"28":1,"29":1,"31":1,"33":1,"35":1,"37":1,"38":1,"39":1,"40":1,"44":1,"45":1,"47":1,"48":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"61":0,"63":0,"64":0,"66":0,"68":0,"69":0,"70":0,"71":0,"73":0,"76":1,"79":0,"81":0,"82":0,"83":0,"85":0,"86":0,"93":0,"95":0,"96":0,"97":0,"98":0,"100":0,"106":0,"107":0,"108":0,"110":0,"111":0,"112":0,"113":0,"114":0,"115":0,"117":0,"118":0,"120":0,"121":0,"122":0,"126":0,"128":0,"129":0,"130":0,"132":0,"133":0,"134":0,"135":0,"136":0,"137":0,"140":0,"142":0,"143":0,"144":0,"146":0,"147":0,"148":0,"150":0,"152":0,"155":0,"156":0,"159":0,"163":0,"164":0,"165":0,"166":0,"167":0,"173":0,"174":0,"175":0,"180":0,"181":0,"182":0,"183":0,"184":0,"190":0,"192":0,"193":0,"196":0,"197":0,"198":0,"200":0,"201":0,"202":0,"208":0,"209":0,"210":0,"216":0,"221":0,"222":0,"223":0,"224":0,"227":0,"228":0,"229":0,"231":0,"232":0,"233":0,"235":0,"236":0,"237":0,"245":0,"246":0,"247":0,"248":0,"250":0,"251":0,"258":0,"260":0,"262":0,"264":0,"269":0,"271":0,"272":0,"273":0,"282":0,"287":0,"295":0,"296":0,"297":0,"298":0,"299":0,"300":0,"302":0,"303":0,"305":0,"306":0,"307":0,"309":0,"310":0,"314":0,"315":0,"317":0,"318":0,"329":0,"330":0,"333":0,"334":0,"336":0,"338":0,"340":0,"341":0,"343":0,"344":0,"346":0,"352":0,"357":0,"358":0,"359":0,"361":0,"362":0,"364":0,"365":0,"366":0,"367":0,"368":0,"374":0,"378":1,"381":1}},"/home/travis/build/npmtest/node-npmtest-nuclide-server/node_modules/nuclide-server/lib/utils.js":{"path":"/home/travis/build/npmtest/node-npmtest-nuclide-server/node_modules/nuclide-server/lib/utils.js","s":{"1":1,"2":1,"3":1,"4":1,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":1,"22":0,"23":0,"24":0,"25":0,"26":1,"27":0,"28":0,"29":1,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":1,"40":0,"41":0,"42":0,"43":1,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":1,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":1},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0],"15":[0,0],"16":[0,0],"17":[0,0],"18":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0},"fnMap":{"1":{"name":"asyncRequest","line":21,"loc":{"start":{"line":21,"column":0},"end":{"line":21,"column":31}}},"2":{"name":"(anonymous_2)","line":22,"loc":{"start":{"line":22,"column":21},"end":{"line":22,"column":48}}},"3":{"name":"(anonymous_3)","line":26,"loc":{"start":{"line":26,"column":21},"end":{"line":26,"column":54}}},"4":{"name":"sendTextResponse","line":53,"loc":{"start":{"line":53,"column":0},"end":{"line":53,"column":54}}},"5":{"name":"sendJsonResponse","line":64,"loc":{"start":{"line":64,"column":0},"end":{"line":64,"column":54}}},"6":{"name":"parseRequestBody","line":72,"loc":{"start":{"line":72,"column":0},"end":{"line":72,"column":47}}},"7":{"name":"(anonymous_7)","line":73,"loc":{"start":{"line":73,"column":21},"end":{"line":73,"column":48}}},"8":{"name":"(anonymous_8)","line":75,"loc":{"start":{"line":75,"column":27},"end":{"line":75,"column":43}}},"9":{"name":"(anonymous_9)","line":83,"loc":{"start":{"line":83,"column":26},"end":{"line":83,"column":38}}},"10":{"name":"getQueryParameters","line":92,"loc":{"start":{"line":92,"column":0},"end":{"line":92,"column":40}}},"11":{"name":"serializeArgs","line":105,"loc":{"start":{"line":105,"column":0},"end":{"line":105,"column":29}}},"12":{"name":"(anonymous_12)","line":108,"loc":{"start":{"line":108,"column":15},"end":{"line":108,"column":30}}},"13":{"name":"deserializeArgs","line":132,"loc":{"start":{"line":132,"column":0},"end":{"line":132,"column":37}}},"14":{"name":"(anonymous_14)","line":142,"loc":{"start":{"line":142,"column":23},"end":{"line":142,"column":41}}}},"statementMap":{"1":{"start":{"line":10,"column":0},"end":{"line":10,"column":25}},"2":{"start":{"line":11,"column":0},"end":{"line":11,"column":33}},"3":{"start":{"line":12,"column":0},"end":{"line":12,"column":29}},"4":{"start":{"line":21,"column":0},"end":{"line":48,"column":1}},"5":{"start":{"line":22,"column":2},"end":{"line":47,"column":5}},"6":{"start":{"line":23,"column":4},"end":{"line":25,"column":5}},"7":{"start":{"line":24,"column":6},"end":{"line":24,"column":36}},"8":{"start":{"line":26,"column":4},"end":{"line":46,"column":7}},"9":{"start":{"line":27,"column":6},"end":{"line":45,"column":7}},"10":{"start":{"line":28,"column":8},"end":{"line":28,"column":22}},"11":{"start":{"line":29,"column":13},"end":{"line":45,"column":7}},"12":{"start":{"line":30,"column":8},"end":{"line":30,"column":29}},"13":{"start":{"line":31,"column":8},"end":{"line":38,"column":9}},"14":{"start":{"line":32,"column":10},"end":{"line":37,"column":11}},"15":{"start":{"line":33,"column":12},"end":{"line":33,"column":41}},"16":{"start":{"line":36,"column":12},"end":{"line":36,"column":42}},"17":{"start":{"line":39,"column":8},"end":{"line":39,"column":47}},"18":{"start":{"line":41,"column":8},"end":{"line":41,"column":57}},"19":{"start":{"line":42,"column":8},"end":{"line":42,"column":20}},"20":{"start":{"line":44,"column":8},"end":{"line":44,"column":52}},"21":{"start":{"line":53,"column":0},"end":{"line":59,"column":1}},"22":{"start":{"line":54,"column":2},"end":{"line":56,"column":3}},"23":{"start":{"line":55,"column":4},"end":{"line":55,"column":37}},"24":{"start":{"line":57,"column":2},"end":{"line":57,"column":29}},"25":{"start":{"line":58,"column":2},"end":{"line":58,"column":17}},"26":{"start":{"line":64,"column":0},"end":{"line":67,"column":1}},"27":{"start":{"line":65,"column":2},"end":{"line":65,"column":57}},"28":{"start":{"line":66,"column":2},"end":{"line":66,"column":63}},"29":{"start":{"line":72,"column":0},"end":{"line":87,"column":1}},"30":{"start":{"line":73,"column":2},"end":{"line":86,"column":5}},"31":{"start":{"line":74,"column":4},"end":{"line":74,"column":18}},"32":{"start":{"line":75,"column":4},"end":{"line":82,"column":7}},"33":{"start":{"line":76,"column":6},"end":{"line":76,"column":19}},"34":{"start":{"line":78,"column":6},"end":{"line":81,"column":7}},"35":{"start":{"line":79,"column":8},"end":{"line":79,"column":45}},"36":{"start":{"line":80,"column":8},"end":{"line":80,"column":41}},"37":{"start":{"line":83,"column":4},"end":{"line":85,"column":7}},"38":{"start":{"line":84,"column":6},"end":{"line":84,"column":55}},"39":{"start":{"line":92,"column":0},"end":{"line":98,"column":1}},"40":{"start":{"line":93,"column":2},"end":{"line":93,"column":47}},"41":{"start":{"line":95,"column":2},"end":{"line":95,"column":31}},"42":{"start":{"line":97,"column":2},"end":{"line":97,"column":15}},"43":{"start":{"line":105,"column":0},"end":{"line":126,"column":1}},"44":{"start":{"line":106,"column":2},"end":{"line":106,"column":22}},"45":{"start":{"line":107,"column":2},"end":{"line":107,"column":20}},"46":{"start":{"line":108,"column":2},"end":{"line":121,"column":5}},"47":{"start":{"line":110,"column":4},"end":{"line":120,"column":5}},"48":{"start":{"line":111,"column":6},"end":{"line":111,"column":26}},"49":{"start":{"line":112,"column":6},"end":{"line":112,"column":33}},"50":{"start":{"line":113,"column":11},"end":{"line":120,"column":5}},"51":{"start":{"line":114,"column":6},"end":{"line":114,"column":27}},"52":{"start":{"line":115,"column":6},"end":{"line":115,"column":30}},"53":{"start":{"line":118,"column":6},"end":{"line":118,"column":43}},"54":{"start":{"line":119,"column":6},"end":{"line":119,"column":30}},"55":{"start":{"line":122,"column":2},"end":{"line":125,"column":4}},"56":{"start":{"line":132,"column":0},"end":{"line":153,"column":1}},"57":{"start":{"line":133,"column":2},"end":{"line":133,"column":59}},"58":{"start":{"line":135,"column":2},"end":{"line":135,"column":38}},"59":{"start":{"line":136,"column":2},"end":{"line":136,"column":46}},"60":{"start":{"line":138,"column":2},"end":{"line":138,"column":20}},"61":{"start":{"line":139,"column":2},"end":{"line":139,"column":28}},"62":{"start":{"line":140,"column":2},"end":{"line":140,"column":54}},"63":{"start":{"line":141,"column":2},"end":{"line":141,"column":70}},"64":{"start":{"line":142,"column":2},"end":{"line":152,"column":5}},"65":{"start":{"line":144,"column":4},"end":{"line":151,"column":5}},"66":{"start":{"line":145,"column":6},"end":{"line":145,"column":23}},"67":{"start":{"line":146,"column":11},"end":{"line":151,"column":5}},"68":{"start":{"line":147,"column":6},"end":{"line":147,"column":17}},"69":{"start":{"line":150,"column":6},"end":{"line":150,"column":29}},"70":{"start":{"line":155,"column":0},"end":{"line":163,"column":2}}},"branchMap":{"1":{"line":23,"type":"if","locations":[{"start":{"line":23,"column":4},"end":{"line":23,"column":4}},{"start":{"line":23,"column":4},"end":{"line":23,"column":4}}]},"2":{"line":27,"type":"if","locations":[{"start":{"line":27,"column":6},"end":{"line":27,"column":6}},{"start":{"line":27,"column":6},"end":{"line":27,"column":6}}]},"3":{"line":29,"type":"if","locations":[{"start":{"line":29,"column":13},"end":{"line":29,"column":13}},{"start":{"line":29,"column":13},"end":{"line":29,"column":13}}]},"4":{"line":29,"type":"binary-expr","locations":[{"start":{"line":29,"column":17},"end":{"line":29,"column":42}},{"start":{"line":29,"column":46},"end":{"line":29,"column":72}}]},"5":{"line":31,"type":"if","locations":[{"start":{"line":31,"column":8},"end":{"line":31,"column":8}},{"start":{"line":31,"column":8},"end":{"line":31,"column":8}}]},"6":{"line":41,"type":"binary-expr","locations":[{"start":{"line":41,"column":19},"end":{"line":41,"column":33}},{"start":{"line":41,"column":37},"end":{"line":41,"column":56}}]},"7":{"line":54,"type":"if","locations":[{"start":{"line":54,"column":2},"end":{"line":54,"column":2}},{"start":{"line":54,"column":2},"end":{"line":54,"column":2}}]},"8":{"line":57,"type":"binary-expr","locations":[{"start":{"line":57,"column":17},"end":{"line":57,"column":21}},{"start":{"line":57,"column":25},"end":{"line":57,"column":27}}]},"9":{"line":78,"type":"if","locations":[{"start":{"line":78,"column":6},"end":{"line":78,"column":6}},{"start":{"line":78,"column":6},"end":{"line":78,"column":6}}]},"10":{"line":84,"type":"cond-expr","locations":[{"start":{"line":84,"column":30},"end":{"line":84,"column":46}},{"start":{"line":84,"column":49},"end":{"line":84,"column":53}}]},"11":{"line":110,"type":"if","locations":[{"start":{"line":110,"column":4},"end":{"line":110,"column":4}},{"start":{"line":110,"column":4},"end":{"line":110,"column":4}}]},"12":{"line":113,"type":"if","locations":[{"start":{"line":113,"column":11},"end":{"line":113,"column":11}},{"start":{"line":113,"column":11},"end":{"line":113,"column":11}}]},"13":{"line":138,"type":"binary-expr","locations":[{"start":{"line":138,"column":9},"end":{"line":138,"column":13}},{"start":{"line":138,"column":17},"end":{"line":138,"column":19}}]},"14":{"line":139,"type":"binary-expr","locations":[{"start":{"line":139,"column":13},"end":{"line":139,"column":21}},{"start":{"line":139,"column":25},"end":{"line":139,"column":27}}]},"15":{"line":140,"type":"cond-expr","locations":[{"start":{"line":140,"column":40},"end":{"line":140,"column":44}},{"start":{"line":140,"column":47},"end":{"line":140,"column":53}}]},"16":{"line":141,"type":"cond-expr","locations":[{"start":{"line":141,"column":48},"end":{"line":141,"column":56}},{"start":{"line":141,"column":59},"end":{"line":141,"column":69}}]},"17":{"line":144,"type":"if","locations":[{"start":{"line":144,"column":4},"end":{"line":144,"column":4}},{"start":{"line":144,"column":4},"end":{"line":144,"column":4}}]},"18":{"line":146,"type":"if","locations":[{"start":{"line":146,"column":11},"end":{"line":146,"column":11}},{"start":{"line":146,"column":11},"end":{"line":146,"column":11}}]}},"code":["","/*"," * Copyright (c) 2015-present, Facebook, Inc."," * All rights reserved."," *"," * This source code is licensed under the license found in the LICENSE file in"," * the root directory of this source tree."," */","","var url = require('url');","var request = require('request');","var MAX_REQUEST_LENGTH = 1e6;","","/**"," * Promisified version of the request function:"," * https://www.npmjs.com/package/request#requestoptions-callback"," * Defaults to using the node's querystring module to encode the url query parameters."," * If you want to use the npm's qs module to encode the query parameters, explicitly provide the option:"," * {useQuerystring: false}"," */","function asyncRequest(options) {","  return new Promise(function (resolve, reject) {","    if (options.useQuerystring === undefined) {","      options.useQuerystring = true;","    }","    request(options, function (error, response, body) {","      if (error) {","        reject(error);","      } else if (response.statusCode < 200 || response.statusCode >= 300) {","        var errorJson = body;","        if (typeof body !== 'object') {","          try {","            errorJson = JSON.parse(body);","          } catch (err) {","            // 404 responses aren't currently JSON.","            errorJson = { message: body };","          }","        }","        var err = new Error(errorJson.message);","        // Success http status codes range from 200 to 299.","        err.code = errorJson.code || response.statusCode;","        reject(err);","      } else {","        resolve({ body: body, response: response });","      }","    });","  });","}","","/**"," * Write a text or convert to text response with an optional status code."," */","function sendTextResponse(response, text, statusCode) {","  if (typeof statusCode === 'number') {","    response.statusCode = statusCode;","  }","  response.write(text || '');","  response.end();","}","","/**"," * Write a json response text with an optional status code."," */","function sendJsonResponse(response, json, statusCode) {","  response.setHeader('Content-Type', 'application/json');","  sendTextResponse(response, JSON.stringify(json), statusCode);","}","","/**","  * Parses the request body in an anyc/promise way","  */","function parseRequestBody(httpRequest, isJson) {","  return new Promise(function (resolve, reject) {","    var body = '';","    httpRequest.on('data', function (data) {","      body += data;","      // too much POST data, kill the connection!","      if (body.length > MAX_REQUEST_LENGTH) {","        reject(new Error('body is too big'));","        httpRequest.connection.destroy();","      }","    });","    httpRequest.on('end', function () {","      return resolve(isJson ? JSON.parse(body) : body);","    });","  });","}","","/**"," * Parses the url parameters ?abc=erf&lol=432c"," */","function getQueryParameters(requestUrl) {","  var _url$parse = url.parse(requestUrl, true);","","  var query = _url$parse.query;","","  return query;","}","","/**"," * Serializes the method arguments to args and argTypes arrays"," * to send the metadata about the argument types with the data"," * to help the server understand and parse it."," */","function serializeArgs(args) {","  var argsOnHttp = [];","  var argTypes = [];","  args.forEach(function (arg) {","    // I do this because nulls are normally sent as empty strings","    if (arg === undefined) {","      argsOnHttp.push('');","      argTypes.push('undefined');","    } else if (typeof arg === 'string') {","      argsOnHttp.push(arg);","      argTypes.push('string');","    } else {","      // object, number, boolean null","      argsOnHttp.push(JSON.stringify(arg));","      argTypes.push('object');","    }","  });","  return {","    args: argsOnHttp,","    argTypes: argTypes","  };","}","","/**"," * Deserializes a url with query parameters: args, argTypes to an array"," * of the original arguments of the same types the client called the function with."," */","function deserializeArgs(requestUrl) {","  var _getQueryParameters = getQueryParameters(requestUrl);","","  var args = _getQueryParameters.args;","  var argTypes = _getQueryParameters.argTypes;","","  args = args || [];","  argTypes = argTypes || [];","  var argsArray = Array.isArray(args) ? args : [args];","  var argTypesArray = Array.isArray(argTypes) ? argTypes : [argTypes];","  return argsArray.map(function (arg, i) {","    // I do this because nulls are normally sent as empty strings.","    if (argTypesArray[i] === 'undefined') {","      return undefined;","    } else if (argTypesArray[i] === 'string') {","      return arg;","    } else {","      // some methods have options object arguments.","      return JSON.parse(arg);","    }","  });","}","","module.exports = {","  asyncRequest: asyncRequest,","  deserializeArgs: deserializeArgs,","  getQueryParameters: getQueryParameters,","  parseRequestBody: parseRequestBody,","  sendJsonResponse: sendJsonResponse,","  sendTextResponse: sendTextResponse,","  serializeArgs: serializeArgs","};","//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi92YXIvZm9sZGVycy94Zi9yc3BoNF9jNTczMTVyczU3eHhzZHNrcnhudjM2dDAvVC90bXBwZmw1Mm5wdWJsaXNoX3BhY2thZ2VzL25wbS9udWNsaWRlLXNlcnZlci9saWIvdXRpbHMuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsV0FBVyxDQUFDOzs7Ozs7Ozs7O0FBV1osSUFBTSxHQUFHLEdBQUcsT0FBTyxDQUFDLEtBQUssQ0FBQyxDQUFDO0FBQzNCLElBQU0sT0FBTyxHQUFHLE9BQU8sQ0FBQyxTQUFTLENBQUMsQ0FBQztBQUNuQyxJQUFNLGtCQUFrQixHQUFHLEdBQUcsQ0FBQzs7Ozs7Ozs7O0FBYS9CLFNBQVMsWUFBWSxDQUFDLE9BQVksRUFBeUI7QUFDekQsU0FBTyxJQUFJLE9BQU8sQ0FBQyxVQUFDLE9BQU8sRUFBRSxNQUFNLEVBQUs7QUFDdEMsUUFBSSxPQUFPLENBQUMsY0FBYyxLQUFLLFNBQVMsRUFBRTtBQUN4QyxhQUFPLENBQUMsY0FBYyxHQUFHLElBQUksQ0FBQztLQUMvQjtBQUNELFdBQU8sQ0FBQyxPQUFPLEVBQUUsVUFBQyxLQUFLLEVBQUUsUUFBUSxFQUFFLElBQUksRUFBSztBQUMxQyxVQUFJLEtBQUssRUFBRTtBQUNULGNBQU0sQ0FBQyxLQUFLLENBQUMsQ0FBQztPQUNmLE1BQU0sSUFBSSxRQUFRLENBQUMsVUFBVSxHQUFHLEdBQUcsSUFBSSxRQUFRLENBQUMsVUFBVSxJQUFJLEdBQUcsRUFBRTtBQUNsRSxZQUFJLFNBQVMsR0FBRyxJQUFJLENBQUM7QUFDckIsWUFBSSxPQUFPLElBQUksS0FBSyxRQUFRLEVBQUU7QUFDNUIsY0FBSTtBQUNGLHFCQUFTLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsQ0FBQztXQUM5QixDQUFDLE9BQU8sR0FBRyxFQUFFOztBQUVaLHFCQUFTLEdBQUcsRUFBQyxPQUFPLEVBQUUsSUFBSSxFQUFDLENBQUM7V0FDN0I7U0FDRjtBQUNELFlBQU0sR0FBRyxHQUFHLElB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O0FBQ2hCLGVBQWEsRUFBYixhQUFhO0NBQ2QsQ0FBQyIsImZpbGUiOiIvdmFyL2ZvbGRlcnMveGYvcnNwaDRfYzU3MzE1cnM1N3h4c2Rza3J4bnYzNnQwL1QvdG1wcGZsNTJucHVibGlzaF9wYWNrYWdlcy9ucG0vbnVjbGlkZS1zZXJ2ZXIvbGliL3V0aWxzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBiYWJlbCc7XG4vKiBAZmxvdyAqL1xuXG4vKlxuICogQ29weXJpZ2h0IChjKSAyMDE1LXByZXNlbnQsIEZhY2Vib29rLCBJbmMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIGxpY2Vuc2UgZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBpblxuICogdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKi9cblxuY29uc3QgdXJsID0gcmVxdWlyZSgndXJsJyk7XG5jb25zdCByZXF1ZXN0ID0gcmVxdWlyZSgncmVxdWVzdCcpO1xuY29uc3QgTUFYX1JFUVVFU1RfTEVOR1RIID0gMWU2O1xuXG50eXBlIFJlc3BvbnNlQm9keSA9IHtib2R5OiBzdHJpbmc7IHJlc3BvbnNlOiBIdHRwUmVzcG9uc2V9O1xudHlwZSBRdWVyeVBhcmFtcyA9IHtba2V5OnN0cmluZ106IGFueX07XG50eXBlIFNlcmlhbGl6ZWRBcmd1bWVudHMgPSB7YXJnczogQXJyYXk8c3RyaW5nPjsgYXJnVHlwZXM6IEFycmF5PHN0cmluZz59O1xuXG4vKipcbiAqIFByb21pc2lmaWVkIHZlcnNpb24gb2YgdGhlIHJlcXVlc3QgZnVuY3Rpb246XG4gKiBodHRwczovL3d3dy5ucG1qcy5jb20vcGFja2FnZS9yZXF1ZXN0I3JlcXVlc3RvcHRpb25zLWNhbGxiYWNrXG4gKiBEZWZhdWx0cyB0byB1c2luZyB0aGUgbm9kZSdzIHF1ZXJ5c3RyaW5nIG1vZHVsZSB0byBlbmNvZGUgdGhlIHVybCBxdWVyeSBwYXJhbWV0ZXJzLlxuICogSWYgeW91IHdhbnQgdG8gdXNlIHRoZSBucG0ncyBxcyBtb2R1bGUgdG8gZW5jb2RlIHRoZSBxdWVyeSBwYXJhbWV0ZXJzLCBleHBsaWNpdGx5IHByb3ZpZGUgdGhlIG9wdGlvbjpcbiAqIHt1c2VRdWVyeXN0cmluZzogZmFsc2V9XG4gKi9cbmZ1bmN0aW9uIGFzeW5jUmVxdWVzdChvcHRpb25zOiBhbnkpOiBQcm9taXNlPFJlc3BvbnNlQm9keT4ge1xuICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgIGlmIChvcHRpb25zLnVzZVF1ZXJ5c3RyaW5nID09PSB1bmRlZmluZWQpIHtcbiAgICAgIG9wdGlvbnMudXNlUXVlcnlzdHJpbmcgPSB0cnVlO1xuICAgIH1cbiAgICByZXF1ZXN0KG9wdGlvbnMsIChlcnJvciwgcmVzcG9uc2UsIGJvZHkpID0+IHtcbiAgICAgIGlmIChlcnJvcikge1xuICAgICAgICByZWplY3QoZXJyb3IpO1xuICAgICAgfSBlbHNlIGlmIChyZXNwb25zZS5zdGF0dXNDb2RlIDwgMjAwIHx8IHJlc3BvbnNlLnN0YXR1c0NvZGUgPj0gMzAwKSB7XG4gICAgICAgIGxldCBlcnJvckpzb24gPSBib2R5O1xuICAgICAgICBpZiAodHlwZW9mIGJvZHkgIT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGVycm9ySnNvbiA9IEpTT04ucGFyc2UoYm9keSk7XG4gICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAvLyA0MDQgcmVzcG9uc2VzIGFyZW4ndCBjdXJyZW50bHkgSlNPTi5cbiAgICAgICAgICAgIGVycm9ySnNvbiA9IHttZXNzYWdlOiBib2R5fTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZXJyID0gbmV3IEVycm9yKGVycm9ySnNvbi5tZXNzYWdlKTtcbiAgICAgICAgLy8gU3VjY2VzcyBodHRwIHN0YXR1cyBjb2RlcyByYW5nZSBmcm9tIDIwMCB0byAyOTkuXG4gICAgICAgIGVyci5jb2RlID0gZXJyb3JKc29uLmNvZGUgfHwgcmVzcG9uc2Uuc3RhdHVzQ29kZTtcbiAgICAgICAgcmVqZWN0KGVycik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXNvbHZlKHtib2R5LCByZXNwb25zZX0pO1xuICAgICAgfVxuICAgIH0pO1xuICB9KTtcbn1cblxuLyoqXG4gKiBXcml0ZSBhIHRleHQgb3IgY29udmVydCB0byB0ZXh0IHJlc3BvbnNlIHdpdGggYW4gb3B0aW9uYWwgc3RhdHVzIGNvZGUuXG4gKi9cbmZ1bmN0aW9uIHNlbmRUZXh0UmVzcG9uc2UocmVzcG9uc2U6IGh0dHAuU2VydmVyUmVzcG9uc2UsIHRleHQ6IGFueSwgc3RhdHVzQ29kZTogP251bWJlcik6IHZvaWQge1xuICBpZiAodHlwZW9mIHN0YXR1c0NvZGUgPT09ICdudW1iZXInKSB7XG4gICAgcmVzcG9uc2Uuc3RhdHVzQ29kZSA9IHN0YXR1c0NvZGU7XG4gIH1cbiAgcmVzcG9uc2Uud3JpdGUodGV4dCB8fCAnJyk7XG4gIHJlc3BvbnNlLmVuZCgpO1xufVxuXG4vKipcbiAqIFdyaXRlIGEganNvbiByZXNwb25zZSB0ZXh0IHdpdGggYW4gb3B0aW9uYWwgc3RhdHVzIGNvZGUuXG4gKi9cbmZ1bmN0aW9uIHNlbmRKc29uUmVzcG9uc2UocmVzcG9uc2U6IGh0dHAuU2VydmVyUmVzcG9uc2UsIGpzb246IGFueSwgc3RhdHVzQ29kZTogP251bWJlcik6IHZvaWQge1xuICByZXNwb25zZS5zZXRIZWFkZXIoJ0NvbnRlbnQtVHlwZScsICdhcHBsaWNhdGlvbi9qc29uJyk7XG4gIHNlbmRUZXh0UmVzcG9uc2UocmVzcG9uc2UsIEpTT04uc3RyaW5naWZ5KGpzb24pLCBzdGF0dXNDb2RlKTtcbn1cblxuLyoqXG4gICogUGFyc2VzIHRoZSByZXF1ZXN0IGJvZHkgaW4gYW4gYW55Yy9wcm9taXNlIHdheVxuICAqL1xuZnVuY3Rpb24gcGFyc2VSZXF1ZXN0Qm9keShodHRwUmVxdWVzdDogaHR0cC5JbmNvbWluZ01lc3NhZ2UsIGlzSnNvbjogP2Jvb2xlYW4pOiBQcm9taXNlPHN0cmluZz4ge1xuICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgIGxldCBib2R5ID0gJyc7XG4gICAgaHR0cFJlcXVlc3Qub24oJ2RhdGEnLCAoZGF0YSkgPT4ge1xuICAgICAgYm9keSArPSBkYXRhO1xuICAgICAgLy8gdG9vIG11Y2ggUE9TVCBkYXRhLCBraWxsIHRoZSBjb25uZWN0aW9uIVxuICAgICAgaWYgKGJvZHkubGVuZ3RoID4gTUFYX1JFUVVFU1RfTEVOR1RIKSB7XG4gICAgICAgIHJlamVjdChuZXcgRXJyb3IoJ2JvZHkgaXMgdG9vIGJpZycpKTtcbiAgICAgICAgaHR0cFJlcXVlc3QuY29ubmVjdGlvbi5kZXN0cm95KCk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgaHR0cFJlcXVlc3Qub24oJ2VuZCcsICgpID0+IHJlc29sdmUoaXNKc29uID8gSlNPTi5wYXJzZShib2R5KSA6IGJvZHkpKTtcbiAgfSk7XG59XG5cbi8qKlxuICogUGFyc2VzIHRoZSB1cmwgcGFyYW1ldGVycyA/YWJjPWVyZiZsb2w9NDMyY1xuICovXG5mdW5jdGlvbiBnZXRRdWVyeVBhcmFtZXRlcnMocmVxdWVzdFVybCk6IFF1ZXJ5UGFyYW1zIHtcbiAgY29uc3Qge3F1ZXJ5fSA9IHVybC5wYXJzZShyZXF1ZXN0VXJsLCB0cnVlKTtcbiAgcmV0dXJuIHF1ZXJ5O1xufVxuXG4vKipcbiAqIFNlcmlhbGl6ZXMgdGhlIG1ldGhvZCBhcmd1bWVudHMgdG8gYXJncyBhbmQgYXJnVHlwZXMgYXJyYXlzXG4gKiB0byBzZW5kIHRoZSBtZXRhZGF0YSBhYm91dCB0aGUgYXJndW1lbnQgdHlwZXMgd2l0aCB0aGUgZGF0YVxuICogdG8gaGVscCB0aGUgc2VydmVyIHVuZGVyc3RhbmQgYW5kIHBhcnNlIGl0LlxuICovXG5mdW5jdGlvbiBzZXJpYWxpemVBcmdzKGFyZ3M6IEFycmF5PGFueT4pOiBTZXJpYWxpemVkQXJndW1lbnRzIHtcbiAgY29uc3QgYXJnc09uSHR0cCA9IFtdO1xuICBjb25zdCBhcmdUeXBlcyA9IFtdO1xuICBhcmdzLmZvckVhY2goZnVuY3Rpb24oYXJnKSB7XG4gICAgLy8gSSBkbyB0aGlzIGJlY2F1c2UgbnVsbHMgYXJlIG5vcm1hbGx5IHNlbnQgYXMgZW1wdHkgc3RyaW5nc1xuICAgIGlmIChhcmcgPT09IHVuZGVmaW5lZCkge1xuICAgICAgYXJnc09uSHR0cC5wdXNoKCcnKTtcbiAgICAgIGFyZ1R5cGVzLnB1c2goJ3VuZGVmaW5lZCcpO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIGFyZyA9PT0gJ3N0cmluZycpIHtcbiAgICAgIGFyZ3NPbkh0dHAucHVzaChhcmcpO1xuICAgICAgYXJnVHlwZXMucHVzaCgnc3RyaW5nJyk7XG4gICAgfSBlbHNlIHsgLy8gb2JqZWN0LCBudW1iZXIsIGJvb2xlYW4gbnVsbFxuICAgICAgYXJnc09uSHR0cC5wdXNoKEpTT04uc3RyaW5naWZ5KGFyZykpO1xuICAgICAgYXJnVHlwZXMucHVzaCgnb2JqZWN0Jyk7XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIHtcbiAgICBhcmdzOiBhcmdzT25IdHRwLFxuICAgIGFyZ1R5cGVzLFxuICB9O1xufVxuXG4vKipcbiAqIERlc2VyaWFsaXplcyBhIHVybCB3aXRoIHF1ZXJ5IHBhcmFtZXRlcnM6IGFyZ3MsIGFyZ1R5cGVzIHRvIGFuIGFycmF5XG4gKiBvZiB0aGUgb3JpZ2luYWwgYXJndW1lbnRzIG9mIHRoZSBzYW1lIHR5cGVzIHRoZSBjbGllbnQgY2FsbGVkIHRoZSBmdW5jdGlvbiB3aXRoLlxuICovXG5mdW5jdGlvbiBkZXNlcmlhbGl6ZUFyZ3MocmVxdWVzdFVybDogc3RyaW5nKTogQXJyYXk8YW55PiB7XG4gIGxldCB7YXJncywgYXJnVHlwZXN9ID0gZ2V0UXVlcnlQYXJhbWV0ZXJzKHJlcXVlc3RVcmwpO1xuICBhcmdzID0gYXJncyB8fCBbXTtcbiAgYXJnVHlwZXMgPSBhcmdUeXBlcyB8fCBbXTtcbiAgY29uc3QgYXJnc0FycmF5ID0gQXJyYXkuaXNBcnJheShhcmdzKSA/IGFyZ3MgOiBbYXJnc107XG4gIGNvbnN0IGFyZ1R5cGVzQXJyYXkgPSBBcnJheS5pc0FycmF5KGFyZ1R5cGVzKSA/IGFyZ1R5cGVzIDogW2FyZ1R5cGVzXTtcbiAgcmV0dXJuIGFyZ3NBcnJheS5tYXAoZnVuY3Rpb24oYXJnLCBpKSB7XG4gICAgLy8gSSBkbyB0aGlzIGJlY2F1c2UgbnVsbHMgYXJlIG5vcm1hbGx5IHNlbnQgYXMgZW1wdHkgc3RyaW5ncy5cbiAgICBpZiAoYXJnVHlwZXNBcnJheVtpXSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfSBlbHNlIGlmIChhcmdUeXBlc0FycmF5W2ldID09PSAnc3RyaW5nJykge1xuICAgICAgcmV0dXJuIGFyZztcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gc29tZSBtZXRob2RzIGhhdmUgb3B0aW9ucyBvYmplY3QgYXJndW1lbnRzLlxuICAgICAgcmV0dXJuIEpTT04ucGFyc2UoYXJnKTtcbiAgICB9XG4gIH0pO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgYXN5bmNSZXF1ZXN0LFxuICBkZXNlcmlhbGl6ZUFyZ3MsXG4gIGdldFF1ZXJ5UGFyYW1ldGVycyxcbiAgcGFyc2VSZXF1ZXN0Qm9keSxcbiAgc2VuZEpzb25SZXNwb25zZSxcbiAgc2VuZFRleHRSZXNwb25zZSxcbiAgc2VyaWFsaXplQXJncyxcbn07XG4iXX0=",""],"l":{"10":1,"11":1,"12":1,"21":1,"22":0,"23":0,"24":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"36":0,"39":0,"41":0,"42":0,"44":0,"53":1,"54":0,"55":0,"57":0,"58":0,"64":1,"65":0,"66":0,"72":1,"73":0,"74":0,"75":0,"76":0,"78":0,"79":0,"80":0,"83":0,"84":0,"92":1,"93":0,"95":0,"97":0,"105":1,"106":0,"107":0,"108":0,"110":0,"111":0,"112":0,"113":0,"114":0,"115":0,"118":0,"119":0,"122":0,"132":1,"133":0,"135":0,"136":0,"138":0,"139":0,"140":0,"141":0,"142":0,"144":0,"145":0,"146":0,"147":0,"150":0,"155":1}},"/home/travis/build/npmtest/node-npmtest-nuclide-server/node_modules/nuclide-server/lib/service-manager.js":{"path":"/home/travis/build/npmtest/node-npmtest-nuclide-server/node_modules/nuclide-server/lib/service-manager.js","s":{"1":1,"2":1,"3":1,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":1,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":1,"24":0,"25":0,"26":0,"27":1,"28":0,"29":1,"30":0,"31":1},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0,0],"6":[0,0],"7":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0},"fnMap":{"1":{"name":"optionsToString","line":15,"loc":{"start":{"line":15,"column":0},"end":{"line":15,"column":34}}},"2":{"name":"(anonymous_2)","line":19,"loc":{"start":{"line":19,"column":29},"end":{"line":19,"column":45}}},"3":{"name":"(anonymous_3)","line":24,"loc":{"start":{"line":24,"column":26},"end":{"line":24,"column":41}}},"4":{"name":"getService","line":37,"loc":{"start":{"line":37,"column":0},"end":{"line":37,"column":72}}},"5":{"name":"createLocalService","line":47,"loc":{"start":{"line":47,"column":0},"end":{"line":47,"column":80}}},"6":{"name":"getRemoteEventName","line":53,"loc":{"start":{"line":53,"column":0},"end":{"line":53,"column":74}}},"7":{"name":"getLocalEventName","line":57,"loc":{"start":{"line":57,"column":0},"end":{"line":57,"column":57}}}},"statementMap":{"1":{"start":{"line":10,"column":0},"end":{"line":10,"column":52}},"2":{"start":{"line":13,"column":0},"end":{"line":13,"column":31}},"3":{"start":{"line":15,"column":0},"end":{"line":32,"column":1}},"4":{"start":{"line":16,"column":2},"end":{"line":31,"column":3}},"5":{"start":{"line":17,"column":4},"end":{"line":17,"column":14}},"6":{"start":{"line":18,"column":9},"end":{"line":31,"column":3}},"7":{"start":{"line":19,"column":4},"end":{"line":21,"column":24}},"8":{"start":{"line":20,"column":6},"end":{"line":20,"column":35}},"9":{"start":{"line":22,"column":9},"end":{"line":31,"column":3}},"10":{"start":{"line":23,"column":4},"end":{"line":23,"column":43}},"11":{"start":{"line":24,"column":4},"end":{"line":26,"column":24}},"12":{"start":{"line":25,"column":6},"end":{"line":25,"column":56}},"13":{"start":{"line":27,"column":9},"end":{"line":31,"column":3}},"14":{"start":{"line":28,"column":4},"end":{"line":28,"column":35}},"15":{"start":{"line":30,"column":4},"end":{"line":30,"column":48}},"16":{"start":{"line":37,"column":0},"end":{"line":45,"column":1}},"17":{"start":{"line":38,"column":2},"end":{"line":38,"column":57}},"18":{"start":{"line":39,"column":2},"end":{"line":43,"column":3}},"19":{"start":{"line":40,"column":4},"end":{"line":40,"column":52}},"20":{"start":{"line":41,"column":4},"end":{"line":41,"column":97}},"21":{"start":{"line":42,"column":4},"end":{"line":42,"column":45}},"22":{"start":{"line":44,"column":2},"end":{"line":44,"column":33}},"23":{"start":{"line":47,"column":0},"end":{"line":51,"column":1}},"24":{"start":{"line":48,"column":2},"end":{"line":48,"column":60}},"25":{"start":{"line":49,"column":2},"end":{"line":49,"column":65}},"26":{"start":{"line":50,"column":2},"end":{"line":50,"column":35}},"27":{"start":{"line":53,"column":0},"end":{"line":55,"column":1}},"28":{"start":{"line":54,"column":2},"end":{"line":54,"column":97}},"29":{"start":{"line":57,"column":0},"end":{"line":59,"column":1}},"30":{"start":{"line":58,"column":2},"end":{"line":58,"column":45}},"31":{"start":{"line":61,"column":0},"end":{"line":65,"column":2}}},"branchMap":{"1":{"line":16,"type":"if","locations":[{"start":{"line":16,"column":2},"end":{"line":16,"column":2}},{"start":{"line":16,"column":2},"end":{"line":16,"column":2}}]},"2":{"line":18,"type":"if","locations":[{"start":{"line":18,"column":9},"end":{"line":18,"column":9}},{"start":{"line":18,"column":9},"end":{"line":18,"column":9}}]},"3":{"line":22,"type":"if","locations":[{"start":{"line":22,"column":9},"end":{"line":22,"column":9}},{"start":{"line":22,"column":9},"end":{"line":22,"column":9}}]},"4":{"line":27,"type":"if","locations":[{"start":{"line":27,"column":9},"end":{"line":27,"column":9}},{"start":{"line":27,"column":9},"end":{"line":27,"column":9}}]},"5":{"line":27,"type":"binary-expr","locations":[{"start":{"line":27,"column":13},"end":{"line":27,"column":40}},{"start":{"line":27,"column":44},"end":{"line":27,"column":72}},{"start":{"line":27,"column":76},"end":{"line":27,"column":103}}]},"6":{"line":39,"type":"if","locations":[{"start":{"line":39,"column":2},"end":{"line":39,"column":2}},{"start":{"line":39,"column":2},"end":{"line":39,"column":2}}]},"7":{"line":49,"type":"binary-expr","locations":[{"start":{"line":49,"column":21},"end":{"line":49,"column":47}},{"start":{"line":49,"column":51},"end":{"line":49,"column":64}}]}},"code":["","/*"," * Copyright (c) 2015-present, Facebook, Inc."," * All rights reserved."," *"," * This source code is licensed under the license found in the LICENSE file in"," * the root directory of this source tree."," */","","var logger = require('nuclide-logging').getLogger();","","// A cache stores services in form of '$serviceName@$cwd' => $serviceObject.","var cachedServices = new Map();","","function optionsToString(options) {","  if (!options) {","    return '';","  } else if (options instanceof Array) {","    return '[' + options.map(function (item) {","      return optionsToString(item);","    }).join(', ') + ']';","  } else if (options instanceof Object) {","    var keys = Object.keys(options).sort();","    return '{' + keys.map(function (key) {","      return key + ': ' + optionsToString(options[key]);","    }).join(', ') + '}';","  } else if (typeof options === 'number' || typeof options === 'boolean' || typeof options === 'string') {","    return JSON.stringify(options);","  } else {","    throw Error('Can\\'t stringify %o', options);","  }","}","","/**"," * Create a new or retrieve a cached service instance by serviceName and service options."," */","function getService(serviceName, options, localImplementationClassPath) {","  var key = serviceName + '@' + optionsToString(options);","  if (!cachedServices.has(key)) {","    logger.debug('Create service instance: ' + key);","    var serviceInstance = createLocalService(serviceName, localImplementationClassPath, options);","    cachedServices.set(key, serviceInstance);","  }","  return cachedServices.get(key);","}","","function createLocalService(serviceName, localImplementationClassPath, options) {","  var serviceModule = require(localImplementationClassPath);","  var serviceClass = serviceModule[serviceName] || serviceModule;","  return new serviceClass(options);","}","","function getRemoteEventName(serviceName, eventMethodName, serviceOptions) {","  return getLocalEventName(serviceName, eventMethodName) + '@' + optionsToString(serviceOptions);","}","","function getLocalEventName(serviceName, eventMethodName) {","  return serviceName + '/' + eventMethodName;","}","","module.exports = {","  getService: getService,","  getRemoteEventName: getRemoteEventName,","  optionsToString: optionsToString","};","//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi92YXIvZm9sZGVycy94Zi9yc3BoNF9jNTczMTVyczU3eHhzZHNrcnhudjM2dDAvVC90bXBwZmw1Mm5wdWJsaXNoX3BhY2thZ2VzL25wbS9udWNsaWRlLXNlcnZlci9saWIvc2VydmljZS1tYW5hZ2VyLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLFdBQVcsQ0FBQzs7Ozs7Ozs7OztBQVdaLElBQU0sTUFBTSxHQUFHLE9BQU8sQ0FBQyxpQkFBaUIsQ0FBQyxDQUFDLFNBQVMsRUFBRSxDQUFDOzs7QUFHdEQsSUFBTSxjQUFnQyxHQUFHLElBQUksR0FBRyxFQUFFLENBQUM7O0FBRW5ELFNBQVMsZUFBZSxDQUFDLE9BQWEsRUFBVTtBQUM5QyxNQUFJLENBQUMsT0FBTyxFQUFFO0FBQ1osV0FBTyxFQUFFLENBQUM7R0FDWCxNQUFNLElBQUksT0FBTyxZQUFZLEtBQUssRUFBRTtBQUNuQyxXQUFPLEdBQUcsR0FBRyxPQUFPLENBQUMsR0FBRyxDQUFDLFVBQUEsSUFBSTthQUFJLGVBQWUsQ0FBQyxJQUFJLENBQUM7S0FBQSxDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxHQUFHLEdBQUcsQ0FBQztHQUMxRSxNQUFNLElBQUksT0FBTyxZQUFZLE1BQU0sRUFBRTtBQUNwQyxRQUFNLElBQUksR0FBRyxNQUFNLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDLElBQUksRUFBRSxDQUFDO0FBQ3pDLFdBQU8sR0FBRyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsVUFBQSxHQUFHO2FBQUksR0FBRyxHQUFHLElBQUksR0FBRyxlQUFlLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxDQUFDO0tBQUEsQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsR0FBRyxHQUFHLENBQUM7R0FDM0YsTUFBTSxJQUFJLE9BQU8sT0FBTyxLQUFLLFFBQVEsSUFBSSxPQUFPLE9BQU8sS0FBSyxTQUFTLElBQUksT0FBTyxPQUFPLEtBQUssUUFBUSxFQUFFO0FBQ3JHLFdBQU8sSUFBSSxDQUFDLFNBQVMsQ0FBQyxPQUFPLENBQUMsQ0FBQztHQUNoQyxNQUFNO0FBQ0wsVUFBTSxLQUFLLENBQUMscUJBQXFCLEVBQUUsT0FBTyxDQUFDLENBQUM7R0FDN0M7Q0FDRjs7Ozs7QUFLRCxTQUFTLFVBQVUsQ0FBQyxXQUFtQixFQUFFLE9BQVksRUFBRSw0QkFBb0MsRUFBTztBQUNoRyxNQUFNLEdBQUcsR0FBRyxXQUFXLEdBQUcsR0FBRyxHQUFHLGVBQWUsQ0FBQyxPQUFPLENBQUMsQ0FBQztBQUN6RCxNQUFJLENBQUMsY0FBYyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsRUFBRTtBQUM1QixVQUFNLENBQUMsS0FBSywrQkFBNkIsR0FBRyxDQUFHLENBQUM7QUFDaEQsUUFBTSxlQUFlLEdBQUcsa0JBQWtCLENBQUMsV0FBVyxFQUFFLDRCQUE0QixFQUFFLE9BQU8sQ0FBQyxDQUFDO0FBQy9GLGtCQUFjLENBQUMsR0FBRyxDQUFDLEdBQUcsRUFBRSxlQUFlLENBQUMsQ0FBQztHQUMxQztBQUNELFNBQU8sY0FBYyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQztDQUNoQzs7QUFFRCxTQUFTLGtCQUFrQixDQUFDLFdBQW1CLEVBQUUsNEJBQW9DLEVBQUUsT0FBWSxFQUFPO0FBQ3hHLE1BQU0sYUFBYSxHQUFHLE9BQU8sQ0FBQyw0QkFBNEIsQ0FBQyxDQUFDO0FBQzVELE1BQU0sWUFBWSxHQUFHLGFBQWEsQ0FBQyxXQUFXLENBQUMsSUFBSSxhQUFhLENBQUM7QUFDakUsU0FBTyxJQUFJLFlBQVksQ0FBQyxPQUFPLENBQUMsQ0FBQztDQUNsQzs7QUFFRCxTQUFTLGtCQUFrQixDQUFDLFdBQW1CLEVBQUUsZUFBdUIsRUFBRSxjQUFtQixFQUFVO0FBQ3JHLFNBQU8saUJBQWlCLENBQUMsV0FBVyxFQUFFLGVBQWUsQ0FBQyxHQUFHLEdBQUcsR0FBRyxlQUFlLENBQUMsY0FBYyxDQUFDLENBQUM7Q0FDaEc7O0FBRUQsU0FBUyxpQkFBaUIsQ0FBQyxXQUFtQixFQUFFLGVBQXVCLEVBQVU7QUFDL0UsU0FBTyxXQUFXLEdBQUcsR0FBRyxHQUFHLGVBQWUsQ0FBQztDQUM1Qzs7QUFFRCxNQUFNLENBQUMsT0FBTyxHQUFHO0FBQ2YsWUFBVSxFQUFWLFVBQVU7QUFDVixvQkFBa0IsRUFBbEIsa0JBQWtCO0FBQ2xCLGlCQUFlLEVBQWYsZUFBZTtDQUNoQixDQUFDIiwiZmlsZSI6Ii92YXIvZm9sZGVycy94Zi9yc3BoNF9jNTczMTVyczU3eHhzZHNrcnhudjM2dDAvVC90bXBwZmw1Mm5wdWJsaXNoX3BhY2thZ2VzL25wbS9udWNsaWRlLXNlcnZlci9saWIvc2VydmljZS1tYW5hZ2VyLmpzIiwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBiYWJlbCc7XG4vKiBAZmxvdyAqL1xuXG4vKlxuICogQ29weXJpZ2h0IChjKSAyMDE1LXByZXNlbnQsIEZhY2Vib29rLCBJbmMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIGxpY2Vuc2UgZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBpblxuICogdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKi9cblxuY29uc3QgbG9nZ2VyID0gcmVxdWlyZSgnbnVjbGlkZS1sb2dnaW5nJykuZ2V0TG9nZ2VyKCk7XG5cbi8vIEEgY2FjaGUgc3RvcmVzIHNlcnZpY2VzIGluIGZvcm0gb2YgJyRzZXJ2aWNlTmFtZUAkY3dkJyA9PiAkc2VydmljZU9iamVjdC5cbmNvbnN0IGNhY2hlZFNlcnZpY2VzOiBNYXA8c3RyaW5nLCBhbnk+ID0gbmV3IE1hcCgpO1xuXG5mdW5jdGlvbiBvcHRpb25zVG9TdHJpbmcob3B0aW9uczogP2FueSk6IHN0cmluZyB7XG4gIGlmICghb3B0aW9ucykge1xuICAgIHJldHVybiAnJztcbiAgfSBlbHNlIGlmIChvcHRpb25zIGluc3RhbmNlb2YgQXJyYXkpIHtcbiAgICByZXR1cm4gJ1snICsgb3B0aW9ucy5tYXAoaXRlbSA9PiBvcHRpb25zVG9TdHJpbmcoaXRlbSkpLmpvaW4oJywgJykgKyAnXSc7XG4gIH0gZWxzZSBpZiAob3B0aW9ucyBpbnN0YW5jZW9mIE9iamVjdCkge1xuICAgIGNvbnN0IGtleXMgPSBPYmplY3Qua2V5cyhvcHRpb25zKS5zb3J0KCk7XG4gICAgcmV0dXJuICd7JyArIGtleXMubWFwKGtleSA9PiBrZXkgKyAnOiAnICsgb3B0aW9uc1RvU3RyaW5nKG9wdGlvbnNba2V5XSkpLmpvaW4oJywgJykgKyAnfSc7XG4gIH0gZWxzZSBpZiAodHlwZW9mIG9wdGlvbnMgPT09ICdudW1iZXInIHx8IHR5cGVvZiBvcHRpb25zID09PSAnYm9vbGVhbicgfHwgdHlwZW9mIG9wdGlvbnMgPT09ICdzdHJpbmcnKSB7XG4gICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KG9wdGlvbnMpO1xuICB9IGVsc2Uge1xuICAgIHRocm93IEVycm9yKCdDYW5cXCd0IHN0cmluZ2lmeSAlbycsIG9wdGlvbnMpO1xuICB9XG59XG5cbi8qKlxuICogQ3JlYXRlIGEgbmV3IG9yIHJldHJpZXZlIGEgY2FjaGVkIHNlcnZpY2UgaW5zdGFuY2UgYnkgc2VydmljZU5hbWUgYW5kIHNlcnZpY2Ugb3B0aW9ucy5cbiAqL1xuZnVuY3Rpb24gZ2V0U2VydmljZShzZXJ2aWNlTmFtZTogc3RyaW5nLCBvcHRpb25zOiBhbnksIGxvY2FsSW1wbGVtZW50YXRpb25DbGFzc1BhdGg6IHN0cmluZyk6IGFueSB7XG4gIGNvbnN0IGtleSA9IHNlcnZpY2VOYW1lICsgJ0AnICsgb3B0aW9uc1RvU3RyaW5nKG9wdGlvbnMpO1xuICBpZiAoIWNhY2hlZFNlcnZpY2VzLmhhcyhrZXkpKSB7XG4gICAgbG9nZ2VyLmRlYnVnKGBDcmVhdGUgc2VydmljZSBpbnN0YW5jZTogJHtrZXl9YCk7XG4gICAgY29uc3Qgc2VydmljZUluc3RhbmNlID0gY3JlYXRlTG9jYWxTZXJ2aWNlKHNlcnZpY2VOYW1lLCBsb2NhbEltcGxlbWVudGF0aW9uQ2xhc3NQYXRoLCBvcHRpb25zKTtcbiAgICBjYWNoZWRTZXJ2aWNlcy5zZXQoa2V5LCBzZXJ2aWNlSW5zdGFuY2UpO1xuICB9XG4gIHJldHVybiBjYWNoZWRTZXJ2aWNlcy5nZXQoa2V5KTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlTG9jYWxTZXJ2aWNlKHNlcnZpY2VOYW1lOiBzdHJpbmcsIGxvY2FsSW1wbGVtZW50YXRpb25DbGFzc1BhdGg6IHN0cmluZywgb3B0aW9uczogYW55KTogYW55IHtcbiAgY29uc3Qgc2VydmljZU1vZHVsZSA9IHJlcXVpcmUobG9jYWxJbXBsZW1lbnRhdGlvbkNsYXNzUGF0aCk7XG4gIGNvbnN0IHNlcnZpY2VDbGFzcyA9IHNlcnZpY2VNb2R1bGVbc2VydmljZU5hbWVdIHx8IHNlcnZpY2VNb2R1bGU7XG4gIHJldHVybiBuZXcgc2VydmljZUNsYXNzKG9wdGlvbnMpO1xufVxuXG5mdW5jdGlvbiBnZXRSZW1vdGVFdmVudE5hbWUoc2VydmljZU5hbWU6IHN0cmluZywgZXZlbnRNZXRob2ROYW1lOiBzdHJpbmcsIHNlcnZpY2VPcHRpb25zOiBhbnkpOiBzdHJpbmcge1xuICByZXR1cm4gZ2V0TG9jYWxFdmVudE5hbWUoc2VydmljZU5hbWUsIGV2ZW50TWV0aG9kTmFtZSkgKyAnQCcgKyBvcHRpb25zVG9TdHJpbmcoc2VydmljZU9wdGlvbnMpO1xufVxuXG5mdW5jdGlvbiBnZXRMb2NhbEV2ZW50TmFtZShzZXJ2aWNlTmFtZTogc3RyaW5nLCBldmVudE1ldGhvZE5hbWU6IHN0cmluZyk6IHN0cmluZyB7XG4gIHJldHVybiBzZXJ2aWNlTmFtZSArICcvJyArIGV2ZW50TWV0aG9kTmFtZTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIGdldFNlcnZpY2UsXG4gIGdldFJlbW90ZUV2ZW50TmFtZSxcbiAgb3B0aW9uc1RvU3RyaW5nLFxufTtcbiJdfQ==",""],"l":{"10":1,"13":1,"15":1,"16":0,"17":0,"18":0,"19":0,"20":0,"22":0,"23":0,"24":0,"25":0,"27":0,"28":0,"30":0,"37":1,"38":0,"39":0,"40":0,"41":0,"42":0,"44":0,"47":1,"48":0,"49":0,"50":0,"53":1,"54":0,"57":1,"58":0,"61":1}},"/home/travis/build/npmtest/node-npmtest-nuclide-server/node_modules/nuclide-server/lib/services/NuclideSearchService.js":{"path":"/home/travis/build/npmtest/node-npmtest-nuclide-server/node_modules/nuclide-server/lib/services/NuclideSearchService.js","s":{"1":1,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":1,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":1,"25":0,"26":0,"27":0,"28":0,"29":0,"30":1,"31":3,"32":0,"33":0,"34":0,"35":0,"36":1,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":1,"47":1,"48":1,"49":1,"50":1,"51":1,"52":1,"53":1,"54":0,"55":0,"56":0,"57":0,"58":1,"59":0,"60":1,"61":1,"62":0,"63":0,"64":0,"65":0,"66":1},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":3,"7":0,"8":0,"9":0,"10":0,"11":0,"12":1,"13":0},"fnMap":{"1":{"name":"(anonymous_1)","line":12,"loc":{"start":{"line":12,"column":42},"end":{"line":12,"column":74}}},"2":{"name":"(anonymous_2)","line":34,"loc":{"start":{"line":34,"column":43},"end":{"line":34,"column":59}}},"3":{"name":"(anonymous_3)","line":35,"loc":{"start":{"line":35,"column":44},"end":{"line":35,"column":69}}},"4":{"name":"(anonymous_4)","line":47,"loc":{"start":{"line":47,"column":24},"end":{"line":47,"column":44}}},"5":{"name":"(anonymous_5)","line":52,"loc":{"start":{"line":52,"column":38},"end":{"line":52,"column":71}}},"6":{"name":"_asyncToGenerator","line":61,"loc":{"start":{"line":61,"column":0},"end":{"line":61,"column":31}}},"7":{"name":"(anonymous_7)","line":61,"loc":{"start":{"line":61,"column":40},"end":{"line":61,"column":52}}},"8":{"name":"(anonymous_8)","line":61,"loc":{"start":{"line":61,"column":110},"end":{"line":61,"column":137}}},"9":{"name":"step","line":61,"loc":{"start":{"line":61,"column":221},"end":{"line":61,"column":245}}},"10":{"name":"addProvider","line":83,"loc":{"start":{"line":83,"column":0},"end":{"line":83,"column":37}}},"11":{"name":"clearProviders","line":91,"loc":{"start":{"line":91,"column":0},"end":{"line":91,"column":26}}},"12":{"name":"initialize","line":95,"loc":{"start":{"line":95,"column":0},"end":{"line":95,"column":28}}},"13":{"name":"shutdown","line":97,"loc":{"start":{"line":97,"column":0},"end":{"line":97,"column":26}}}},"statementMap":{"1":{"start":{"line":12,"column":0},"end":{"line":32,"column":3}},"2":{"start":{"line":13,"column":2},"end":{"line":13,"column":43}},"3":{"start":{"line":14,"column":2},"end":{"line":29,"column":3}},"4":{"start":{"line":15,"column":4},"end":{"line":15,"column":55}},"5":{"start":{"line":17,"column":4},"end":{"line":17,"column":51}},"6":{"start":{"line":18,"column":4},"end":{"line":20,"column":5}},"7":{"start":{"line":19,"column":6},"end":{"line":19,"column":75}},"8":{"start":{"line":22,"column":4},"end":{"line":22,"column":47}},"9":{"start":{"line":23,"column":4},"end":{"line":25,"column":5}},"10":{"start":{"line":24,"column":6},"end":{"line":24,"column":73}},"11":{"start":{"line":27,"column":4},"end":{"line":27,"column":56}},"12":{"start":{"line":28,"column":4},"end":{"line":28,"column":41}},"13":{"start":{"line":31,"column":2},"end":{"line":31,"column":35}},"14":{"start":{"line":34,"column":0},"end":{"line":50,"column":3}},"15":{"start":{"line":35,"column":2},"end":{"line":38,"column":5}},"16":{"start":{"line":36,"column":4},"end":{"line":36,"column":69}},"17":{"start":{"line":37,"column":4},"end":{"line":37,"column":55}},"18":{"start":{"line":40,"column":2},"end":{"line":40,"column":25}},"19":{"start":{"line":42,"column":2},"end":{"line":44,"column":3}},"20":{"start":{"line":43,"column":4},"end":{"line":43,"column":49}},"21":{"start":{"line":46,"column":2},"end":{"line":46,"column":49}},"22":{"start":{"line":47,"column":2},"end":{"line":49,"column":5}},"23":{"start":{"line":48,"column":4},"end":{"line":48,"column":22}},"24":{"start":{"line":52,"column":0},"end":{"line":59,"column":3}},"25":{"start":{"line":53,"column":2},"end":{"line":53,"column":44}},"26":{"start":{"line":54,"column":2},"end":{"line":56,"column":3}},"27":{"start":{"line":55,"column":4},"end":{"line":55,"column":53}},"28":{"start":{"line":57,"column":2},"end":{"line":57,"column":56}},"29":{"start":{"line":58,"column":2},"end":{"line":58,"column":30}},"30":{"start":{"line":61,"column":0},"end":{"line":61,"column":462}},"31":{"start":{"line":61,"column":33},"end":{"line":61,"column":460}},"32":{"start":{"line":61,"column":54},"end":{"line":61,"column":90}},"33":{"start":{"line":61,"column":91},"end":{"line":61,"column":457}},"34":{"start":{"line":61,"column":139},"end":{"line":61,"column":178}},"35":{"start":{"line":61,"column":179},"end":{"line":61,"column":220}},"36":{"start":{"line":61,"column":221},"end":{"line":61,"column":441}},"37":{"start":{"line":61,"column":247},"end":{"line":61,"column":345}},"38":{"start":{"line":61,"column":253},"end":{"line":61,"column":278}},"39":{"start":{"line":61,"column":279},"end":{"line":61,"column":302}},"40":{"start":{"line":61,"column":321},"end":{"line":61,"column":335}},"41":{"start":{"line":61,"column":336},"end":{"line":61,"column":343}},"42":{"start":{"line":61,"column":346},"end":{"line":61,"column":439}},"43":{"start":{"line":61,"column":363},"end":{"line":61,"column":378}},"44":{"start":{"line":61,"column":388},"end":{"line":61,"column":437}},"45":{"start":{"line":61,"column":442},"end":{"line":61,"column":453}},"46":{"start":{"line":63,"column":0},"end":{"line":63,"column":42}},"47":{"start":{"line":65,"column":0},"end":{"line":65,"column":35}},"48":{"start":{"line":67,"column":0},"end":{"line":67,"column":47}},"49":{"start":{"line":69,"column":0},"end":{"line":69,"column":62}},"50":{"start":{"line":71,"column":0},"end":{"line":71,"column":46}},"51":{"start":{"line":73,"column":0},"end":{"line":73,"column":26}},"52":{"start":{"line":81,"column":0},"end":{"line":81,"column":40}},"53":{"start":{"line":83,"column":0},"end":{"line":89,"column":1}},"54":{"start":{"line":84,"column":2},"end":{"line":84,"column":30}},"55":{"start":{"line":85,"column":2},"end":{"line":87,"column":3}},"56":{"start":{"line":86,"column":4},"end":{"line":86,"column":69}},"57":{"start":{"line":88,"column":2},"end":{"line":88,"column":29}},"58":{"start":{"line":91,"column":0},"end":{"line":93,"column":1}},"59":{"start":{"line":92,"column":2},"end":{"line":92,"column":24}},"60":{"start":{"line":95,"column":0},"end":{"line":95,"column":30}},"61":{"start":{"line":97,"column":0},"end":{"line":103,"column":1}},"62":{"start":{"line":98,"column":2},"end":{"line":98,"column":19}},"63":{"start":{"line":99,"column":2},"end":{"line":101,"column":3}},"64":{"start":{"line":100,"column":4},"end":{"line":100,"column":31}},"65":{"start":{"line":102,"column":2},"end":{"line":102,"column":38}},"66":{"start":{"line":105,"column":0},"end":{"line":115,"column":2}}},"branchMap":{"1":{"line":14,"type":"if","locations":[{"start":{"line":14,"column":2},"end":{"line":14,"column":2}},{"start":{"line":14,"column":2},"end":{"line":14,"column":2}}]},"2":{"line":18,"type":"if","locations":[{"start":{"line":18,"column":4},"end":{"line":18,"column":4}},{"start":{"line":18,"column":4},"end":{"line":18,"column":4}}]},"3":{"line":23,"type":"if","locations":[{"start":{"line":23,"column":4},"end":{"line":23,"column":4}},{"start":{"line":23,"column":4},"end":{"line":23,"column":4}}]},"4":{"line":37,"type":"cond-expr","locations":[{"start":{"line":37,"column":25},"end":{"line":37,"column":47}},{"start":{"line":37,"column":50},"end":{"line":37,"column":54}}]},"5":{"line":54,"type":"if","locations":[{"start":{"line":54,"column":2},"end":{"line":54,"column":2}},{"start":{"line":54,"column":2},"end":{"line":54,"column":2}}]},"6":{"line":61,"type":"if","locations":[{"start":{"line":61,"column":346},"end":{"line":61,"column":346}},{"start":{"line":61,"column":346},"end":{"line":61,"column":346}}]},"7":{"line":84,"type":"binary-expr","locations":[{"start":{"line":84,"column":14},"end":{"line":84,"column":23}},{"start":{"line":84,"column":27},"end":{"line":84,"column":29}}]},"8":{"line":85,"type":"if","locations":[{"start":{"line":85,"column":2},"end":{"line":85,"column":2}},{"start":{"line":85,"column":2},"end":{"line":85,"column":2}}]}},"code":["","/*"," * Copyright (c) 2015-present, Facebook, Inc."," * All rights reserved."," *"," * This source code is licensed under the license found in the LICENSE file in"," * the root directory of this source tree."," */","","// TODO (mikeo): Make this another search provider","","var doSearchDirectory = _asyncToGenerator(function* (directoryUri, query) {","  var search = fileSearchers[directoryUri];","  if (search === undefined) {","    var directory = remoteUri.parse(directoryUri).path;","","    var exists = yield fsPromise.exists(directory);","    if (!exists) {","      throw new Error('Could not find directory to search : ' + directory);","    }","","    var stat = yield fsPromise.stat(directory);","    if (!stat.isDirectory()) {","      throw new Error('Provided path is not a directory : ' + directory);","    }","","    search = yield fileSearchForDirectory(directoryUri);","    fileSearchers[directoryUri] = search;","  }","","  return yield search.query(query);","});","","var getSearchProviders = _asyncToGenerator(function* (cwd) {","  var checkAvailability = _asyncToGenerator(function* (providerName) {","    var isAvailable = yield providers[providerName].isAvailable(cwd);","    return isAvailable ? { name: providerName } : null;","  });","","  var validPromises = [];","","  for (var _name in providers) {","    validPromises.push(checkAvailability(_name));","  }","","  var results = yield Promise.all(validPromises);","  return results.filter(function (provider) {","    return !!provider;","  });","});","","var doSearchQuery = _asyncToGenerator(function* (cwd, provider, query) {","  var currentProvider = providers[provider];","  if (!currentProvider) {","    throw new Error('Invalid provider: ' + provider);","  }","  var results = yield currentProvider.query(cwd, query);","  return { results: results };","});","","function _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { var callNext = step.bind(null, 'next'); var callThrow = step.bind(null, 'throw'); function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(callNext, callThrow); } } callNext(); }); }; }","","var _require = require('nuclide-commons');","","var fsPromise = _require.fsPromise;","","var _require2 = require('nuclide-path-search');","","var fileSearchForDirectory = _require2.fileSearchForDirectory;","","var remoteUri = require('nuclide-remote-uri');","","var providers = undefined;","","/*"," * TODO(williamsc): This needs to have some better"," *                  managment tools (Adding/removing query sets)."," */","","// Cache of previously indexed folders for later use.","var fileSearchers = Object.create(null);","","function addProvider(name, provider) {","  providers = providers || {};","  if (providers[name]) {","    throw new Error(name + ' has already been added as a provider.');","  }","  providers[name] = provider;","}","","function clearProviders() {","  providers = undefined;","}","","function initialize(server) {}","","function shutdown(server) {","  clearProviders();","  for (var k in fileSearchers) {","    fileSearchers[k].dispose();","  }","  fileSearchers = Object.create(null);","}","","module.exports = {","  initialize: initialize,","  shutdown: shutdown,","  addProvider: addProvider,","  clearProviders: clearProviders,","  services: {","    '/search/query': { handler: doSearchQuery, method: 'post' },","    '/search/listProviders': { handler: getSearchProviders, method: 'post' },","    '/search/directory': { handler: doSearchDirectory }","  }","};","//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi92YXIvZm9sZGVycy94Zi9yc3BoNF9jNTczMTVyczU3eHhzZHNrcnhudjM2dDAvVC90bXBwZmw1Mm5wdWJsaXNoX3BhY2thZ2VzL25wbS9udWNsaWRlLXNlcnZlci9saWIvc2VydmljZXMvTnVjbGlkZVNlYXJjaFNlcnZpY2UuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsV0FBVyxDQUFDOzs7Ozs7Ozs7Ozs7SUFrREcsaUJBQWlCLHFCQUFoQyxXQUFpQyxZQUFvQixFQUFFLEtBQWEsRUFBb0M7QUFDdEcsTUFBSSxNQUFNLEdBQUcsYUFBYSxDQUFDLFlBQVksQ0FBQyxDQUFDO0FBQ3pDLE1BQUksTUFBTSxLQUFLLFNBQVMsRUFBRTtBQUN4QixRQUFNLFNBQVMsR0FBRyxTQUFTLENBQUMsS0FBSyxDQUFDLFlBQVksQ0FBQyxDQUFDLElBQUksQ0FBQzs7QUFFckQsUUFBTSxNQUFNLEdBQUcsTUFBTSxTQUFTLENBQUMsTUFBTSxDQUFDLFNBQVMsQ0FBQyxDQUFDO0FBQ2pELFFBQUksQ0FBQyxNQUFNLEVBQUU7QUFDWCxZQUFNLElBQUksS0FBSyxDQUFDLHVDQUF1QyxHQUFHLFNBQVMsQ0FBQyxDQUFDO0tBQ3RFOztBQUVELFFBQU0sSUFBSSxHQUFHLE1BQU0sU0FBUyxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQztBQUM3QyxRQUFJLENBQUMsSUFBSSxDQUFDLFdBQVcsRUFBRSxFQUFFO0FBQ3ZCLFlBQU0sSUFBSSxLQUFLLENBQUMscUNBQXFDLEdBQUcsU0FBUyxDQUFDLENBQUM7S0FDcEU7O0FBRUQsVUFBTSxHQUFHLE1BQU0sc0JBQXNCLENBQUMsWUFBWSxDQUFDLENBQUM7QUFDcEQsaUJBQWEsQ0FBQyxZQUFZLENBQUMsR0FBRyxNQUFNLENBQUM7R0FDdEM7O0FBRUQsU0FBTyxNQUFNLE1BQU0sQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDLENBQUM7Q0FDbEM7O0lBRWMsa0JBQWtCLHFCQUFqQyxXQUFrQyxHQUFXLEVBQWdDO01BRzVE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IiwiZmlsZSI6Ii92YXIvZm9sZGVycy94Zi9yc3BoNF9jNTczMTVyczU3eHhzZHNrcnhudjM2dDAvVC90bXBwZmw1Mm5wdWJsaXNoX3BhY2thZ2VzL25wbS9udWNsaWRlLXNlcnZlci9saWIvc2VydmljZXMvTnVjbGlkZVNlYXJjaFNlcnZpY2UuanMiLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIGJhYmVsJztcbi8qIEBmbG93ICovXG5cbi8qXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTUtcHJlc2VudCwgRmFjZWJvb2ssIEluYy5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgbGljZW5zZSBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGluXG4gKiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqL1xuXG50eXBlIFNlYXJjaFF1ZXJ5ID0ge1xuICBwcm92aWRlcjogc3RyaW5nO1xuICBxdWVyeTogc3RyaW5nO1xufVxuXG50eXBlIFByb3ZpZGVySW5mbyA9IHtcbiAgbmFtZTogc3RyaW5nO1xufVxuXG50eXBlIFNlYXJjaFF1ZXJ5UmVzdWx0ID0ge1xuICBsaW5lOiBudW1iZXI7XG4gIGNvbHVtbjogbnVtYmVyO1xuICBuYW1lOiBzdHJpbmc7XG4gIHBhdGg6IHN0cmluZztcbiAgbGVuZ3RoOiBudW1iZXI7XG4gIHNjb3BlOiBzdHJpbmc7XG4gIGFkZGl0aW9uYWxJbmZvOiBzdHJpbmc7XG4gIGFjdGlvbjogc3RyaW5nO1xufVxuXG50eXBlIFNlYXJjaFJlc3BvbnNlID0ge1xuICByZXN1bHRzOiBBcnJheTxTZWFyY2hRdWVyeVJlc3VsdD47XG59XG5cbmNvbnN0IHtmc1Byb21pc2V9ID0gcmVxdWlyZSgnbnVjbGlkZS1jb21tb25zJyk7XG5jb25zdCB7ZmlsZVNlYXJjaEZvckRpcmVjdG9yeX0gPSByZXF1aXJlKCdudWNsaWRlLXBhdGgtc2VhcmNoJyk7XG5jb25zdCByZW1vdGVVcmkgPSByZXF1aXJlKCdudWNsaWRlLXJlbW90ZS11cmknKTtcblxubGV0IHByb3ZpZGVycztcblxuLypcbiAqIFRPRE8od2lsbGlhbXNjKTogVGhpcyBuZWVkcyB0byBoYXZlIHNvbWUgYmV0dGVyXG4gKiAgICAgICAgICAgICAgICAgIG1hbmFnbWVudCB0b29scyAoQWRkaW5nL3JlbW92aW5nIHF1ZXJ5IHNldHMpLlxuICovXG5cbi8vIENhY2hlIG9mIHByZXZpb3VzbHkgaW5kZXhlZCBmb2xkZXJzIGZvciBsYXRlciB1c2UuXG5sZXQgZmlsZVNlYXJjaGVyczogYW55ID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcblxuLy8gVE9ETyAobWlrZW8pOiBNYWtlIHRoaXMgYW5vdGhlciBzZWFyY2ggcHJvdmlkZXJcbmFzeW5jIGZ1bmN0aW9uIGRvU2VhcmNoRGlyZWN0b3J5KGRpcmVjdG9yeVVyaTogc3RyaW5nLCBxdWVyeTogc3RyaW5nKTogUHJvbWlzZTxBcnJheTxGaWxlU2VhcmNoUmVzdWx0Pj4ge1xuICBsZXQgc2VhcmNoID0gZmlsZVNlYXJjaGVyc1tkaXJlY3RvcnlVcmldO1xuICBpZiAoc2VhcmNoID09PSB1bmRlZmluZWQpIHtcbiAgICBjb25zdCBkaXJlY3RvcnkgPSByZW1vdGVVcmkucGFyc2UoZGlyZWN0b3J5VXJpKS5wYXRoO1xuXG4gICAgY29uc3QgZXhpc3RzID0gYXdhaXQgZnNQcm9taXNlLmV4aXN0cyhkaXJlY3RvcnkpO1xuICAgIGlmICghZXhpc3RzKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0NvdWxkIG5vdCBmaW5kIGRpcmVjdG9yeSB0byBzZWFyY2ggOiAnICsgZGlyZWN0b3J5KTtcbiAgICB9XG5cbiAgICBjb25zdCBzdGF0ID0gYXdhaXQgZnNQcm9taXNlLnN0YXQoZGlyZWN0b3J5KTtcbiAgICBpZiAoIXN0YXQuaXNEaXJlY3RvcnkoKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdQcm92aWRlZCBwYXRoIGlzIG5vdCBhIGRpcmVjdG9yeSA6ICcgKyBkaXJlY3RvcnkpO1xuICAgIH1cblxuICAgIHNlYXJjaCA9IGF3YWl0IGZpbGVTZWFyY2hGb3JEaXJlY3RvcnkoZGlyZWN0b3J5VXJpKTtcbiAgICBmaWxlU2VhcmNoZXJzW2RpcmVjdG9yeVVyaV0gPSBzZWFyY2g7XG4gIH1cblxuICByZXR1cm4gYXdhaXQgc2VhcmNoLnF1ZXJ5KHF1ZXJ5KTtcbn1cblxuYXN5bmMgZnVuY3Rpb24gZ2V0U2VhcmNoUHJvdmlkZXJzKGN3ZDogc3RyaW5nKTogUHJvbWlzZTxBcnJheTxQcm92aWRlckluZm8+PiB7XG4gIGNvbnN0IHZhbGlkUHJvbWlzZXMgPSBbXTtcblxuICBhc3luYyBmdW5jdGlvbiBjaGVja0F2YWlsYWJpbGl0eShwcm92aWRlck5hbWUpIHtcbiAgICBjb25zdCBpc0F2YWlsYWJsZSA9IGF3YWl0IHByb3ZpZGVyc1twcm92aWRlck5hbWVdLmlzQXZhaWxhYmxlKGN3ZCk7XG4gICAgcmV0dXJuIGlzQXZhaWxhYmxlID8ge25hbWU6IHByb3ZpZGVyTmFtZX0gOiBudWxsO1xuICB9XG5cbiAgZm9yIChjb25zdCBuYW1lIGluIHByb3ZpZGVycykge1xuICAgIHZhbGlkUHJvbWlzZXMucHVzaChjaGVja0F2YWlsYWJpbGl0eShuYW1lKSk7XG4gIH1cblxuICBjb25zdCByZXN1bHRzID0gYXdhaXQgUHJvbWlzZS5hbGwodmFsaWRQcm9taXNlcyk7XG4gIHJldHVybiByZXN1bHRzLmZpbHRlcigocHJvdmlkZXIpID0+ICEhcHJvdmlkZXIpO1xufVxuXG5hc3luYyBmdW5jdGlvbiBkb1NlYXJjaFF1ZXJ5KGN3ZDogc3RyaW5nLCBwcm92aWRlcjogc3RyaW5nLCBxdWVyeTogc3RyaW5nKTogUHJvbWlzZTxTZWFyY2hSZXNwb25zZT4ge1xuICBjb25zdCBjdXJyZW50UHJvdmlkZXIgPSBwcm92aWRlcnNbcHJvdmlkZXJdO1xuICBpZiAoIWN1cnJlbnRQcm92aWRlcikge1xuICAgIHRocm93IG5ldyBFcnJvcihgSW52YWxpZCBwcm92aWRlcjogJHtwcm92aWRlcn1gKTtcbiAgfVxuICBjb25zdCByZXN1bHRzID0gYXdhaXQgY3VycmVudFByb3ZpZGVyLnF1ZXJ5KGN3ZCwgcXVlcnkpO1xuICByZXR1cm4ge3Jlc3VsdHN9O1xufVxuXG5mdW5jdGlvbiBhZGRQcm92aWRlcihuYW1lOiBzdHJpbmcsIHByb3ZpZGVyKSB7XG4gIHByb3ZpZGVycyA9IHByb3ZpZGVycyB8fCB7fTtcbiAgaWYgKHByb3ZpZGVyc1tuYW1lXSkge1xuICAgIHRocm93IG5ldyBFcnJvcihgJHtuYW1lfSBoYXMgYWxyZWFkeSBiZWVuIGFkZGVkIGFzIGEgcHJvdmlkZXIuYCk7XG4gIH1cbiAgcHJvdmlkZXJzW25hbWVdID0gcHJvdmlkZXI7XG59XG5cbmZ1bmN0aW9uIGNsZWFyUHJvdmlkZXJzKCkge1xuICBwcm92aWRlcnMgPSB1bmRlZmluZWQ7XG59XG5cbmZ1bmN0aW9uIGluaXRpYWxpemUoc2VydmVyKSB7XG59XG5cbmZ1bmN0aW9uIHNodXRkb3duKHNlcnZlcikge1xuICBjbGVhclByb3ZpZGVycygpO1xuICBmb3IgKGNvbnN0IGsgaW4gZmlsZVNlYXJjaGVycykge1xuICAgIGZpbGVTZWFyY2hlcnNba10uZGlzcG9zZSgpO1xuICB9XG4gIGZpbGVTZWFyY2hlcnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgaW5pdGlhbGl6ZSxcbiAgc2h1dGRvd24sXG4gIGFkZFByb3ZpZGVyLFxuICBjbGVhclByb3ZpZGVycyxcbiAgc2VydmljZXM6IHtcbiAgICAnL3NlYXJjaC9xdWVyeSc6IHtoYW5kbGVyOiBkb1NlYXJjaFF1ZXJ5LCBtZXRob2Q6ICdwb3N0J30sXG4gICAgJy9zZWFyY2gvbGlzdFByb3ZpZGVycyc6IHtoYW5kbGVyOiBnZXRTZWFyY2hQcm92aWRlcnMsIG1ldGhvZDogJ3Bvc3QnfSxcbiAgICAnL3NlYXJjaC9kaXJlY3RvcnknOiB7aGFuZGxlcjogZG9TZWFyY2hEaXJlY3Rvcnl9LFxuICB9LFxufTtcbiJdfQ==",""],"l":{"12":1,"13":0,"14":0,"15":0,"17":0,"18":0,"19":0,"22":0,"23":0,"24":0,"27":0,"28":0,"31":0,"34":1,"35":0,"36":0,"37":0,"40":0,"42":0,"43":0,"46":0,"47":0,"48":0,"52":1,"53":0,"54":0,"55":0,"57":0,"58":0,"61":3,"63":1,"65":1,"67":1,"69":1,"71":1,"73":1,"81":1,"83":1,"84":0,"85":0,"86":0,"88":0,"91":1,"92":0,"95":1,"97":1,"98":0,"99":0,"100":0,"102":0,"105":1}},"/home/travis/build/npmtest/node-npmtest-nuclide-server/node_modules/nuclide-server/lib/services/FileSystemService.js":{"path":"/home/travis/build/npmtest/node-npmtest-nuclide-server/node_modules/nuclide-server/lib/services/FileSystemService.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":1,"15":1,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":1,"30":1,"31":1,"32":1,"33":1,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":1,"43":1,"44":1,"45":1,"46":1,"47":1,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":1,"64":1,"65":4,"66":0,"67":0,"68":0,"69":0,"70":1,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":1,"81":1,"82":1,"83":1,"84":1,"85":1,"86":1,"87":0,"88":1,"89":0,"90":1,"91":0,"92":1,"93":0,"94":1,"95":0,"96":1,"97":0,"98":1,"99":0,"100":1,"101":0,"102":0,"103":0,"104":0,"105":1,"106":0,"107":1,"108":0,"109":1,"110":0,"111":0,"112":0,"113":1,"114":0,"115":1,"116":0,"117":0,"118":0,"119":0,"120":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":4,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0},"fnMap":{"1":{"name":"(anonymous_1)","line":18,"loc":{"start":{"line":18,"column":32},"end":{"line":18,"column":53}}},"2":{"name":"(anonymous_2)","line":41,"loc":{"start":{"line":41,"column":32},"end":{"line":41,"column":49}}},"3":{"name":"(anonymous_3)","line":43,"loc":{"start":{"line":43,"column":62},"end":{"line":43,"column":79}}},"4":{"name":"(anonymous_4)","line":58,"loc":{"start":{"line":58,"column":24},"end":{"line":58,"column":41}}},"5":{"name":"(anonymous_5)","line":60,"loc":{"start":{"line":60,"column":9},"end":{"line":60,"column":26}}},"6":{"name":"(anonymous_6)","line":81,"loc":{"start":{"line":81,"column":29},"end":{"line":81,"column":69}}},"7":{"name":"(anonymous_7)","line":86,"loc":{"start":{"line":86,"column":20},"end":{"line":86,"column":47}}},"8":{"name":"(anonymous_8)","line":88,"loc":{"start":{"line":88,"column":45},"end":{"line":88,"column":62}}},"9":{"name":"(anonymous_9)","line":115,"loc":{"start":{"line":115,"column":34},"end":{"line":115,"column":66}}},"10":{"name":"_asyncToGenerator","line":153,"loc":{"start":{"line":153,"column":0},"end":{"line":153,"column":31}}},"11":{"name":"(anonymous_11)","line":153,"loc":{"start":{"line":153,"column":40},"end":{"line":153,"column":52}}},"12":{"name":"(anonymous_12)","line":153,"loc":{"start":{"line":153,"column":110},"end":{"line":153,"column":137}}},"13":{"name":"step","line":153,"loc":{"start":{"line":153,"column":221},"end":{"line":153,"column":245}}},"14":{"name":"exists","line":188,"loc":{"start":{"line":188,"column":0},"end":{"line":188,"column":22}}},"15":{"name":"findNearestFile","line":192,"loc":{"start":{"line":192,"column":0},"end":{"line":192,"column":52}}},"16":{"name":"lstat","line":201,"loc":{"start":{"line":201,"column":0},"end":{"line":201,"column":21}}},"17":{"name":"mkdir","line":211,"loc":{"start":{"line":211,"column":0},"end":{"line":211,"column":21}}},"18":{"name":"mkdirp","line":223,"loc":{"start":{"line":223,"column":0},"end":{"line":223,"column":22}}},"19":{"name":"realpath","line":227,"loc":{"start":{"line":227,"column":0},"end":{"line":227,"column":24}}},"20":{"name":"resolveRealPath","line":231,"loc":{"start":{"line":231,"column":0},"end":{"line":231,"column":31}}},"21":{"name":"rename","line":239,"loc":{"start":{"line":239,"column":0},"end":{"line":239,"column":45}}},"22":{"name":"(anonymous_22)","line":240,"loc":{"start":{"line":240,"column":21},"end":{"line":240,"column":48}}},"23":{"name":"(anonymous_23)","line":242,"loc":{"start":{"line":242,"column":45},"end":{"line":242,"column":62}}},"24":{"name":"rmdir","line":248,"loc":{"start":{"line":248,"column":0},"end":{"line":248,"column":21}}},"25":{"name":"stat","line":259,"loc":{"start":{"line":259,"column":0},"end":{"line":259,"column":20}}},"26":{"name":"unlink","line":267,"loc":{"start":{"line":267,"column":0},"end":{"line":267,"column":22}}},"27":{"name":"(anonymous_27)","line":268,"loc":{"start":{"line":268,"column":41},"end":{"line":268,"column":58}}},"28":{"name":"readFile","line":284,"loc":{"start":{"line":284,"column":0},"end":{"line":284,"column":33}}},"29":{"name":"mvPromise","line":289,"loc":{"start":{"line":289,"column":0},"end":{"line":289,"column":48}}},"30":{"name":"(anonymous_30)","line":290,"loc":{"start":{"line":290,"column":21},"end":{"line":290,"column":48}}},"31":{"name":"(anonymous_31)","line":291,"loc":{"start":{"line":291,"column":55},"end":{"line":291,"column":72}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":3,"column":3}},"2":{"start":{"line":4,"column":0},"end":{"line":4,"column":24}},"3":{"start":{"line":5,"column":0},"end":{"line":5,"column":42}},"4":{"start":{"line":6,"column":0},"end":{"line":6,"column":22}},"5":{"start":{"line":7,"column":0},"end":{"line":7,"column":22}},"6":{"start":{"line":8,"column":0},"end":{"line":8,"column":24}},"7":{"start":{"line":18,"column":0},"end":{"line":37,"column":2}},"8":{"start":{"line":19,"column":2},"end":{"line":19,"column":56}},"9":{"start":{"line":20,"column":2},"end":{"line":22,"column":3}},"10":{"start":{"line":21,"column":4},"end":{"line":21,"column":17}},"11":{"start":{"line":23,"column":2},"end":{"line":23,"column":53}},"12":{"start":{"line":24,"column":2},"end":{"line":24,"column":42}},"13":{"start":{"line":25,"column":2},"end":{"line":25,"column":14}},"14":{"start":{"line":39,"column":0},"end":{"line":39,"column":26}},"15":{"start":{"line":41,"column":0},"end":{"line":70,"column":2}},"16":{"start":{"line":42,"column":2},"end":{"line":42,"column":44}},"17":{"start":{"line":43,"column":2},"end":{"line":56,"column":7}},"18":{"start":{"line":44,"column":4},"end":{"line":44,"column":45}},"19":{"start":{"line":45,"column":4},"end":{"line":45,"column":49}},"20":{"start":{"line":46,"column":4},"end":{"line":55,"column":5}},"21":{"start":{"line":47,"column":6},"end":{"line":47,"column":66}},"22":{"start":{"line":49,"column":6},"end":{"line":54,"column":7}},"23":{"start":{"line":50,"column":8},"end":{"line":50,"column":51}},"24":{"start":{"line":51,"column":8},"end":{"line":51,"column":66}},"25":{"start":{"line":53,"column":8},"end":{"line":53,"column":84}},"26":{"start":{"line":58,"column":2},"end":{"line":62,"column":5}},"27":{"start":{"line":59,"column":4},"end":{"line":59,"column":37}},"28":{"start":{"line":61,"column":4},"end":{"line":61,"column":90}},"29":{"start":{"line":72,"column":0},"end":{"line":72,"column":26}},"30":{"start":{"line":73,"column":0},"end":{"line":73,"column":28}},"31":{"start":{"line":74,"column":0},"end":{"line":74,"column":42}},"32":{"start":{"line":75,"column":0},"end":{"line":75,"column":24}},"33":{"start":{"line":81,"column":0},"end":{"line":98,"column":2}},"34":{"start":{"line":82,"column":2},"end":{"line":82,"column":63}},"35":{"start":{"line":83,"column":2},"end":{"line":85,"column":3}},"36":{"start":{"line":84,"column":4},"end":{"line":84,"column":17}},"37":{"start":{"line":86,"column":2},"end":{"line":91,"column":5}},"38":{"start":{"line":87,"column":4},"end":{"line":87,"column":36}},"39":{"start":{"line":88,"column":4},"end":{"line":90,"column":7}},"40":{"start":{"line":89,"column":6},"end":{"line":89,"column":40}},"41":{"start":{"line":92,"column":2},"end":{"line":92,"column":14}},"42":{"start":{"line":100,"column":0},"end":{"line":100,"column":20}},"43":{"start":{"line":101,"column":0},"end":{"line":101,"column":22}},"44":{"start":{"line":102,"column":0},"end":{"line":102,"column":20}},"45":{"start":{"line":103,"column":0},"end":{"line":103,"column":24}},"46":{"start":{"line":104,"column":0},"end":{"line":104,"column":28}},"47":{"start":{"line":115,"column":0},"end":{"line":149,"column":3}},"48":{"start":{"line":117,"column":2},"end":{"line":117,"column":23}},"49":{"start":{"line":118,"column":2},"end":{"line":118,"column":57}},"50":{"start":{"line":119,"column":2},"end":{"line":148,"column":3}},"51":{"start":{"line":120,"column":4},"end":{"line":120,"column":59}},"52":{"start":{"line":127,"column":4},"end":{"line":127,"column":27}},"53":{"start":{"line":128,"column":4},"end":{"line":135,"column":5}},"54":{"start":{"line":129,"column":6},"end":{"line":129,"column":54}},"55":{"start":{"line":132,"column":6},"end":{"line":134,"column":7}},"56":{"start":{"line":133,"column":8},"end":{"line":133,"column":16}},"57":{"start":{"line":136,"column":4},"end":{"line":138,"column":5}},"58":{"start":{"line":137,"column":6},"end":{"line":137,"column":55}},"59":{"start":{"line":142,"column":4},"end":{"line":142,"column":40}},"60":{"start":{"line":143,"column":4},"end":{"line":143,"column":20}},"61":{"start":{"line":145,"column":4},"end":{"line":147,"column":5}},"62":{"start":{"line":146,"column":6},"end":{"line":146,"column":43}},"63":{"start":{"line":151,"column":0},"end":{"line":151,"column":30}},"64":{"start":{"line":153,"column":0},"end":{"line":153,"column":462}},"65":{"start":{"line":153,"column":33},"end":{"line":153,"column":460}},"66":{"start":{"line":153,"column":54},"end":{"line":153,"column":90}},"67":{"start":{"line":153,"column":91},"end":{"line":153,"column":457}},"68":{"start":{"line":153,"column":139},"end":{"line":153,"column":178}},"69":{"start":{"line":153,"column":179},"end":{"line":153,"column":220}},"70":{"start":{"line":153,"column":221},"end":{"line":153,"column":441}},"71":{"start":{"line":153,"column":247},"end":{"line":153,"column":345}},"72":{"start":{"line":153,"column":253},"end":{"line":153,"column":278}},"73":{"start":{"line":153,"column":279},"end":{"line":153,"column":302}},"74":{"start":{"line":153,"column":321},"end":{"line":153,"column":335}},"75":{"start":{"line":153,"column":336},"end":{"line":153,"column":343}},"76":{"start":{"line":153,"column":346},"end":{"line":153,"column":439}},"77":{"start":{"line":153,"column":363},"end":{"line":153,"column":378}},"78":{"start":{"line":153,"column":388},"end":{"line":153,"column":437}},"79":{"start":{"line":153,"column":442},"end":{"line":153,"column":453}},"80":{"start":{"line":164,"column":0},"end":{"line":164,"column":12}},"81":{"start":{"line":180,"column":0},"end":{"line":180,"column":23}},"82":{"start":{"line":181,"column":0},"end":{"line":181,"column":23}},"83":{"start":{"line":182,"column":0},"end":{"line":182,"column":31}},"84":{"start":{"line":184,"column":0},"end":{"line":184,"column":42}},"85":{"start":{"line":186,"column":0},"end":{"line":186,"column":35}},"86":{"start":{"line":188,"column":0},"end":{"line":190,"column":1}},"87":{"start":{"line":189,"column":2},"end":{"line":189,"column":32}},"88":{"start":{"line":192,"column":0},"end":{"line":194,"column":1}},"89":{"start":{"line":193,"column":2},"end":{"line":193,"column":62}},"90":{"start":{"line":201,"column":0},"end":{"line":203,"column":1}},"91":{"start":{"line":202,"column":2},"end":{"line":202,"column":31}},"92":{"start":{"line":211,"column":0},"end":{"line":213,"column":1}},"93":{"start":{"line":212,"column":2},"end":{"line":212,"column":31}},"94":{"start":{"line":223,"column":0},"end":{"line":225,"column":1}},"95":{"start":{"line":224,"column":2},"end":{"line":224,"column":32}},"96":{"start":{"line":227,"column":0},"end":{"line":229,"column":1}},"97":{"start":{"line":228,"column":2},"end":{"line":228,"column":34}},"98":{"start":{"line":231,"column":0},"end":{"line":233,"column":1}},"99":{"start":{"line":232,"column":2},"end":{"line":232,"column":59}},"100":{"start":{"line":239,"column":0},"end":{"line":246,"column":1}},"101":{"start":{"line":240,"column":2},"end":{"line":245,"column":5}},"102":{"start":{"line":241,"column":4},"end":{"line":241,"column":36}},"103":{"start":{"line":242,"column":4},"end":{"line":244,"column":7}},"104":{"start":{"line":243,"column":6},"end":{"line":243,"column":40}},"105":{"start":{"line":248,"column":0},"end":{"line":250,"column":1}},"106":{"start":{"line":249,"column":2},"end":{"line":249,"column":31}},"107":{"start":{"line":259,"column":0},"end":{"line":261,"column":1}},"108":{"start":{"line":260,"column":2},"end":{"line":260,"column":30}},"109":{"start":{"line":267,"column":0},"end":{"line":273,"column":1}},"110":{"start":{"line":268,"column":2},"end":{"line":272,"column":5}},"111":{"start":{"line":269,"column":4},"end":{"line":271,"column":5}},"112":{"start":{"line":270,"column":6},"end":{"line":270,"column":18}},"113":{"start":{"line":284,"column":0},"end":{"line":286,"column":1}},"114":{"start":{"line":285,"column":2},"end":{"line":285,"column":43}},"115":{"start":{"line":289,"column":0},"end":{"line":299,"column":1}},"116":{"start":{"line":290,"column":2},"end":{"line":298,"column":5}},"117":{"start":{"line":291,"column":4},"end":{"line":297,"column":7}},"118":{"start":{"line":292,"column":6},"end":{"line":296,"column":7}},"119":{"start":{"line":293,"column":8},"end":{"line":293,"column":22}},"120":{"start":{"line":295,"column":8},"end":{"line":295,"column":18}}},"branchMap":{"1":{"line":20,"type":"if","locations":[{"start":{"line":20,"column":2},"end":{"line":20,"column":2}},{"start":{"line":20,"column":2},"end":{"line":20,"column":2}}]},"2":{"line":46,"type":"if","locations":[{"start":{"line":46,"column":4},"end":{"line":46,"column":4}},{"start":{"line":46,"column":4},"end":{"line":46,"column":4}}]},"3":{"line":83,"type":"if","locations":[{"start":{"line":83,"column":2},"end":{"line":83,"column":2}},{"start":{"line":83,"column":2},"end":{"line":83,"column":2}}]},"4":{"line":89,"type":"cond-expr","locations":[{"start":{"line":89,"column":14},"end":{"line":89,"column":27}},{"start":{"line":89,"column":30},"end":{"line":89,"column":39}}]},"5":{"line":132,"type":"if","locations":[{"start":{"line":132,"column":6},"end":{"line":132,"column":6}},{"start":{"line":132,"column":6},"end":{"line":132,"column":6}}]},"6":{"line":136,"type":"if","locations":[{"start":{"line":136,"column":4},"end":{"line":136,"column":4}},{"start":{"line":136,"column":4},"end":{"line":136,"column":4}}]},"7":{"line":145,"type":"if","locations":[{"start":{"line":145,"column":4},"end":{"line":145,"column":4}},{"start":{"line":145,"column":4},"end":{"line":145,"column":4}}]},"8":{"line":153,"type":"if","locations":[{"start":{"line":153,"column":346},"end":{"line":153,"column":346}},{"start":{"line":153,"column":346},"end":{"line":153,"column":346}}]},"9":{"line":243,"type":"cond-expr","locations":[{"start":{"line":243,"column":14},"end":{"line":243,"column":27}},{"start":{"line":243,"column":30},"end":{"line":243,"column":39}}]},"10":{"line":269,"type":"if","locations":[{"start":{"line":269,"column":4},"end":{"line":269,"column":4}},{"start":{"line":269,"column":4},"end":{"line":269,"column":4}}]},"11":{"line":292,"type":"if","locations":[{"start":{"line":292,"column":6},"end":{"line":292,"column":6}},{"start":{"line":292,"column":6},"end":{"line":292,"column":6}}]}},"code":["Object.defineProperty(exports, '__esModule', {","  value: true","});","exports.exists = exists;","exports.findNearestFile = findNearestFile;","exports.lstat = lstat;","exports.mkdir = mkdir;","exports.mkdirp = mkdirp;","","/**"," * If no file (or directory) at the specified path exists, creates the parent"," * directories (if necessary) and then writes an empty file at the specified"," * path."," *"," * @return A boolean indicating whether the file was created."," */","","var newFile = _asyncToGenerator(function* (filePath) {","  var isExistingFile = yield fsPromise.exists(filePath);","  if (isExistingFile) {","    return false;","  }","  yield fsPromise.mkdirp(pathUtil.dirname(filePath));","  yield fsPromise.writeFile(filePath, '');","  return true;","}","","/**"," * The readdir endpoint accepts the following query parameters:"," *"," *   path: path to the folder to list entries inside."," *"," * Body contains a JSON encoded array of objects with file: and stats: entries."," * file: has the file or directory name, stats: has the stats of the file/dir,"," * isSymbolicLink: true if the entry is a symlink to another filesystem location."," */",");","","exports.newFile = newFile;","","var readdir = _asyncToGenerator(function* (path) {","  var files = yield fsPromise.readdir(path);","  var entries = yield Promise.all(files.map(_asyncToGenerator(function* (file) {","    var fullpath = pathUtil.join(path, file);","    var lstats = yield fsPromise.lstat(fullpath);","    if (!lstats.isSymbolicLink()) {","      return { file: file, stats: lstats, isSymbolicLink: false };","    } else {","      try {","        var stats = yield fsPromise.stat(fullpath);","        return { file: file, stats: stats, isSymbolicLink: true };","      } catch (error) {","        return { file: file, stats: undefined, isSymbolicLink: true, error: error };","      }","    }","  })));","  // TODO: Return entries directly and change client to handle error.","  return entries.filter(function (entry) {","    return entry.error === undefined;","  }).map(function (entry) {","    return { file: entry.file, stats: entry.stats, isSymbolicLink: entry.isSymbolicLink };","  });","}","","/**"," * Gets the real path of a file path."," * It could be different than the given path if the file is a symlink"," * or exists in a symlinked directory."," */",");","","exports.readdir = readdir;","exports.realpath = realpath;","exports.resolveRealPath = resolveRealPath;","exports.rename = rename;","","/**"," * Runs the equivalent of `cp sourcePath destinationPath`."," */","","var copy = _asyncToGenerator(function* (sourcePath, destinationPath) {","  var isExistingFile = yield fsPromise.exists(destinationPath);","  if (isExistingFile) {","    return false;","  }","  yield new Promise(function (resolve, reject) {","    var fsPlus = require('fs-plus');","    fsPlus.copy(sourcePath, destinationPath, function (error) {","      error ? reject(error) : resolve();","    });","  });","  return true;","}","","/**"," * Removes directories even if they are non-empty. Does not fail if the directory doesn't exist."," */",");","","exports.copy = copy;","exports.rmdir = rmdir;","exports.stat = stat;","exports.unlink = unlink;","exports.readFile = readFile;","","/**"," * The writeFile endpoint accepts the following query parameters:"," *"," *   path: path to the file to read (it must be url encoded)."," *   options: options to pass to fs.writeFile"," *"," * TODO: move to nuclide-commons and rename to writeFileAtomic"," */","","var writeFile = _asyncToGenerator(function* (path, data, options) {","","  var complete = false;","  var tempFilePath = yield fsPromise.tempfile('nuclide');","  try {","    yield fsPromise.writeFile(tempFilePath, data, options);","","    // Ensure file still has original permissions:","    // https://github.com/facebook/nuclide/issues/157","    // We update the mode of the temp file rather than the destination file because","    // if we did the mv() then the chmod(), there would be a brief period between","    // those two operations where the destination file might have the wrong permissions.","    var permissions = null;","    try {","      permissions = (yield fsPromise.stat(path)).mode;","    } catch (e) {","      // If the file does not exist, then ENOENT will be thrown.","      if (e.code !== 'ENOENT') {","        throw e;","      }","    }","    if (permissions != null) {","      yield fsPromise.chmod(tempFilePath, permissions);","    }","","    // TODO(mikeo): put renames into a queue so we don't write older save over new save.","    // Use mv as fs.rename doesn't work across partitions.","    yield mvPromise(tempFilePath, path);","    complete = true;","  } finally {","    if (!complete) {","      yield fsPromise.unlink(tempFilePath);","    }","  }","});","","exports.writeFile = writeFile;","","function _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { var callNext = step.bind(null, 'next'); var callThrow = step.bind(null, 'throw'); function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(callNext, callThrow); } } callNext(); }); }; }","","///////////////////","//","// Services","//","//////////////////","","/**"," * Checks a certain path for existence and returns 'true'/'false' accordingly"," */","'use babel';","","/*"," * Copyright (c) 2015-present, Facebook, Inc."," * All rights reserved."," *"," * This source code is licensed under the license found in the LICENSE file in"," * the root directory of this source tree."," */","","/**"," * This code implements the NuclideFs service.  It exports the FS on http via"," * the endpoint: http://your.server:your_port/fs/method where method is one of"," * readFile, writeFile, etc."," */","","var mv = require('mv');","var fs = require('fs');","var pathUtil = require('path');","","var _require = require('nuclide-commons');","","var fsPromise = _require.fsPromise;","","function exists(path) {","  return fsPromise.exists(path);","}","","function findNearestFile(fileName, pathToDirectory) {","  return fsPromise.findNearestFile(fileName, pathToDirectory);","}","","/**"," * The lstat endpoint is the same as the stat endpoint except it will return"," * the stat of a link instead of the file the link points to."," */","","function lstat(path) {","  return fsPromise.lstat(path);","}","","/**"," * Creates a new directory with the given path."," * Throws EEXIST error if the directory already exists."," * Throws ENOENT if the path given is nested in a non-existing directory."," */","","function mkdir(path) {","  return fsPromise.mkdir(path);","}","","/**"," * Runs the equivalent of `mkdir -p` with the given path."," *"," * Like most implementations of mkdirp, if it fails, it is possible that"," * directories were created for some prefix of the given path."," * @return true if the path was created; false if it already existed."," */","","function mkdirp(path) {","  return fsPromise.mkdirp(path);","}","","function realpath(path) {","  return fsPromise.realpath(path);","}","","function resolveRealPath(path) {","  return fsPromise.realpath(fsPromise.expandHomeDir(path));","}","","/**"," * Runs the equivalent of `mv sourcePath destinationPath`."," */","","function rename(sourcePath, destinationPath) {","  return new Promise(function (resolve, reject) {","    var fsPlus = require('fs-plus');","    fsPlus.move(sourcePath, destinationPath, function (error) {","      error ? reject(error) : resolve();","    });","  });","}","","function rmdir(path) {","  return fsPromise.rmdir(path);","}","","/**"," * The stat endpoint accepts the following query parameters:"," *"," *   path: path to the file to read"," *"," */","","function stat(path) {","  return fsPromise.stat(path);","}","","/**"," * Removes files. Does not fail if the file doesn't exist."," */","","function unlink(path) {","  return fsPromise.unlink(path)['catch'](function (error) {","    if (error.code !== 'ENOENT') {","      throw error;","    }","  });","}","","/**"," *   path: the path to the file to read"," *   options: options to pass to fs.readFile."," *      Note that options does NOT include 'encoding' this ensures that the return value"," *      is always a Buffer and never a string."," *"," *   Callers who want a string should call buffer.toString('utf8')."," */","","function readFile(path, options) {","  return fsPromise.readFile(path, options);","}","","// TODO: Move to nuclide-commons","function mvPromise(sourcePath, destinationPath) {","  return new Promise(function (resolve, reject) {","    mv(sourcePath, destinationPath, { mkdirp: false }, function (error) {","      if (error) {","        reject(error);","      } else {","        resolve();","      }","    });","  });","}","//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi92YXIvZm9sZGVycy94Zi9yc3BoNF9jNTczMTVyczU3eHhzZHNrcnhudjM2dDAvVC90bXBwZmw1Mm5wdWJsaXNoX3BhY2thZ2VzL25wbS9udWNsaWRlLXNlcnZlci9saWIvc2VydmljZXMvRmlsZVN5c3RlbVNlcnZpY2UuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7SUE2RXNCLE9BQU8scUJBQXRCLFdBQXVCLFFBQWdCLEVBQW9CO0FBQ2hFLE1BQU0sY0FBYyxHQUFHLE1BQU0sU0FBUyxDQUFDLE1BQU0sQ0FBQyxRQUFRLENBQUMsQ0FBQztBQUN4RCxNQUFJLGNBQWMsRUFBRTtBQUNsQixXQUFPLEtBQUssQ0FBQztHQUNkO0FBQ0QsUUFBTSxTQUFTLENBQUMsTUFBTSxDQUFDLFFBQVEsQ0FBQyxPQUFPLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQztBQUNuRCxRQUFNLFNBQVMsQ0FBQyxTQUFTLENBQUMsUUFBUSxFQUFFLEVBQUUsQ0FBQyxDQUFDO0FBQ3hDLFNBQU8sSUFBSSxDQUFDO0NBQ2I7Ozs7Ozs7Ozs7Ozs7OztJQVdxQixPQUFPLHFCQUF0QixXQUF1QixJQUFZLEVBQWlDO0FBQ3pFLE1BQU0sS0FBSyxHQUFHLE1BQU0sU0FBUyxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQztBQUM1QyxNQUFNLE9BQU8sR0FBRyxNQUFNLE9BQU8sQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLEdBQUcsbUJBQUMsV0FBTyxJQUFJLEVBQUs7QUFDMUQsUUFBTSxRQUFRLEdBQUcsUUFBUSxDQUFDLElBQUksQ0FBQyxJQUFJLEVBQUUsSUFBSSxDQUFDLENBQUM7QUFDM0MsUUFBTSxNQUFNLEdBQUcsTUFBTSxTQUFTLENBQUMsS0FBSyxDQUFDLFFBQVEsQ0FBQyxDQUFDO0FBQy9DLFFBQUksQ0FBQyxNQUFNLENBQUMsY0FBYyxFQUFFLEVBQUU7QUFDNUIsYUFBTyxFQUFDLElBQUksRUFBSixJQUFJLEVBQUUsS0FBSyxFQUFFLE1B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S0FBSyxFQUFJO0FBQ3hELFVBQUksS0FBSyxFQUFFO0FBQ1QsY0FBTSxDQUFDLEtBQUssQ0FBQyxDQUFDO09BQ2YsTUFBTTtBQUNMLGVBQU8sRUFBRSxDQUFDO09BQ1g7S0FDRixDQUFDLENBQUM7R0FDSixDQUFDLENBQUM7Q0FDSiIsImZpbGUiOiIvdmFyL2ZvbGRlcnMveGYvcnNwaDRfYzU3MzE1cnM1N3h4c2Rza3J4bnYzNnQwL1QvdG1wcGZsNTJucHVibGlzaF9wYWNrYWdlcy9ucG0vbnVjbGlkZS1zZXJ2ZXIvbGliL3NlcnZpY2VzL0ZpbGVTeXN0ZW1TZXJ2aWNlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBiYWJlbCc7XG4vKiBAZmxvdyAqL1xuXG4vKlxuICogQ29weXJpZ2h0IChjKSAyMDE1LXByZXNlbnQsIEZhY2Vib29rLCBJbmMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIGxpY2Vuc2UgZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBpblxuICogdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKi9cblxuLyoqXG4gKiBUaGlzIGNvZGUgaW1wbGVtZW50cyB0aGUgTnVjbGlkZUZzIHNlcnZpY2UuICBJdCBleHBvcnRzIHRoZSBGUyBvbiBodHRwIHZpYVxuICogdGhlIGVuZHBvaW50OiBodHRwOi8veW91ci5zZXJ2ZXI6eW91cl9wb3J0L2ZzL21ldGhvZCB3aGVyZSBtZXRob2QgaXMgb25lIG9mXG4gKiByZWFkRmlsZSwgd3JpdGVGaWxlLCBldGMuXG4gKi9cblxuY29uc3QgbXYgPSByZXF1aXJlKCdtdicpO1xuY29uc3QgZnMgPSByZXF1aXJlKCdmcycpO1xuY29uc3QgcGF0aFV0aWwgPSByZXF1aXJlKCdwYXRoJyk7XG5jb25zdCB7ZnNQcm9taXNlfSA9IHJlcXVpcmUoJ251Y2xpZGUtY29tbW9ucycpO1xuXG5pbXBvcnQgdHlwZSBGaWxlV2l0aFN0YXRzIGZyb20gJy4vRmlsZVN5c3RlbVNlcnZpY2VUeXBlJztcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy8vXG4vL1xuLy8gU2VydmljZXNcbi8vXG4vLy8vLy8vLy8vLy8vLy8vLy9cblxuLyoqXG4gKiBDaGVja3MgYSBjZXJ0YWluIHBhdGggZm9yIGV4aXN0ZW5jZSBhbmQgcmV0dXJucyAndHJ1ZScvJ2ZhbHNlJyBhY2NvcmRpbmdseVxuICovXG5leHBvcnQgZnVuY3Rpb24gZXhpc3RzKHBhdGg6IHN0cmluZyk6IFByb21pc2U8Ym9vbGVhbj4ge1xuICByZXR1cm4gZnNQcm9taXNlLmV4aXN0cyhwYXRoKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGZpbmROZWFyZXN0RmlsZShmaWxlTmFtZTogc3RyaW5nLCBwYXRoVG9EaXJlY3Rvcnk6IHN0cmluZyk6IFByb21pc2U8P3N0cmluZz4ge1xuICByZXR1cm4gZnNQcm9taXNlLmZpbmROZWFyZXN0RmlsZShmaWxlTmFtZSwgcGF0aFRvRGlyZWN0b3J5KTtcbn1cblxuLyoqXG4gKiBUaGUgbHN0YXQgZW5kcG9pbnQgaXMgdGhlIHNhbWUgYXMgdGhlIHN0YXQgZW5kcG9pbnQgZXhjZXB0IGl0IHdpbGwgcmV0dXJuXG4gKiB0aGUgc3RhdCBvZiBhIGxpbmsgaW5zdGVhZCBvZiB0aGUgZmlsZSB0aGUgbGluayBwb2ludHMgdG8uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBsc3RhdChwYXRoOiBzdHJpbmcpOiBQcm9taXNlPGZzLlN0YXRzPiB7XG4gIHJldHVybiBmc1Byb21pc2UubHN0YXQocGF0aCk7XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhIG5ldyBkaXJlY3Rvcnkgd2l0aCB0aGUgZ2l2ZW4gcGF0aC5cbiAqIFRocm93cyBFRVhJU1QgZXJyb3IgaWYgdGhlIGRpcmVjdG9yeSBhbHJlYWR5IGV4aXN0cy5cbiAqIFRocm93cyBFTk9FTlQgaWYgdGhlIHBhdGggZ2l2ZW4gaXMgbmVzdGVkIGluIGEgbm9uLWV4aXN0aW5nIGRpcmVjdG9yeS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG1rZGlyKHBhdGg6IHN0cmluZyk6IFByb21pc2U8dm9pZD4ge1xuICByZXR1cm4gZnNQcm9taXNlLm1rZGlyKHBhdGgpO1xufVxuXG4vKipcbiAqIFJ1bnMgdGhlIGVxdWl2YWxlbnQgb2YgYG1rZGlyIC1wYCB3aXRoIHRoZSBnaXZlbiBwYXRoLlxuICpcbiAqIExpa2UgbW9zdCBpbXBsZW1lbnRhdGlvbnMgb2YgbWtkaXJwLCBpZiBpdCBmYWlscywgaXQgaXMgcG9zc2libGUgdGhhdFxuICogZGlyZWN0b3JpZXMgd2VyZSBjcmVhdGVkIGZvciBzb21lIHByZWZpeCBvZiB0aGUgZ2l2ZW4gcGF0aC5cbiAqIEByZXR1cm4gdHJ1ZSBpZiB0aGUgcGF0aCB3YXMgY3JlYXRlZDsgZmFsc2UgaWYgaXQgYWxyZWFkeSBleGlzdGVkLlxuICovXG5leHBvcnQgZnVuY3Rpb24gbWtkaXJwKHBhdGg6IHN0cmluZyk6IFByb21pc2U8Ym9vbGVhbj4ge1xuICByZXR1cm4gZnNQcm9taXNlLm1rZGlycChwYXRoKTtcbn1cblxuLyoqXG4gKiBJZiBubyBmaWxlIChvciBkaXJlY3RvcnkpIGF0IHRoZSBzcGVjaWZpZWQgcGF0aCBleGlzdHMsIGNyZWF0ZXMgdGhlIHBhcmVudFxuICogZGlyZWN0b3JpZXMgKGlmIG5lY2Vzc2FyeSkgYW5kIHRoZW4gd3JpdGVzIGFuIGVtcHR5IGZpbGUgYXQgdGhlIHNwZWNpZmllZFxuICogcGF0aC5cbiAqXG4gKiBAcmV0dXJuIEEgYm9vbGVhbiBpbmRpY2F0aW5nIHdoZXRoZXIgdGhlIGZpbGUgd2FzIGNyZWF0ZWQuXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBuZXdGaWxlKGZpbGVQYXRoOiBzdHJpbmcpOiBQcm9taXNlPGJvb2xlYW4+IHtcbiAgY29uc3QgaXNFeGlzdGluZ0ZpbGUgPSBhd2FpdCBmc1Byb21pc2UuZXhpc3RzKGZpbGVQYXRoKTtcbiAgaWYgKGlzRXhpc3RpbmdGaWxlKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGF3YWl0IGZzUHJvbWlzZS5ta2RpcnAocGF0aFV0aWwuZGlybmFtZShmaWxlUGF0aCkpO1xuICBhd2FpdCBmc1Byb21pc2Uud3JpdGVGaWxlKGZpbGVQYXRoLCAnJyk7XG4gIHJldHVybiB0cnVlO1xufVxuXG4vKipcbiAqIFRoZSByZWFkZGlyIGVuZHBvaW50IGFjY2VwdHMgdGhlIGZvbGxvd2luZyBxdWVyeSBwYXJhbWV0ZXJzOlxuICpcbiAqICAgcGF0aDogcGF0aCB0byB0aGUgZm9sZGVyIHRvIGxpc3QgZW50cmllcyBpbnNpZGUuXG4gKlxuICogQm9keSBjb250YWlucyBhIEpTT04gZW5jb2RlZCBhcnJheSBvZiBvYmplY3RzIHdpdGggZmlsZTogYW5kIHN0YXRzOiBlbnRyaWVzLlxuICogZmlsZTogaGFzIHRoZSBmaWxlIG9yIGRpcmVjdG9yeSBuYW1lLCBzdGF0czogaGFzIHRoZSBzdGF0cyBvZiB0aGUgZmlsZS9kaXIsXG4gKiBpc1N5bWJvbGljTGluazogdHJ1ZSBpZiB0aGUgZW50cnkgaXMgYSBzeW1saW5rIHRvIGFub3RoZXIgZmlsZXN5c3RlbSBsb2NhdGlvbi5cbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHJlYWRkaXIocGF0aDogc3RyaW5nKTogUHJvbWlzZTxBcnJheTxGaWxlV2l0aFN0YXRzPj4ge1xuICBjb25zdCBmaWxlcyA9IGF3YWl0IGZzUHJvbWlzZS5yZWFkZGlyKHBhdGgpO1xuICBjb25zdCBlbnRyaWVzID0gYXdhaXQgUHJvbWlzZS5hbGwoZmlsZXMubWFwKGFzeW5jIChmaWxlKSA9PiB7XG4gICAgY29uc3QgZnVsbHBhdGggPSBwYXRoVXRpbC5qb2luKHBhdGgsIGZpbGUpO1xuICAgIGNvbnN0IGxzdGF0cyA9IGF3YWl0IGZzUHJvbWlzZS5sc3RhdChmdWxscGF0aCk7XG4gICAgaWYgKCFsc3RhdHMuaXNTeW1ib2xpY0xpbmsoKSkge1xuICAgICAgcmV0dXJuIHtmaWxlLCBzdGF0czogbHN0YXRzLCBpc1N5bWJvbGljTGluazogZmFsc2V9O1xuICAgIH0gZWxzZSB7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCBzdGF0cyA9IGF3YWl0IGZzUHJvbWlzZS5zdGF0KGZ1bGxwYXRoKTtcbiAgICAgICAgcmV0dXJuIHtmaWxlLCBzdGF0cywgaXNTeW1ib2xpY0xpbms6IHRydWV9O1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgcmV0dXJuIHtmaWxlLCBzdGF0czogdW5kZWZpbmVkLCBpc1N5bWJvbGljTGluazogdHJ1ZSwgZXJyb3J9O1xuICAgICAgfVxuICAgIH1cbiAgfSkpO1xuICAvLyBUT0RPOiBSZXR1cm4gZW50cmllcyBkaXJlY3RseSBhbmQgY2hhbmdlIGNsaWVudCB0byBoYW5kbGUgZXJyb3IuXG4gIHJldHVybiBlbnRyaWVzLmZpbHRlcihlbnRyeSA9PiBlbnRyeS5lcnJvciA9PT0gdW5kZWZpbmVkKS5cbiAgICBtYXAoZW50cnkgPT4ge1xuICAgICAgcmV0dXJuIHtmaWxlOiBlbnRyeS5maWxlLCBzdGF0czogZW50cnkuc3RhdHMsIGlzU3ltYm9saWNMaW5rOiBlbnRyeS5pc1N5bWJvbGljTGlua307XG4gICAgfSk7XG59XG5cbi8qKlxuICogR2V0cyB0aGUgcmVhbCBwYXRoIG9mIGEgZmlsZSBwYXRoLlxuICogSXQgY291bGQgYmUgZGlmZmVyZW50IHRoYW4gdGhlIGdpdmVuIHBhdGggaWYgdGhlIGZpbGUgaXMgYSBzeW1saW5rXG4gKiBvciBleGlzdHMgaW4gYSBzeW1saW5rZWQgZGlyZWN0b3J5LlxuICovXG5leHBvcnQgZnVuY3Rpb24gcmVhbHBhdGgocGF0aDogc3RyaW5nKTogUHJvbWlzZTxzdHJpbmc+IHtcbiAgcmV0dXJuIGZzUHJvbWlzZS5yZWFscGF0aChwYXRoKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJlc29sdmVSZWFsUGF0aChwYXRoOiBzdHJpbmcpOiBQcm9taXNlPHN0cmluZz4ge1xuICByZXR1cm4gZnNQcm9taXNlLnJlYWxwYXRoKGZzUHJvbWlzZS5leHBhbmRIb21lRGlyKHBhdGgpKTtcbn1cblxuLyoqXG4gKiBSdW5zIHRoZSBlcXVpdmFsZW50IG9mIGBtdiBzb3VyY2VQYXRoIGRlc3RpbmF0aW9uUGF0aGAuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZW5hbWUoc291cmNlUGF0aDogc3RyaW5nLCBkZXN0aW5hdGlvblBhdGg6IHN0cmluZyk6IFByb21pc2Uge1xuICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgIGNvbnN0IGZzUGx1cyA9IHJlcXVpcmUoJ2ZzLXBsdXMnKTtcbiAgICBmc1BsdXMubW92ZShzb3VyY2VQYXRoLCBkZXN0aW5hdGlvblBhdGgsIGVycm9yID0+IHtcbiAgICAgIGVycm9yID8gcmVqZWN0KGVycm9yKSA6IHJlc29sdmUoKTtcbiAgICB9KTtcbiAgfSk7XG59XG5cbi8qKlxuICogUnVucyB0aGUgZXF1aXZhbGVudCBvZiBgY3Agc291cmNlUGF0aCBkZXN0aW5hdGlvblBhdGhgLlxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY29weShzb3VyY2VQYXRoOiBzdHJpbmcsIGRlc3RpbmF0aW9uUGF0aDogc3RyaW5nKTogUHJvbWlzZTxib29sZWFuPiB7XG4gIGNvbnN0IGlzRXhpc3RpbmdGaWxlID0gYXdhaXQgZnNQcm9taXNlLmV4aXN0cyhkZXN0aW5hdGlvblBhdGgpO1xuICBpZiAoaXNFeGlzdGluZ0ZpbGUpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgYXdhaXQgbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgIGNvbnN0IGZzUGx1cyA9IHJlcXVpcmUoJ2ZzLXBsdXMnKTtcbiAgICBmc1BsdXMuY29weShzb3VyY2VQYXRoLCBkZXN0aW5hdGlvblBhdGgsIGVycm9yID0+IHtcbiAgICAgIGVycm9yID8gcmVqZWN0KGVycm9yKSA6IHJlc29sdmUoKTtcbiAgICB9KTtcbiAgfSk7XG4gIHJldHVybiB0cnVlO1xufVxuXG4vKipcbiAqIFJlbW92ZXMgZGlyZWN0b3JpZXMgZXZlbiBpZiB0aGV5IGFyZSBub24tZW1wdHkuIERvZXMgbm90IGZhaWwgaWYgdGhlIGRpcmVjdG9yeSBkb2Vzbid0IGV4aXN0LlxuICovXG5leHBvcnQgZnVuY3Rpb24gcm1kaXIocGF0aDogc3RyaW5nKTogUHJvbWlzZTx2b2lkPiB7XG4gIHJldHVybiBmc1Byb21pc2Uucm1kaXIocGF0aCk7XG59XG5cbi8qKlxuICogVGhlIHN0YXQgZW5kcG9pbnQgYWNjZXB0cyB0aGUgZm9sbG93aW5nIHF1ZXJ5IHBhcmFtZXRlcnM6XG4gKlxuICogICBwYXRoOiBwYXRoIHRvIHRoZSBmaWxlIHRvIHJlYWRcbiAqXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzdGF0KHBhdGg6IHN0cmluZyk6IFByb21pc2U8ZnMuU3RhdHM+IHtcbiAgcmV0dXJuIGZzUHJvbWlzZS5zdGF0KHBhdGgpO1xufVxuXG4vKipcbiAqIFJlbW92ZXMgZmlsZXMuIERvZXMgbm90IGZhaWwgaWYgdGhlIGZpbGUgZG9lc24ndCBleGlzdC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHVubGluayhwYXRoOiBzdHJpbmcpOiBQcm9taXNlIHtcbiAgcmV0dXJuIGZzUHJvbWlzZS51bmxpbmsocGF0aCkuY2F0Y2goKGVycm9yKSA9PiB7XG4gICAgaWYgKGVycm9yLmNvZGUgIT09ICdFTk9FTlQnKSB7XG4gICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG4gIH0pO1xufVxuXG4vKipcbiAqICAgcGF0aDogdGhlIHBhdGggdG8gdGhlIGZpbGUgdG8gcmVhZFxuICogICBvcHRpb25zOiBvcHRpb25zIHRvIHBhc3MgdG8gZnMucmVhZEZpbGUuXG4gKiAgICAgIE5vdGUgdGhhdCBvcHRpb25zIGRvZXMgTk9UIGluY2x1ZGUgJ2VuY29kaW5nJyB0aGlzIGVuc3VyZXMgdGhhdCB0aGUgcmV0dXJuIHZhbHVlXG4gKiAgICAgIGlzIGFsd2F5cyBhIEJ1ZmZlciBhbmQgbmV2ZXIgYSBzdHJpbmcuXG4gKlxuICogICBDYWxsZXJzIHdobyB3YW50IGEgc3RyaW5nIHNob3VsZCBjYWxsIGJ1ZmZlci50b1N0cmluZygndXRmOCcpLlxuICovXG5leHBvcnQgZnVuY3Rpb24gcmVhZEZpbGUocGF0aDogc3RyaW5nLCBvcHRpb25zPzoge2ZsYWc/OiBzdHJpbmd9KTpcbiAgICBQcm9taXNlPEJ1ZmZlcj4ge1xuICByZXR1cm4gZnNQcm9taXNlLnJlYWRGaWxlKHBhdGgsIG9wdGlvbnMpO1xufVxuXG4vLyBUT0RPOiBNb3ZlIHRvIG51Y2xpZGUtY29tbW9uc1xuZnVuY3Rpb24gbXZQcm9taXNlKHNvdXJjZVBhdGg6IHN0cmluZywgZGVzdGluYXRpb25QYXRoOiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+IHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICBtdihzb3VyY2VQYXRoLCBkZXN0aW5hdGlvblBhdGgsIHtta2RpcnA6IGZhbHNlfSwgZXJyb3IgPT4ge1xuICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgIHJlamVjdChlcnJvcik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXNvbHZlKCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH0pO1xufVxuXG4vKipcbiAqIFRoZSB3cml0ZUZpbGUgZW5kcG9pbnQgYWNjZXB0cyB0aGUgZm9sbG93aW5nIHF1ZXJ5IHBhcmFtZXRlcnM6XG4gKlxuICogICBwYXRoOiBwYXRoIHRvIHRoZSBmaWxlIHRvIHJlYWQgKGl0IG11c3QgYmUgdXJsIGVuY29kZWQpLlxuICogICBvcHRpb25zOiBvcHRpb25zIHRvIHBhc3MgdG8gZnMud3JpdGVGaWxlXG4gKlxuICogVE9ETzogbW92ZSB0byBudWNsaWRlLWNvbW1vbnMgYW5kIHJlbmFtZSB0byB3cml0ZUZpbGVBdG9taWNcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHdyaXRlRmlsZShwYXRoOiBzdHJpbmcsIGRhdGE6IHN0cmluZyxcbiAgICBvcHRpb25zOiA/e2VuY29kaW5nPzogc3RyaW5nOyBtb2RlPzogbnVtYmVyOyBmbGFnPzpzdHJpbmd9KTogUHJvbWlzZTx2b2lkPiB7XG5cbiAgbGV0IGNvbXBsZXRlID0gZmFsc2U7XG4gIGNvbnN0IHRlbXBGaWxlUGF0aCA9IGF3YWl0IGZzUHJvbWlzZS50ZW1wZmlsZSgnbnVjbGlkZScpO1xuICB0cnkge1xuICAgIGF3YWl0IGZzUHJvbWlzZS53cml0ZUZpbGUodGVtcEZpbGVQYXRoLCBkYXRhLCBvcHRpb25zKTtcblxuICAgIC8vIEVuc3VyZSBmaWxlIHN0aWxsIGhhcyBvcmlnaW5hbCBwZXJtaXNzaW9uczpcbiAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vZmFjZWJvb2svbnVjbGlkZS9pc3N1ZXMvMTU3XG4gICAgLy8gV2UgdXBkYXRlIHRoZSBtb2RlIG9mIHRoZSB0ZW1wIGZpbGUgcmF0aGVyIHRoYW4gdGhlIGRlc3RpbmF0aW9uIGZpbGUgYmVjYXVzZVxuICAgIC8vIGlmIHdlIGRpZCB0aGUgbXYoKSB0aGVuIHRoZSBjaG1vZCgpLCB0aGVyZSB3b3VsZCBiZSBhIGJyaWVmIHBlcmlvZCBiZXR3ZWVuXG4gICAgLy8gdGhvc2UgdHdvIG9wZXJhdGlvbnMgd2hlcmUgdGhlIGRlc3RpbmF0aW9uIGZpbGUgbWlnaHQgaGF2ZSB0aGUgd3JvbmcgcGVybWlzc2lvbnMuXG4gICAgbGV0IHBlcm1pc3Npb25zID0gbnVsbDtcbiAgICB0cnkge1xuICAgICAgcGVybWlzc2lvbnMgPSAoYXdhaXQgZnNQcm9taXNlLnN0YXQocGF0aCkpLm1vZGU7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgLy8gSWYgdGhlIGZpbGUgZG9lcyBub3QgZXhpc3QsIHRoZW4gRU5PRU5UIHdpbGwgYmUgdGhyb3duLlxuICAgICAgaWYgKGUuY29kZSAhPT0gJ0VOT0VOVCcpIHtcbiAgICAgICAgdGhyb3cgZTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKHBlcm1pc3Npb25zICE9IG51bGwpIHtcbiAgICAgIGF3YWl0IGZzUHJvbWlzZS5jaG1vZCh0ZW1wRmlsZVBhdGgsIHBlcm1pc3Npb25zKTtcbiAgICB9XG5cbiAgICAvLyBUT0RPKG1pa2VvKTogcHV0IHJlbmFtZXMgaW50byBhIHF1ZXVlIHNvIHdlIGRvbid0IHdyaXRlIG9sZGVyIHNhdmUgb3ZlciBuZXcgc2F2ZS5cbiAgICAvLyBVc2UgbXYgYXMgZnMucmVuYW1lIGRvZXNuJ3Qgd29yayBhY3Jvc3MgcGFydGl0aW9ucy5cbiAgICBhd2FpdCBtdlByb21pc2UodGVtcEZpbGVQYXRoLCBwYXRoKTtcbiAgICBjb21wbGV0ZSA9IHRydWU7XG4gIH0gZmluYWxseSB7XG4gICAgaWYgKCFjb21wbGV0ZSkge1xuICAgICAgYXdhaXQgZnNQcm9taXNlLnVubGluayh0ZW1wRmlsZVBhdGgpO1xuICAgIH1cbiAgfVxufVxuIl19",""],"l":{"1":1,"4":1,"5":1,"6":1,"7":1,"8":1,"18":1,"19":0,"20":0,"21":0,"23":0,"24":0,"25":0,"39":1,"41":1,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"49":0,"50":0,"51":0,"53":0,"58":0,"59":0,"61":0,"72":1,"73":1,"74":1,"75":1,"81":1,"82":0,"83":0,"84":0,"86":0,"87":0,"88":0,"89":0,"92":0,"100":1,"101":1,"102":1,"103":1,"104":1,"115":1,"117":0,"118":0,"119":0,"120":0,"127":0,"128":0,"129":0,"132":0,"133":0,"136":0,"137":0,"142":0,"143":0,"145":0,"146":0,"151":1,"153":4,"164":1,"180":1,"181":1,"182":1,"184":1,"186":1,"188":1,"189":0,"192":1,"193":0,"201":1,"202":0,"211":1,"212":0,"223":1,"224":0,"227":1,"228":0,"231":1,"232":0,"239":1,"240":0,"241":0,"242":0,"243":0,"248":1,"249":0,"259":1,"260":0,"267":1,"268":0,"269":0,"270":0,"284":1,"285":0,"289":1,"290":0,"291":0,"292":0,"293":0,"295":0}},"/home/travis/build/npmtest/node-npmtest-nuclide-server/node_modules/nuclide-server/lib/services/InfoService.js":{"path":"/home/travis/build/npmtest/node-npmtest-nuclide-server/node_modules/nuclide-server/lib/services/InfoService.js","s":{"1":1,"2":1,"3":0,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":0,"11":0,"12":0,"13":0,"14":1,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":1,"25":1,"26":1,"27":1,"28":1,"29":0},"b":{"1":[0,1],"2":[1,1],"3":[0,0]},"f":{"1":0,"2":1,"3":1,"4":0,"5":0,"6":0,"7":0},"fnMap":{"1":{"name":"(anonymous_1)","line":5,"loc":{"start":{"line":5,"column":41},"end":{"line":5,"column":54}}},"2":{"name":"_interopRequireDefault","line":12,"loc":{"start":{"line":12,"column":0},"end":{"line":12,"column":37}}},"3":{"name":"_asyncToGenerator","line":14,"loc":{"start":{"line":14,"column":0},"end":{"line":14,"column":31}}},"4":{"name":"(anonymous_4)","line":14,"loc":{"start":{"line":14,"column":40},"end":{"line":14,"column":52}}},"5":{"name":"(anonymous_5)","line":14,"loc":{"start":{"line":14,"column":110},"end":{"line":14,"column":137}}},"6":{"name":"step","line":14,"loc":{"start":{"line":14,"column":221},"end":{"line":14,"column":245}}},"7":{"name":"shutdownServer","line":32,"loc":{"start":{"line":32,"column":0},"end":{"line":32,"column":26}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":3,"column":3}},"2":{"start":{"line":5,"column":0},"end":{"line":7,"column":3}},"3":{"start":{"line":6,"column":2},"end":{"line":6,"column":43}},"4":{"start":{"line":9,"column":0},"end":{"line":9,"column":44}},"5":{"start":{"line":10,"column":0},"end":{"line":10,"column":40}},"6":{"start":{"line":12,"column":0},"end":{"line":12,"column":97}},"7":{"start":{"line":12,"column":39},"end":{"line":12,"column":95}},"8":{"start":{"line":14,"column":0},"end":{"line":14,"column":462}},"9":{"start":{"line":14,"column":33},"end":{"line":14,"column":460}},"10":{"start":{"line":14,"column":54},"end":{"line":14,"column":90}},"11":{"start":{"line":14,"column":91},"end":{"line":14,"column":457}},"12":{"start":{"line":14,"column":139},"end":{"line":14,"column":178}},"13":{"start":{"line":14,"column":179},"end":{"line":14,"column":220}},"14":{"start":{"line":14,"column":221},"end":{"line":14,"column":441}},"15":{"start":{"line":14,"column":247},"end":{"line":14,"column":345}},"16":{"start":{"line":14,"column":253},"end":{"line":14,"column":278}},"17":{"start":{"line":14,"column":279},"end":{"line":14,"column":302}},"18":{"start":{"line":14,"column":321},"end":{"line":14,"column":335}},"19":{"start":{"line":14,"column":336},"end":{"line":14,"column":343}},"20":{"start":{"line":14,"column":346},"end":{"line":14,"column":439}},"21":{"start":{"line":14,"column":363},"end":{"line":14,"column":378}},"22":{"start":{"line":14,"column":388},"end":{"line":14,"column":437}},"23":{"start":{"line":14,"column":442},"end":{"line":14,"column":453}},"24":{"start":{"line":24,"column":0},"end":{"line":24,"column":49}},"25":{"start":{"line":26,"column":0},"end":{"line":26,"column":49}},"26":{"start":{"line":28,"column":0},"end":{"line":28,"column":61}},"27":{"start":{"line":30,"column":0},"end":{"line":30,"column":12}},"28":{"start":{"line":32,"column":0},"end":{"line":34,"column":1}},"29":{"start":{"line":33,"column":2},"end":{"line":33,"column":40}}},"branchMap":{"1":{"line":12,"type":"cond-expr","locations":[{"start":{"line":12,"column":70},"end":{"line":12,"column":73}},{"start":{"line":12,"column":76},"end":{"line":12,"column":94}}]},"2":{"line":12,"type":"binary-expr","locations":[{"start":{"line":12,"column":46},"end":{"line":12,"column":49}},{"start":{"line":12,"column":53},"end":{"line":12,"column":67}}]},"3":{"line":14,"type":"if","locations":[{"start":{"line":14,"column":346},"end":{"line":14,"column":346}},{"start":{"line":14,"column":346},"end":{"line":14,"column":346}}]}},"code":["Object.defineProperty(exports, '__esModule', {","  value: true","});","","var getServerVersion = _asyncToGenerator(function* () {","  return (0, _nuclideVersion.getVersion)();","});","","exports.getServerVersion = getServerVersion;","exports.shutdownServer = shutdownServer;","","function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }","","function _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { var callNext = step.bind(null, 'next'); var callThrow = step.bind(null, 'throw'); function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(callNext, callThrow); } } callNext(); }); }; }","","/*"," * Copyright (c) 2015-present, Facebook, Inc."," * All rights reserved."," *"," * This source code is licensed under the license found in the LICENSE file in"," * the root directory of this source tree."," */","","var _nuclideVersion = require('nuclide-version');","","var _NuclideServer = require('../NuclideServer');","","var _NuclideServer2 = _interopRequireDefault(_NuclideServer);","","'use babel';","","function shutdownServer() {","  _NuclideServer2['default'].shutdown();","}","//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi92YXIvZm9sZGVycy94Zi9yc3BoNF9jNTczMTVyczU3eHhzZHNrcnhudjM2dDAvVC90bXBwZmw1Mm5wdWJsaXNoX3BhY2thZ2VzL25wbS9udWNsaWRlLXNlcnZlci9saWIvc2VydmljZXMvSW5mb1NlcnZpY2UuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7OztJQWNzQixnQkFBZ0IscUJBQS9CLGFBQW1EO0FBQ3hELFNBQU8sb0JBSkQsVUFBVSxHQUlHLENBQUM7Q0FDckI7Ozs7Ozs7Ozs7Ozs7Ozs7OzhCQUx3QixpQkFBaUI7OzZCQUNoQixrQkFBa0I7Ozs7QUFaNUMsV0FBVyxDQUFDOztBQWtCTCxTQUFTLGNBQWMsR0FBUztBQUNyQyw2QkFBYyxRQUFRLEVBQUUsQ0FBQztDQUMxQiIsImZpbGUiOiIvdmFyL2ZvbGRlcnMveGYvcnNwaDRfYzU3MzE1cnM1N3h4c2Rza3J4bnYzNnQwL1QvdG1wcGZsNTJucHVibGlzaF9wYWNrYWdlcy9ucG0vbnVjbGlkZS1zZXJ2ZXIvbGliL3NlcnZpY2VzL0luZm9TZXJ2aWNlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBiYWJlbCc7XG4vKiBAZmxvdyAqL1xuXG4vKlxuICogQ29weXJpZ2h0IChjKSAyMDE1LXByZXNlbnQsIEZhY2Vib29rLCBJbmMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIGxpY2Vuc2UgZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBpblxuICogdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKi9cblxuaW1wb3J0IHtnZXRWZXJzaW9ufSBmcm9tICdudWNsaWRlLXZlcnNpb24nO1xuaW1wb3J0IE51Y2xpZGVTZXJ2ZXIgZnJvbSAnLi4vTnVjbGlkZVNlcnZlcic7XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRTZXJ2ZXJWZXJzaW9uKCk6IFByb21pc2U8c3RyaW5nPiB7XG4gIHJldHVybiBnZXRWZXJzaW9uKCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzaHV0ZG93blNlcnZlcigpOiB2b2lkIHtcbiAgTnVjbGlkZVNlcnZlci5zaHV0ZG93bigpO1xufVxuIl19",""],"l":{"1":1,"5":1,"6":0,"9":1,"10":1,"12":1,"14":1,"24":1,"26":1,"28":1,"30":1,"32":1,"33":0}},"/home/travis/build/npmtest/node-npmtest-nuclide-server/node_modules/nuclide-server/lib/services/SourceControlService.js":{"path":"/home/travis/build/npmtest/node-npmtest-nuclide-server/node_modules/nuclide-server/lib/services/SourceControlService.js","s":{"1":1,"2":1,"3":1,"4":1,"5":0,"6":0,"7":0},"b":{},"f":{"1":0},"fnMap":{"1":{"name":"getHgRepository","line":21,"loc":{"start":{"line":21,"column":0},"end":{"line":21,"column":40}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":3,"column":3}},"2":{"start":{"line":18,"column":0},"end":{"line":18,"column":42}},"3":{"start":{"line":19,"column":0},"end":{"line":19,"column":12}},"4":{"start":{"line":21,"column":0},"end":{"line":27,"column":1}},"5":{"start":{"line":22,"column":2},"end":{"line":22,"column":59}},"6":{"start":{"line":24,"column":2},"end":{"line":24,"column":51}},"7":{"start":{"line":26,"column":2},"end":{"line":26,"column":58}}},"branchMap":{},"code":["Object.defineProperty(exports, '__esModule', {","  value: true","});","","/*"," * Copyright (c) 2015-present, Facebook, Inc."," * All rights reserved."," *"," * This source code is licensed under the license found in the LICENSE file in"," * the root directory of this source tree."," */","","/**"," * This is a workaround that should be removed when Atom 2.0 comes out."," * See t6913624."," */","","exports.getHgRepository = getHgRepository;","'use babel';","","function getHgRepository(directoryPath) {","  var _require = require('nuclide-source-control-helpers');","","  var findHgRepository = _require.findHgRepository;","","  return Promise.resolve(findHgRepository(directoryPath));","}","//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi92YXIvZm9sZGVycy94Zi9yc3BoNF9jNTczMTVyczU3eHhzZHNrcnhudjM2dDAvVC90bXBwZmw1Mm5wdWJsaXNoX3BhY2thZ2VzL25wbS9udWNsaWRlLXNlcnZlci9saWIvc2VydmljZXMvU291cmNlQ29udHJvbFNlcnZpY2UuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsV0FBVyxDQUFDOztBQWtCTCxTQUFTLGVBQWUsQ0FBQyxhQUFxQixFQUFvQztpQkFDNUQsT0FBTyxDQUFDLGdDQUFnQyxDQUFDOztNQUE3RCxnQkFBZ0IsWUFBaEIsZ0JBQWdCOztBQUN2QixTQUFPLE9BQU8sQ0FBQyxPQUFPLENBQUMsZ0JBQWdCLENBQUMsYUFBYSxDQUFDLENBQUMsQ0FBQztDQUN6RCIsImZpbGUiOiIvdmFyL2ZvbGRlcnMveGYvcnNwaDRfYzU3MzE1cnM1N3h4c2Rza3J4bnYzNnQwL1QvdG1wcGZsNTJucHVibGlzaF9wYWNrYWdlcy9ucG0vbnVjbGlkZS1zZXJ2ZXIvbGliL3NlcnZpY2VzL1NvdXJjZUNvbnRyb2xTZXJ2aWNlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBiYWJlbCc7XG4vKiBAZmxvdyAqL1xuXG4vKlxuICogQ29weXJpZ2h0IChjKSAyMDE1LXByZXNlbnQsIEZhY2Vib29rLCBJbmMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIGxpY2Vuc2UgZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBpblxuICogdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKi9cblxuLyoqXG4gKiBUaGlzIGlzIGEgd29ya2Fyb3VuZCB0aGF0IHNob3VsZCBiZSByZW1vdmVkIHdoZW4gQXRvbSAyLjAgY29tZXMgb3V0LlxuICogU2VlIHQ2OTEzNjI0LlxuICovXG5cbmltcG9ydCB0eXBlIHtIZ1JlcG9zaXRvcnlEZXNjcmlwdGlvbn0gZnJvbSAnbnVjbGlkZS1zb3VyY2UtY29udHJvbC1oZWxwZXJzL2xpYi9oZy1yZXBvc2l0b3J5JztcblxuZXhwb3J0IGZ1bmN0aW9uIGdldEhnUmVwb3NpdG9yeShkaXJlY3RvcnlQYXRoOiBzdHJpbmcpOiBQcm9taXNlPEhnUmVwb3NpdG9yeURlc2NyaXB0aW9uPiB7XG4gIGNvbnN0IHtmaW5kSGdSZXBvc2l0b3J5fSA9IHJlcXVpcmUoJ251Y2xpZGUtc291cmNlLWNvbnRyb2wtaGVscGVycycpO1xuICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGZpbmRIZ1JlcG9zaXRvcnkoZGlyZWN0b3J5UGF0aCkpO1xufVxuIl19",""],"l":{"1":1,"18":1,"19":1,"21":1,"22":0,"24":0,"26":0}},"/home/travis/build/npmtest/node-npmtest-nuclide-server/node_modules/nuclide-server/lib/NuclideClient.js":{"path":"/home/travis/build/npmtest/node-npmtest-nuclide-server/node_modules/nuclide-server/lib/NuclideClient.js","s":{"1":1,"2":1,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":1,"21":0,"22":0,"23":0,"24":0,"25":0,"26":1,"27":1,"28":1,"29":15,"30":15,"31":15,"32":15,"33":15,"34":15,"35":1,"36":1,"37":1,"38":1,"39":0,"40":1,"41":1,"42":2,"43":0,"44":0,"45":0,"46":0,"47":1,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":1,"58":0,"59":0,"60":1,"61":1,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":1,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0,"84":0,"85":0,"86":0,"87":0,"88":0,"89":0,"90":0,"91":0,"92":0,"93":0,"94":0,"95":0,"96":0,"97":0,"98":0,"99":0,"100":0,"101":0,"102":0,"103":0,"104":0,"105":0,"106":1,"107":1},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[15,15],"9":[15,0],"10":[1,0],"11":[0,1],"12":[0,0],"13":[0,0],"14":[0,0],"15":[0,0],"16":[0,0],"17":[0,0]},"f":{"1":1,"2":0,"3":0,"4":1,"5":1,"6":1,"7":2,"8":0,"9":0,"10":0,"11":0,"12":1,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0},"fnMap":{"1":{"name":"(anonymous_1)","line":15,"loc":{"start":{"line":15,"column":22},"end":{"line":15,"column":34}}},"2":{"name":"sliceIterator","line":15,"loc":{"start":{"line":15,"column":36},"end":{"line":15,"column":67}}},"3":{"name":"(anonymous_3)","line":15,"loc":{"start":{"line":15,"column":437},"end":{"line":15,"column":455}}},"4":{"name":"(anonymous_4)","line":17,"loc":{"start":{"line":17,"column":20},"end":{"line":17,"column":32}}},"5":{"name":"defineProperties","line":17,"loc":{"start":{"line":17,"column":34},"end":{"line":17,"column":75}}},"6":{"name":"(anonymous_6)","line":17,"loc":{"start":{"line":17,"column":358},"end":{"line":17,"column":406}}},"7":{"name":"_asyncToGenerator","line":19,"loc":{"start":{"line":19,"column":0},"end":{"line":19,"column":31}}},"8":{"name":"(anonymous_8)","line":19,"loc":{"start":{"line":19,"column":40},"end":{"line":19,"column":52}}},"9":{"name":"(anonymous_9)","line":19,"loc":{"start":{"line":19,"column":110},"end":{"line":19,"column":137}}},"10":{"name":"step","line":19,"loc":{"start":{"line":19,"column":221},"end":{"line":19,"column":245}}},"11":{"name":"_classCallCheck","line":21,"loc":{"start":{"line":21,"column":0},"end":{"line":21,"column":48}}},"12":{"name":"(anonymous_12)","line":23,"loc":{"start":{"line":23,"column":21},"end":{"line":23,"column":33}}},"13":{"name":"NuclideClient","line":24,"loc":{"start":{"line":24,"column":2},"end":{"line":24,"column":39}}},"14":{"name":"getID","line":37,"loc":{"start":{"line":37,"column":11},"end":{"line":37,"column":28}}},"15":{"name":"testConnection","line":45,"loc":{"start":{"line":45,"column":11},"end":{"line":45,"column":37}}},"16":{"name":"callRemoteFunction","line":52,"loc":{"start":{"line":52,"column":11},"end":{"line":52,"column":41}}},"17":{"name":"createRemoteObject","line":61,"loc":{"start":{"line":61,"column":11},"end":{"line":61,"column":41}}},"18":{"name":"callRemoteMethod","line":70,"loc":{"start":{"line":70,"column":11},"end":{"line":70,"column":39}}},"19":{"name":"disposeRemoteObject","line":79,"loc":{"start":{"line":79,"column":11},"end":{"line":79,"column":42}}},"20":{"name":"marshal","line":90,"loc":{"start":{"line":90,"column":11},"end":{"line":90,"column":30}}},"21":{"name":"unmarshal","line":97,"loc":{"start":{"line":97,"column":11},"end":{"line":97,"column":32}}},"22":{"name":"registerType","line":104,"loc":{"start":{"line":104,"column":11},"end":{"line":104,"column":35}}},"23":{"name":"makeRpc","line":115,"loc":{"start":{"line":115,"column":11},"end":{"line":115,"column":62}}},"24":{"name":"registerEventListener","line":129,"loc":{"start":{"line":129,"column":11},"end":{"line":129,"column":79}}},"25":{"name":"(anonymous_25)","line":138,"loc":{"start":{"line":138,"column":29},"end":{"line":138,"column":58}}},"26":{"name":"doSearchQuery","line":147,"loc":{"start":{"line":147,"column":11},"end":{"line":147,"column":66}}},"27":{"name":"(anonymous_27)","line":156,"loc":{"start":{"line":156,"column":29},"end":{"line":156,"column":55}}},"28":{"name":"close","line":173,"loc":{"start":{"line":173,"column":11},"end":{"line":173,"column":28}}}},"statementMap":{"1":{"start":{"line":15,"column":0},"end":{"line":15,"column":666}},"2":{"start":{"line":15,"column":36},"end":{"line":15,"column":429}},"3":{"start":{"line":15,"column":69},"end":{"line":15,"column":83}},"4":{"start":{"line":15,"column":84},"end":{"line":15,"column":98}},"5":{"start":{"line":15,"column":99},"end":{"line":15,"column":114}},"6":{"start":{"line":15,"column":115},"end":{"line":15,"column":134}},"7":{"start":{"line":15,"column":135},"end":{"line":15,"column":414}},"8":{"start":{"line":15,"column":141},"end":{"line":15,"column":284}},"9":{"start":{"line":15,"column":227},"end":{"line":15,"column":247}},"10":{"start":{"line":15,"column":248},"end":{"line":15,"column":282}},"11":{"start":{"line":15,"column":276},"end":{"line":15,"column":282}},"12":{"start":{"line":15,"column":301},"end":{"line":15,"column":311}},"13":{"start":{"line":15,"column":312},"end":{"line":15,"column":321}},"14":{"start":{"line":15,"column":334},"end":{"line":15,"column":412}},"15":{"start":{"line":15,"column":340},"end":{"line":15,"column":380}},"16":{"start":{"line":15,"column":365},"end":{"line":15,"column":380}},"17":{"start":{"line":15,"column":393},"end":{"line":15,"column":410}},"18":{"start":{"line":15,"column":401},"end":{"line":15,"column":410}},"19":{"start":{"line":15,"column":415},"end":{"line":15,"column":427}},"20":{"start":{"line":15,"column":430},"end":{"line":15,"column":660}},"21":{"start":{"line":15,"column":457},"end":{"line":15,"column":657}},"22":{"start":{"line":15,"column":483},"end":{"line":15,"column":494}},"23":{"start":{"line":15,"column":502},"end":{"line":15,"column":657}},"24":{"start":{"line":15,"column":540},"end":{"line":15,"column":569}},"25":{"start":{"line":15,"column":579},"end":{"line":15,"column":655}},"26":{"start":{"line":17,"column":0},"end":{"line":17,"column":566}},"27":{"start":{"line":17,"column":34},"end":{"line":17,"column":350}},"28":{"start":{"line":17,"column":77},"end":{"line":17,"column":348}},"29":{"start":{"line":17,"column":118},"end":{"line":17,"column":144}},"30":{"start":{"line":17,"column":145},"end":{"line":17,"column":200}},"31":{"start":{"line":17,"column":201},"end":{"line":17,"column":232}},"32":{"start":{"line":17,"column":233},"end":{"line":17,"column":287}},"33":{"start":{"line":17,"column":260},"end":{"line":17,"column":287}},"34":{"start":{"line":17,"column":288},"end":{"line":17,"column":346}},"35":{"start":{"line":17,"column":351},"end":{"line":17,"column":560}},"36":{"start":{"line":17,"column":408},"end":{"line":17,"column":476}},"37":{"start":{"line":17,"column":424},"end":{"line":17,"column":476}},"38":{"start":{"line":17,"column":477},"end":{"line":17,"column":537}},"39":{"start":{"line":17,"column":494},"end":{"line":17,"column":537}},"40":{"start":{"line":17,"column":538},"end":{"line":17,"column":557}},"41":{"start":{"line":19,"column":0},"end":{"line":19,"column":462}},"42":{"start":{"line":19,"column":33},"end":{"line":19,"column":460}},"43":{"start":{"line":19,"column":54},"end":{"line":19,"column":90}},"44":{"start":{"line":19,"column":91},"end":{"line":19,"column":457}},"45":{"start":{"line":19,"column":139},"end":{"line":19,"column":178}},"46":{"start":{"line":19,"column":179},"end":{"line":19,"column":220}},"47":{"start":{"line":19,"column":221},"end":{"line":19,"column":441}},"48":{"start":{"line":19,"column":247},"end":{"line":19,"column":345}},"49":{"start":{"line":19,"column":253},"end":{"line":19,"column":278}},"50":{"start":{"line":19,"column":279},"end":{"line":19,"column":302}},"51":{"start":{"line":19,"column":321},"end":{"line":19,"column":335}},"52":{"start":{"line":19,"column":336},"end":{"line":19,"column":343}},"53":{"start":{"line":19,"column":346},"end":{"line":19,"column":439}},"54":{"start":{"line":19,"column":363},"end":{"line":19,"column":378}},"55":{"start":{"line":19,"column":388},"end":{"line":19,"column":437}},"56":{"start":{"line":19,"column":442},"end":{"line":19,"column":453}},"57":{"start":{"line":21,"column":0},"end":{"line":21,"column":153}},"58":{"start":{"line":21,"column":50},"end":{"line":21,"column":151}},"59":{"start":{"line":21,"column":92},"end":{"line":21,"column":149}},"60":{"start":{"line":23,"column":0},"end":{"line":182,"column":5}},"61":{"start":{"line":24,"column":2},"end":{"line":33,"column":3}},"62":{"start":{"line":25,"column":4},"end":{"line":25,"column":90}},"63":{"start":{"line":27,"column":4},"end":{"line":27,"column":41}},"64":{"start":{"line":29,"column":4},"end":{"line":29,"column":18}},"65":{"start":{"line":30,"column":4},"end":{"line":30,"column":29}},"66":{"start":{"line":31,"column":4},"end":{"line":31,"column":28}},"67":{"start":{"line":32,"column":4},"end":{"line":32,"column":31}},"68":{"start":{"line":35,"column":2},"end":{"line":179,"column":6}},"69":{"start":{"line":38,"column":6},"end":{"line":38,"column":22}},"70":{"start":{"line":46,"column":6},"end":{"line":46,"column":44}},"71":{"start":{"line":53,"column":6},"end":{"line":55,"column":7}},"72":{"start":{"line":54,"column":8},"end":{"line":54,"column":37}},"73":{"start":{"line":57,"column":6},"end":{"line":57,"column":73}},"74":{"start":{"line":62,"column":6},"end":{"line":64,"column":7}},"75":{"start":{"line":63,"column":8},"end":{"line":63,"column":39}},"76":{"start":{"line":66,"column":6},"end":{"line":66,"column":73}},"77":{"start":{"line":71,"column":6},"end":{"line":73,"column":7}},"78":{"start":{"line":72,"column":8},"end":{"line":72,"column":39}},"79":{"start":{"line":75,"column":6},"end":{"line":75,"column":71}},"80":{"start":{"line":80,"column":6},"end":{"line":82,"column":7}},"81":{"start":{"line":81,"column":8},"end":{"line":81,"column":39}},"82":{"start":{"line":84,"column":6},"end":{"line":84,"column":74}},"83":{"start":{"line":91,"column":6},"end":{"line":91,"column":20}},"84":{"start":{"line":93,"column":6},"end":{"line":93,"column":77}},"85":{"start":{"line":98,"column":6},"end":{"line":98,"column":21}},"86":{"start":{"line":100,"column":6},"end":{"line":100,"column":81}},"87":{"start":{"line":105,"column":6},"end":{"line":105,"column":21}},"88":{"start":{"line":107,"column":6},"end":{"line":107,"column":84}},"89":{"start":{"line":116,"column":6},"end":{"line":116,"column":52}},"90":{"start":{"line":118,"column":6},"end":{"line":118,"column":68}},"91":{"start":{"line":120,"column":6},"end":{"line":120,"column":46}},"92":{"start":{"line":121,"column":6},"end":{"line":121,"column":45}},"93":{"start":{"line":123,"column":6},"end":{"line":125,"column":42}},"94":{"start":{"line":130,"column":6},"end":{"line":130,"column":86}},"95":{"start":{"line":139,"column":6},"end":{"line":143,"column":38}},"96":{"start":{"line":148,"column":6},"end":{"line":152,"column":54}},"97":{"start":{"line":157,"column":6},"end":{"line":157,"column":59}},"98":{"start":{"line":158,"column":6},"end":{"line":160,"column":7}},"99":{"start":{"line":159,"column":8},"end":{"line":159,"column":25}},"100":{"start":{"line":161,"column":6},"end":{"line":165,"column":54}},"101":{"start":{"line":167,"column":6},"end":{"line":167,"column":55}},"102":{"start":{"line":169,"column":6},"end":{"line":169,"column":23}},"103":{"start":{"line":174,"column":6},"end":{"line":177,"column":7}},"104":{"start":{"line":175,"column":8},"end":{"line":175,"column":30}},"105":{"start":{"line":176,"column":8},"end":{"line":176,"column":29}},"106":{"start":{"line":181,"column":2},"end":{"line":181,"column":23}},"107":{"start":{"line":184,"column":0},"end":{"line":184,"column":31}}},"branchMap":{"1":{"line":15,"type":"if","locations":[{"start":{"line":15,"column":248},"end":{"line":15,"column":248}},{"start":{"line":15,"column":248},"end":{"line":15,"column":248}}]},"2":{"line":15,"type":"binary-expr","locations":[{"start":{"line":15,"column":252},"end":{"line":15,"column":253}},{"start":{"line":15,"column":257},"end":{"line":15,"column":274}}]},"3":{"line":15,"type":"if","locations":[{"start":{"line":15,"column":340},"end":{"line":15,"column":340}},{"start":{"line":15,"column":340},"end":{"line":15,"column":340}}]},"4":{"line":15,"type":"binary-expr","locations":[{"start":{"line":15,"column":344},"end":{"line":15,"column":347}},{"start":{"line":15,"column":351},"end":{"line":15,"column":363}}]},"5":{"line":15,"type":"if","locations":[{"start":{"line":15,"column":393},"end":{"line":15,"column":393}},{"start":{"line":15,"column":393},"end":{"line":15,"column":393}}]},"6":{"line":15,"type":"if","locations":[{"start":{"line":15,"column":457},"end":{"line":15,"column":457}},{"start":{"line":15,"column":457},"end":{"line":15,"column":457}}]},"7":{"line":15,"type":"if","locations":[{"start":{"line":15,"column":502},"end":{"line":15,"column":502}},{"start":{"line":15,"column":502},"end":{"line":15,"column":502}}]},"8":{"line":17,"type":"binary-expr","locations":[{"start":{"line":17,"column":169},"end":{"line":17,"column":190}},{"start":{"line":17,"column":194},"end":{"line":17,"column":199}}]},"9":{"line":17,"type":"if","locations":[{"start":{"line":17,"column":233},"end":{"line":17,"column":233}},{"start":{"line":17,"column":233},"end":{"line":17,"column":233}}]},"10":{"line":17,"type":"if","locations":[{"start":{"line":17,"column":408},"end":{"line":17,"column":408}},{"start":{"line":17,"column":408},"end":{"line":17,"column":408}}]},"11":{"line":17,"type":"if","locations":[{"start":{"line":17,"column":477},"end":{"line":17,"column":477}},{"start":{"line":17,"column":477},"end":{"line":17,"column":477}}]},"12":{"line":19,"type":"if","locations":[{"start":{"line":19,"column":346},"end":{"line":19,"column":346}},{"start":{"line":19,"column":346},"end":{"line":19,"column":346}}]},"13":{"line":21,"type":"if","locations":[{"start":{"line":21,"column":50},"end":{"line":21,"column":50}},{"start":{"line":21,"column":50},"end":{"line":21,"column":50}}]},"14":{"line":25,"type":"cond-expr","locations":[{"start":{"line":25,"column":72},"end":{"line":25,"column":74}},{"start":{"line":25,"column":77},"end":{"line":25,"column":89}}]},"15":{"line":25,"type":"binary-expr","locations":[{"start":{"line":25,"column":18},"end":{"line":25,"column":39}},{"start":{"line":25,"column":43},"end":{"line":25,"column":69}}]},"16":{"line":158,"type":"if","locations":[{"start":{"line":158,"column":6},"end":{"line":158,"column":6}},{"start":{"line":158,"column":6},"end":{"line":158,"column":6}}]},"17":{"line":174,"type":"if","locations":[{"start":{"line":174,"column":6},"end":{"line":174,"column":6}},{"start":{"line":174,"column":6},"end":{"line":174,"column":6}}]}},"code":["","/*"," * Copyright (c) 2015-present, Facebook, Inc."," * All rights reserved."," *"," * This source code is licensed under the license found in the LICENSE file in"," * the root directory of this source tree."," */","","/**"," * This code implements the NuclideFs client.  It uses the request module to"," * make XHR requests to the NuclideFS service.  It is a Promise based API."," */","","var _slicedToArray = (function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i['return']) _i['return'](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError('Invalid attempt to destructure non-iterable instance'); } }; })();","","var _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();","","function _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { var callNext = step.bind(null, 'next'); var callThrow = step.bind(null, 'throw'); function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(callNext, callThrow); } } callNext(); }); }; }","","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }","","var NuclideClient = (function () {","  function NuclideClient(id, eventbus) {","    var options = arguments.length <= 2 || arguments[2] === undefined ? {} : arguments[2];","","    _classCallCheck(this, NuclideClient);","","    this._id = id;","    this.eventbus = eventbus;","    this._options = options;","    this._searchProviders = {};","  }","","  _createClass(NuclideClient, [{","    key: 'getID',","    value: function getID() {","      return this._id;","    }","","    // Resolves if the connection looks healthy.","    // Will reject quickly if the connection looks unhealthy.","  }, {","    key: 'testConnection',","    value: function testConnection() {","      return this.eventbus.testConnection();","    }","","    // Delegate RPC functions to the NuclideRemoteEventbus class.","  }, {","    key: 'callRemoteFunction',","    value: function callRemoteFunction() {","      for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {","        args[_key] = arguments[_key];","      }","","      return this.eventbus.callRemoteFunction.apply(this.eventbus, args);","    }","  }, {","    key: 'createRemoteObject',","    value: function createRemoteObject() {","      for (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {","        args[_key2] = arguments[_key2];","      }","","      return this.eventbus.createRemoteObject.apply(this.eventbus, args);","    }","  }, {","    key: 'callRemoteMethod',","    value: function callRemoteMethod() {","      for (var _len3 = arguments.length, args = Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {","        args[_key3] = arguments[_key3];","      }","","      return this.eventbus.callRemoteMethod.apply(this.eventbus, args);","    }","  }, {","    key: 'disposeRemoteObject',","    value: function disposeRemoteObject() {","      for (var _len4 = arguments.length, args = Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {","        args[_key4] = arguments[_key4];","      }","","      return this.eventbus.disposeRemoteObject.apply(this.eventbus, args);","    }","","    // Delegate marshalling to the NuclideRemoteEventbus class.","  }, {","    key: 'marshal',","    value: function marshal() {","      var _eventbus;","","      return (_eventbus = this.eventbus).marshal.apply(_eventbus, arguments);","    }","  }, {","    key: 'unmarshal',","    value: function unmarshal() {","      var _eventbus2;","","      return (_eventbus2 = this.eventbus).unmarshal.apply(_eventbus2, arguments);","    }","  }, {","    key: 'registerType',","    value: function registerType() {","      var _eventbus3;","","      return (_eventbus3 = this.eventbus).registerType.apply(_eventbus3, arguments);","    }","","    /**","     * Make rpc call to service given serviceUri in form of `$serviceName/$methodName` and args as arguments list.","     */","  }, {","    key: 'makeRpc',","    value: function makeRpc(serviceUri, args, serviceOptions) {","      var _serviceUri$split = serviceUri.split('/');","","      var _serviceUri$split2 = _slicedToArray(_serviceUri$split, 2);","","      var serviceName = _serviceUri$split2[0];","      var methodName = _serviceUri$split2[1];","","      return this.eventbus.callServiceFrameworkMethod(serviceName, methodName,","      /* methodArgs */args,","      /* serviceOptions */serviceOptions);","    }","  }, {","    key: 'registerEventListener',","    value: function registerEventListener(eventName, callback, serviceOptions) {","      return this.eventbus.registerEventListener(eventName, callback, serviceOptions);","    }","","    /**","     * Searches the contents of `directory` for paths mathing `query`.","     */","  }, {","    key: 'searchDirectory',","    value: _asyncToGenerator(function* (directory, query) {","      return yield this.eventbus.callMethod(","      /*serviceName*/'search',","      /*methodName*/'directory',","      /*methodArgs*/[directory, query],","      /*extraOptions*/{ json: true });","    })","  }, {","    key: 'doSearchQuery',","    value: function doSearchQuery(rootDirectory, provider, query) {","      return this.eventbus.callMethod(","      /*serviceName*/'search',","      /*methodName*/'query',","      /*methodArgs*/[rootDirectory, provider, query],","      /*extraOptions*/{ method: 'POST', json: true });","    }","  }, {","    key: 'getSearchProviders',","    value: _asyncToGenerator(function* (rootDirectory) {","      var providers = this._searchProviders[rootDirectory];","      if (providers) {","        return providers;","      }","      providers = yield this.eventbus.callMethod(","      /*serviceName*/'search',","      /*methodName*/'listProviders',","      /*methodArgs*/[rootDirectory],","      /*extraOptions*/{ method: 'POST', json: true });","","      this._searchProviders[rootDirectory] = providers;","","      return providers;","    })","  }, {","    key: 'close',","    value: function close() {","      if (this.eventbus) {","        this.eventbus.close();","        this.eventbus = null;","      }","    }","  }]);","","  return NuclideClient;","})();","","module.exports = NuclideClient;","//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi92YXIvZm9sZGVycy94Zi9yc3BoNF9jNTczMTVyczU3eHhzZHNrcnhudjM2dDAvVC90bXBwZmw1Mm5wdWJsaXNoX3BhY2thZ2VzL25wbS9udWNsaWRlLXNlcnZlci9saWIvTnVjbGlkZUNsaWVudC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxXQUFXLENBQUM7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0lBcUJOLGFBQWE7QUFLTixXQUxQLGFBQWEsQ0FLTCxFQUFVLEVBQUUsUUFBeUIsRUFBdUM7UUFBckMsT0FBOEIseURBQUcsRUFBRTs7MEJBTGxGLGFBQWE7O0FBTWYsUUFBSSxDQUFDLEdBQUcsR0FBRyxFQUFFLENBQUM7QUFDZCxRQUFJLENBQUMsUUFBUSxHQUFHLFFBQVEsQ0FBQztBQUN6QixRQUFJLENBQUMsUUFBUSxHQUFHLE9BQU8sQ0FBQztBQUN4QixRQUFJLENBQUMsZ0JBQWdCLEdBQUcsRUFBRSxDQUFDO0dBQzVCOztlQVZHLGFBQWE7O1dBWVosaUJBQUc7QUFDTixhQUFPLElBQUksQ0FBQyxHQUFHLENBQUM7S0FDakI7Ozs7OztXQUlhLDBCQUFrQjtBQUM5QixhQUFPLElBQUksQ0FBQyxRQUFRLENBQUMsY0FBYyxFQUFFLENBQUM7S0FDdkM7Ozs7O1dBR2lCLDhCQUEyQjt3Q0FBdkIsSUFBSTtBQUFKLFlBQUk7OztBQUN4QixhQUFPLElBQUksQ0FBQyxRQUFRLENBQUMsa0JBQWtCLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxRQUFRLEVBQUUsSUFBSSxDQUFDLENBQUM7S0FDcEU7OztXQUNpQiw4QkFBdUM7eUNBQW5DLElBQUk7QUFBSixZQUFJOzs7QUFDeEIsYUFBTyxJQUFJLENBQUMsUUFBUSxDQUFDLGtCQUFrQixDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsUUFBUSxFQUFFLElBQUksQ0FBQyxDQUFDO0tBQ3BFOzs7V0FDZSw0QkFBMkI7eUNBQXZCLElBQUk7QUFBSixZQUFJOzs7QUFDdEIsYUFBTyxJQUFJLENBQUMsUUFBUSxDQUFDLGdCQUFnQixDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsUUFBUSxFQUFFLElBQUksQ0FBQyxDQUFDO0tBQ2xFOzs7V0FDa0IsK0JBQXFDO3lDQUFqQyxJQUFJO0FBQUosWUFBSTs7O0FBQ3pCLGFBQU8sSUFBSSxDQUFDLFFBQVEsQ0FBQyxtQkFBbUIsQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLFFBQVEsRUFBRSxJQUFJLENBQUMsQ0FBQztLQUNyRTs7Ozs7V0FHTSxtQkFBZTs7O0FBQ3BCLGFBQU8sYUFBQSxJQUFJLENBQUMsUUFBUSxFQUFDLE9BQU8sTUFBQSxzQkFBUyxDQUFDO0tBQ3ZDOzs7V0FDUSxxQkFBZTs7O0FBQ3RCLGFBQU8sY0FBQSxJQUFJLENBQUMsUUFBUSxFQUFDLFNBQVMsTUFBQSx1QkFBUyxDQUFDO0tBQ3pDOzs7V0FDVyx3QkFBZ0I7OztBQUMxQixhQUFPLGNBQUEsSUFBSSxDQUFDLFFBQVEsRUFBQyxZQUFZLE1BQUEsdUJBQVMsQ0FBQztLQUM1Qzs7Ozs7OztXQUtNLGlCQUFDLFVBQWtCLEVBQUUsSUFBZ0IsRUFBRSxjQUFtQixFQUFnQjs4QkFDN0MsVUFBVSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUM7Ozs7VUFBaEQsV0FBVztVQUFFLFVBQVU7O0FBQzlCLGFBQU8sSUFBSSxDQUFDLFFBQVEsQ0FBQywwQkFBMEIsQ0FDN0MsV0FBVyxFQUNYLFVBQVU7c0JBQ08sSUFBSTswQkFDQSxjQUFjLENBQ3JDLENBQUM7S0FDRjs7O1dBRW9CLCtCQUFDLFNBQWlCLEVBQUUsUUFBdUMsRUFBRSxjQUFtQixFQUFjO0FBQ2pILGFBQU8sSUFBSSxDQUFDLFFBQVEsQ0FBQyxxQkFBcUIsQ0FBQyxTQUFTLEVBQUUsUUFBUSxFQUFFLGNBQWMsQ0FBQyxDQUFDO0tBQ2pGOzs7Ozs7OzZCQUtvQixXQUFDLFNBQWlCLEVBQUUsS0FBYSxFQUFnQjtBQUNwRSxhQUFPLE1BQU0sSUFBSSxDQUFDLFFBQVEsQ0FBQyxVQUFVO3FCQUNuQixRQUFRO29CQUNULFdBQVc7b0JBQ1gsQ0FBQyxTQUFTLEVBQUUsS0FBSyxDQUFDO3NCQUNoQixFQUFDLElBQUksRUFBRSxJQUFJLEVBQUMsQ0FDOUIsQ0FBQztLQUNIOzs7V0FFWSx1QkFBQyxhQUFvQixFQUFFLFFBQWdCLEVBQUUsS0FBYSxFQUFXO0FBQzVFLGFBQU8sSUFBSSxDQUFDLFFBQVEsQ0FBQyxVQUFVO3FCQUNiLFFBQVE7b0JBQ1QsT0FBTztvQkFDUCxDQUFDLGFBQWEsRUFBRSxRQUFRLEVBQUUsS0FBSyxDQUFDO3NCQUM5QixFQUFDLE1BQU0sRUFBRSxNQUFNLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBQyxDQUM5QyxDQUFDO0tBQ0g7Ozs2QkFFdUIsV0FBQyxhQUFxQixFQUFpQztBQUM3RSxVQUFJLFNBQVMsR0FBRyxJQUFJLENBQUMsZ0JBQWdCLENBQUMsYUFBYSxDQUFDLENBQUM7QUFDckQsVUFBSSxTQUFTLEVBQUU7QUFDYixlQUFPLFNBQVMsQ0FBQztPQUNsQjtBQUNELGVBQVMsR0FBRyxNQUFNLElBQUksQ0FBQyxRQUFRLENBQUMsVUFBVTtxQkFDeEIsUUFBUTtvQkFDVCxlQUFlO29CQUNmLENBQUMsYUFBYSxDQUFDO3NCQUNiLEVBQUMsTUFBTSxFQUFFLE1BQU0sRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFDLENBQzlDLENBQUM7O0FBRUYsVUFBSSxDQUFDLGdCQUFnQixDQUFDLGFBQWEsQ0FBQyxHQUFHLFNBQVMsQ0FBQzs7QUFFakQsYUFBTyxTQUFTLENBQUM7S0FDbEI7OztXQUVJLGlCQUFVO0FBQ2IsVUFBSSxJQUFJLENBQUMsUUFBUSxFQUFFO0FBQ2pCLFlBQUksQ0FBQyxRQUFRLENBQUMsS0FBSyxFQUFFLENBQUM7QUFDdEIsWUFBSSxDQUFDLFFBQVEsR0FBRyxJQUFJLENBQUM7T0FDdEI7S0FDRjs7O1NBM0dHLGFBQWE7OztBQThHbkIsTUFBTSxDQUFDLE9BQU8sR0FBRyxhQUFhLENBQUMiLCJmaWxlIjoiL3Zhci9mb2xkZXJzL3hmL3JzcGg0X2M1NzMxNXJzNTd4eHNkc2tyeG52MzZ0MC9UL3RtcHBmbDUybnB1Ymxpc2hfcGFja2FnZXMvbnBtL251Y2xpZGUtc2VydmVyL2xpYi9OdWNsaWRlQ2xpZW50LmpzIiwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBiYWJlbCc7XG4vKiBAZmxvdyAqL1xuXG4vKlxuICogQ29weXJpZ2h0IChjKSAyMDE1LXByZXNlbnQsIEZhY2Vib29rLCBJbmMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIGxpY2Vuc2UgZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBpblxuICogdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKi9cblxuLyoqXG4gKiBUaGlzIGNvZGUgaW1wbGVtZW50cyB0aGUgTnVjbGlkZUZzIGNsaWVudC4gIEl0IHVzZXMgdGhlIHJlcXVlc3QgbW9kdWxlIHRvXG4gKiBtYWtlIFhIUiByZXF1ZXN0cyB0byB0aGUgTnVjbGlkZUZTIHNlcnZpY2UuICBJdCBpcyBhIFByb21pc2UgYmFzZWQgQVBJLlxuICovXG5cbnR5cGUgRXhlY1Jlc3VsdCA9IHtlcnJvcjogP0Vycm9yOyBzdGRvdXQ6IHN0cmluZzsgc3RkZXJyOiBzdHJpbmd9O1xudHlwZSBOdWNsaWRlQ2xpZW50T3B0aW9ucyA9IHtcbiAgY3dkOiA/c3RyaW5nO1xufTtcblxuY2xhc3MgTnVjbGlkZUNsaWVudCB7XG4gIF9pZDogc3RyaW5nO1xuICBfb3B0aW9uczogTnVjbGlkZUNsaWVudE9wdGlvbnM7XG4gIGV2ZW50YnVzOiBOdWNsaWRlRXZlbnRidXM7XG5cbiAgY29uc3RydWN0b3IoaWQ6IHN0cmluZywgZXZlbnRidXM6IE51Y2xpZGVFdmVudGJ1cywgb3B0aW9uczogP051Y2xpZGVDbGllbnRPcHRpb25zID0ge30pIHtcbiAgICB0aGlzLl9pZCA9IGlkO1xuICAgIHRoaXMuZXZlbnRidXMgPSBldmVudGJ1cztcbiAgICB0aGlzLl9vcHRpb25zID0gb3B0aW9ucztcbiAgICB0aGlzLl9zZWFyY2hQcm92aWRlcnMgPSB7fTtcbiAgfVxuXG4gIGdldElEKCkge1xuICAgIHJldHVybiB0aGlzLl9pZDtcbiAgfVxuXG4gIC8vIFJlc29sdmVzIGlmIHRoZSBjb25uZWN0aW9uIGxvb2tzIGhlYWx0aHkuXG4gIC8vIFdpbGwgcmVqZWN0IHF1aWNrbHkgaWYgdGhlIGNvbm5lY3Rpb24gbG9va3MgdW5oZWFsdGh5LlxuICB0ZXN0Q29ubmVjdGlvbigpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICByZXR1cm4gdGhpcy5ldmVudGJ1cy50ZXN0Q29ubmVjdGlvbigpO1xuICB9XG5cbiAgLy8gRGVsZWdhdGUgUlBDIGZ1bmN0aW9ucyB0byB0aGUgTnVjbGlkZVJlbW90ZUV2ZW50YnVzIGNsYXNzLlxuICBjYWxsUmVtb3RlRnVuY3Rpb24oLi4uYXJnczogQXJyYXk8YW55Pik6IGFueSB7XG4gICAgcmV0dXJuIHRoaXMuZXZlbnRidXMuY2FsbFJlbW90ZUZ1bmN0aW9uLmFwcGx5KHRoaXMuZXZlbnRidXMsIGFyZ3MpO1xuICB9XG4gIGNyZWF0ZVJlbW90ZU9iamVjdCguLi5hcmdzOiBBcnJheTxhbnk+KTogUHJvbWlzZTxudW1iZXI+IHtcbiAgICByZXR1cm4gdGhpcy5ldmVudGJ1cy5jcmVhdGVSZW1vdGVPYmplY3QuYXBwbHkodGhpcy5ldmVudGJ1cywgYXJncyk7XG4gIH1cbiAgY2FsbFJlbW90ZU1ldGhvZCguLi5hcmdzOiBBcnJheTxhbnk+KTogYW55IHtcbiAgICByZXR1cm4gdGhpcy5ldmVudGJ1cy5jYWxsUmVtb3RlTWV0aG9kLmFwcGx5KHRoaXMuZXZlbnRidXMsIGFyZ3MpO1xuICB9XG4gIGRpc3Bvc2VSZW1vdGVPYmplY3QoLi4uYXJnczogQXJyYXk8YW55Pik6IFByb21pc2U8dm9pZD4ge1xuICAgIHJldHVybiB0aGlzLmV2ZW50YnVzLmRpc3Bvc2VSZW1vdGVPYmplY3QuYXBwbHkodGhpcy5ldmVudGJ1cywgYXJncyk7XG4gIH1cblxuICAvLyBEZWxlZ2F0ZSBtYXJzaGFsbGluZyB0byB0aGUgTnVjbGlkZVJlbW90ZUV2ZW50YnVzIGNsYXNzLlxuICBtYXJzaGFsKC4uLmFyZ3MpOiBhbnkge1xuICAgIHJldHVybiB0aGlzLmV2ZW50YnVzLm1hcnNoYWwoLi4uYXJncyk7XG4gIH1cbiAgdW5tYXJzaGFsKC4uLmFyZ3MpOiBhbnkge1xuICAgIHJldHVybiB0aGlzLmV2ZW50YnVzLnVubWFyc2hhbCguLi5hcmdzKTtcbiAgfVxuICByZWdpc3RlclR5cGUoLi4uYXJncyk6IHZvaWQge1xuICAgIHJldHVybiB0aGlzLmV2ZW50YnVzLnJlZ2lzdGVyVHlwZSguLi5hcmdzKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBNYWtlIHJwYyBjYWxsIHRvIHNlcnZpY2UgZ2l2ZW4gc2VydmljZVVyaSBpbiBmb3JtIG9mIGAkc2VydmljZU5hbWUvJG1ldGhvZE5hbWVgIGFuZCBhcmdzIGFzIGFyZ3VtZW50cyBsaXN0LlxuICAgKi9cbiAgbWFrZVJwYyhzZXJ2aWNlVXJpOiBzdHJpbmcsIGFyZ3M6IEFycmF5PGFueT4sIHNlcnZpY2VPcHRpb25zOiBhbnkpOiBQcm9taXNlPGFueT4ge1xuICAgIGNvbnN0IFtzZXJ2aWNlTmFtZSwgbWV0aG9kTmFtZV0gPSBzZXJ2aWNlVXJpLnNwbGl0KCcvJyk7XG4gICAgcmV0dXJuIHRoaXMuZXZlbnRidXMuY2FsbFNlcnZpY2VGcmFtZXdvcmtNZXRob2QoXG4gICAgICBzZXJ2aWNlTmFtZSxcbiAgICAgIG1ldGhvZE5hbWUsXG4gICAgICAvKiBtZXRob2RBcmdzICovIGFyZ3MsXG4gICAgICAvKiBzZXJ2aWNlT3B0aW9ucyAqLyBzZXJ2aWNlT3B0aW9uc1xuICAgKTtcbiAgfVxuXG4gIHJlZ2lzdGVyRXZlbnRMaXN0ZW5lcihldmVudE5hbWU6IHN0cmluZywgY2FsbGJhY2s6ICguLi5hcmdzOiBBcnJheTxhbnk+KSA9PiB2b2lkLCBzZXJ2aWNlT3B0aW9uczogYW55KTogRGlzcG9zYWJsZSB7XG4gICAgcmV0dXJuIHRoaXMuZXZlbnRidXMucmVnaXN0ZXJFdmVudExpc3RlbmVyKGV2ZW50TmFtZSwgY2FsbGJhY2ssIHNlcnZpY2VPcHRpb25zKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZWFyY2hlcyB0aGUgY29udGVudHMgb2YgYGRpcmVjdG9yeWAgZm9yIHBhdGhzIG1hdGhpbmcgYHF1ZXJ5YC5cbiAgICovXG4gIGFzeW5jIHNlYXJjaERpcmVjdG9yeShkaXJlY3Rvcnk6IHN0cmluZywgcXVlcnk6IHN0cmluZyk6IFByb21pc2U8YW55PiB7XG4gICAgcmV0dXJuIGF3YWl0IHRoaXMuZXZlbnRidXMuY2FsbE1ldGhvZChcbiAgICAgIC8qc2VydmljZU5hbWUqLyAnc2VhcmNoJyxcbiAgICAgIC8qbWV0aG9kTmFtZSovICdkaXJlY3RvcnknLFxuICAgICAgLyptZXRob2RBcmdzKi8gW2RpcmVjdG9yeSwgcXVlcnldLFxuICAgICAgLypleHRyYU9wdGlvbnMqLyB7anNvbjogdHJ1ZX1cbiAgICApO1xuICB9XG5cbiAgZG9TZWFyY2hRdWVyeShyb290RGlyZWN0b3J5OnN0cmluZywgcHJvdmlkZXI6IHN0cmluZywgcXVlcnk6IHN0cmluZyk6IFByb21pc2Uge1xuICAgIHJldHVybiB0aGlzLmV2ZW50YnVzLmNhbGxNZXRob2QoXG4gICAgICAvKnNlcnZpY2VOYW1lKi8gJ3NlYXJjaCcsXG4gICAgICAvKm1ldGhvZE5hbWUqLyAncXVlcnknLFxuICAgICAgLyptZXRob2RBcmdzKi8gW3Jvb3REaXJlY3RvcnksIHByb3ZpZGVyLCBxdWVyeV0sXG4gICAgICAvKmV4dHJhT3B0aW9ucyovIHttZXRob2Q6ICdQT1NUJywganNvbjogdHJ1ZX1cbiAgICApO1xuICB9XG5cbiAgYXN5bmMgZ2V0U2VhcmNoUHJvdmlkZXJzKHJvb3REaXJlY3Rvcnk6IHN0cmluZyk6IFByb21pc2U8QXJyYXk8e25hbWU6c3RyaW5nfT4+IHtcbiAgICBsZXQgcHJvdmlkZXJzID0gdGhpcy5fc2VhcmNoUHJvdmlkZXJzW3Jvb3REaXJlY3RvcnldO1xuICAgIGlmIChwcm92aWRlcnMpIHtcbiAgICAgIHJldHVybiBwcm92aWRlcnM7XG4gICAgfVxuICAgIHByb3ZpZGVycyA9IGF3YWl0IHRoaXMuZXZlbnRidXMuY2FsbE1ldGhvZChcbiAgICAgIC8qc2VydmljZU5hbWUqLyAnc2VhcmNoJyxcbiAgICAgIC8qbWV0aG9kTmFtZSovICdsaXN0UHJvdmlkZXJzJyxcbiAgICAgIC8qbWV0aG9kQXJncyovIFtyb290RGlyZWN0b3J5XSxcbiAgICAgIC8qZXh0cmFPcHRpb25zKi8ge21ldGhvZDogJ1BPU1QnLCBqc29uOiB0cnVlfVxuICAgICk7XG5cbiAgICB0aGlzLl9zZWFyY2hQcm92aWRlcnNbcm9vdERpcmVjdG9yeV0gPSBwcm92aWRlcnM7XG5cbiAgICByZXR1cm4gcHJvdmlkZXJzO1xuICB9XG5cbiAgY2xvc2UoKSA6IHZvaWQge1xuICAgIGlmICh0aGlzLmV2ZW50YnVzKSB7XG4gICAgICB0aGlzLmV2ZW50YnVzLmNsb3NlKCk7XG4gICAgICB0aGlzLmV2ZW50YnVzID0gbnVsbDtcbiAgICB9XG4gIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBOdWNsaWRlQ2xpZW50O1xuIl19",""],"l":{"15":1,"17":15,"19":2,"21":1,"23":1,"24":1,"25":0,"27":0,"29":0,"30":0,"31":0,"32":0,"35":1,"38":0,"46":0,"53":0,"54":0,"57":0,"62":0,"63":0,"66":0,"71":0,"72":0,"75":0,"80":0,"81":0,"84":0,"91":0,"93":0,"98":0,"100":0,"105":0,"107":0,"116":0,"118":0,"120":0,"121":0,"123":0,"130":0,"139":0,"148":0,"157":0,"158":0,"159":0,"161":0,"167":0,"169":0,"174":0,"175":0,"176":0,"181":1,"184":1}},"/home/travis/build/npmtest/node-npmtest-nuclide-server/node_modules/nuclide-server/lib/NuclideLocalEventbus.js":{"path":"/home/travis/build/npmtest/node-npmtest-nuclide-server/node_modules/nuclide-server/lib/NuclideLocalEventbus.js","s":{"1":1,"2":1,"3":1,"4":4,"5":4,"6":4,"7":4,"8":4,"9":4,"10":1,"11":1,"12":1,"13":1,"14":0,"15":1,"16":1,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":1,"42":1,"43":0,"44":0,"45":0,"46":0,"47":1,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":1,"58":0,"59":0,"60":1,"61":1,"62":0,"63":1,"64":1,"65":1,"66":1,"67":1,"68":1,"69":1,"70":1,"71":1,"72":1,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0,"84":0,"85":0,"86":0,"87":0,"88":0,"89":0,"90":0,"91":0,"92":0,"93":0,"94":1,"95":0,"96":0,"97":0,"98":0,"99":0,"100":0,"101":0,"102":0,"103":0,"104":0,"105":0,"106":0,"107":0,"108":0,"109":0,"110":0,"111":1,"112":1},"b":{"1":[4,4],"2":[4,0],"3":[1,0],"4":[0,1],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,1],"13":[1,0],"14":[1,1],"15":[1,0],"16":[1,0],"17":[0,0],"18":[0,0],"19":[0,0],"20":[0,0],"21":[0,0],"22":[0,0]},"f":{"1":1,"2":1,"3":1,"4":0,"5":1,"6":0,"7":0,"8":0,"9":0,"10":1,"11":1,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0},"fnMap":{"1":{"name":"(anonymous_1)","line":10,"loc":{"start":{"line":10,"column":20},"end":{"line":10,"column":32}}},"2":{"name":"defineProperties","line":10,"loc":{"start":{"line":10,"column":34},"end":{"line":10,"column":75}}},"3":{"name":"(anonymous_3)","line":10,"loc":{"start":{"line":10,"column":358},"end":{"line":10,"column":406}}},"4":{"name":"get","line":12,"loc":{"start":{"line":12,"column":11},"end":{"line":12,"column":39}}},"5":{"name":"_asyncToGenerator","line":14,"loc":{"start":{"line":14,"column":0},"end":{"line":14,"column":31}}},"6":{"name":"(anonymous_6)","line":14,"loc":{"start":{"line":14,"column":40},"end":{"line":14,"column":52}}},"7":{"name":"(anonymous_7)","line":14,"loc":{"start":{"line":14,"column":110},"end":{"line":14,"column":137}}},"8":{"name":"step","line":14,"loc":{"start":{"line":14,"column":221},"end":{"line":14,"column":245}}},"9":{"name":"_classCallCheck","line":16,"loc":{"start":{"line":16,"column":0},"end":{"line":16,"column":48}}},"10":{"name":"_inherits","line":18,"loc":{"start":{"line":18,"column":0},"end":{"line":18,"column":41}}},"11":{"name":"(anonymous_11)","line":28,"loc":{"start":{"line":28,"column":28},"end":{"line":28,"column":53}}},"12":{"name":"NuclideLocalEventbus","line":31,"loc":{"start":{"line":31,"column":2},"end":{"line":31,"column":34}}},"13":{"name":"(anonymous_13)","line":44,"loc":{"start":{"line":44,"column":34},"end":{"line":44,"column":58}}},"14":{"name":"(anonymous_14)","line":55,"loc":{"start":{"line":55,"column":34},"end":{"line":55,"column":58}}},"15":{"name":"testConnection","line":76,"loc":{"start":{"line":76,"column":11},"end":{"line":76,"column":37}}},"16":{"name":"(anonymous_16)","line":81,"loc":{"start":{"line":81,"column":29},"end":{"line":81,"column":91}}},"17":{"name":"callService","line":93,"loc":{"start":{"line":93,"column":11},"end":{"line":93,"column":51}}},"18":{"name":"close","line":102,"loc":{"start":{"line":102,"column":11},"end":{"line":102,"column":28}}},"19":{"name":"(anonymous_19)","line":105,"loc":{"start":{"line":105,"column":36},"end":{"line":105,"column":60}}}},"statementMap":{"1":{"start":{"line":10,"column":0},"end":{"line":10,"column":566}},"2":{"start":{"line":10,"column":34},"end":{"line":10,"column":350}},"3":{"start":{"line":10,"column":77},"end":{"line":10,"column":348}},"4":{"start":{"line":10,"column":118},"end":{"line":10,"column":144}},"5":{"start":{"line":10,"column":145},"end":{"line":10,"column":200}},"6":{"start":{"line":10,"column":201},"end":{"line":10,"column":232}},"7":{"start":{"line":10,"column":233},"end":{"line":10,"column":287}},"8":{"start":{"line":10,"column":260},"end":{"line":10,"column":287}},"9":{"start":{"line":10,"column":288},"end":{"line":10,"column":346}},"10":{"start":{"line":10,"column":351},"end":{"line":10,"column":560}},"11":{"start":{"line":10,"column":408},"end":{"line":10,"column":476}},"12":{"start":{"line":10,"column":424},"end":{"line":10,"column":476}},"13":{"start":{"line":10,"column":477},"end":{"line":10,"column":537}},"14":{"start":{"line":10,"column":494},"end":{"line":10,"column":537}},"15":{"start":{"line":10,"column":538},"end":{"line":10,"column":557}},"16":{"start":{"line":12,"column":0},"end":{"line":12,"column":670}},"17":{"start":{"line":12,"column":41},"end":{"line":12,"column":59}},"18":{"start":{"line":12,"column":60},"end":{"line":12,"column":667}},"19":{"start":{"line":12,"column":71},"end":{"line":12,"column":667}},"20":{"start":{"line":12,"column":88},"end":{"line":12,"column":137}},"21":{"start":{"line":12,"column":138},"end":{"line":12,"column":173}},"22":{"start":{"line":12,"column":174},"end":{"line":12,"column":189}},"23":{"start":{"line":12,"column":190},"end":{"line":12,"column":239}},"24":{"start":{"line":12,"column":211},"end":{"line":12,"column":239}},"25":{"start":{"line":12,"column":240},"end":{"line":12,"column":301}},"26":{"start":{"line":12,"column":302},"end":{"line":12,"column":665}},"27":{"start":{"line":12,"column":328},"end":{"line":12,"column":371}},"28":{"start":{"line":12,"column":372},"end":{"line":12,"column":504}},"29":{"start":{"line":12,"column":395},"end":{"line":12,"column":412}},"30":{"start":{"line":12,"column":422},"end":{"line":12,"column":435}},"31":{"start":{"line":12,"column":436},"end":{"line":12,"column":451}},"32":{"start":{"line":12,"column":452},"end":{"line":12,"column":467}},"33":{"start":{"line":12,"column":468},"end":{"line":12,"column":482}},"34":{"start":{"line":12,"column":483},"end":{"line":12,"column":502}},"35":{"start":{"line":12,"column":512},"end":{"line":12,"column":665}},"36":{"start":{"line":12,"column":535},"end":{"line":12,"column":553}},"37":{"start":{"line":12,"column":563},"end":{"line":12,"column":585}},"38":{"start":{"line":12,"column":586},"end":{"line":12,"column":633}},"39":{"start":{"line":12,"column":614},"end":{"line":12,"column":631}},"40":{"start":{"line":12,"column":634},"end":{"line":12,"column":663}},"41":{"start":{"line":14,"column":0},"end":{"line":14,"column":462}},"42":{"start":{"line":14,"column":33},"end":{"line":14,"column":460}},"43":{"start":{"line":14,"column":54},"end":{"line":14,"column":90}},"44":{"start":{"line":14,"column":91},"end":{"line":14,"column":457}},"45":{"start":{"line":14,"column":139},"end":{"line":14,"column":178}},"46":{"start":{"line":14,"column":179},"end":{"line":14,"column":220}},"47":{"start":{"line":14,"column":221},"end":{"line":14,"column":441}},"48":{"start":{"line":14,"column":247},"end":{"line":14,"column":345}},"49":{"start":{"line":14,"column":253},"end":{"line":14,"column":278}},"50":{"start":{"line":14,"column":279},"end":{"line":14,"column":302}},"51":{"start":{"line":14,"column":321},"end":{"line":14,"column":335}},"52":{"start":{"line":14,"column":336},"end":{"line":14,"column":343}},"53":{"start":{"line":14,"column":346},"end":{"line":14,"column":439}},"54":{"start":{"line":14,"column":363},"end":{"line":14,"column":378}},"55":{"start":{"line":14,"column":388},"end":{"line":14,"column":437}},"56":{"start":{"line":14,"column":442},"end":{"line":14,"column":453}},"57":{"start":{"line":16,"column":0},"end":{"line":16,"column":153}},"58":{"start":{"line":16,"column":50},"end":{"line":16,"column":151}},"59":{"start":{"line":16,"column":92},"end":{"line":16,"column":149}},"60":{"start":{"line":18,"column":0},"end":{"line":18,"column":494}},"61":{"start":{"line":18,"column":43},"end":{"line":18,"column":208}},"62":{"start":{"line":18,"column":106},"end":{"line":18,"column":206}},"63":{"start":{"line":18,"column":209},"end":{"line":18,"column":373}},"64":{"start":{"line":18,"column":374},"end":{"line":18,"column":492}},"65":{"start":{"line":18,"column":390},"end":{"line":18,"column":492}},"66":{"start":{"line":20,"column":0},"end":{"line":20,"column":33}},"67":{"start":{"line":22,"column":0},"end":{"line":22,"column":41}},"68":{"start":{"line":24,"column":0},"end":{"line":24,"column":36}},"69":{"start":{"line":26,"column":0},"end":{"line":26,"column":104}},"70":{"start":{"line":28,"column":0},"end":{"line":118,"column":17}},"71":{"start":{"line":29,"column":2},"end":{"line":29,"column":49}},"72":{"start":{"line":31,"column":2},"end":{"line":72,"column":3}},"73":{"start":{"line":32,"column":4},"end":{"line":32,"column":21}},"74":{"start":{"line":34,"column":4},"end":{"line":34,"column":90}},"75":{"start":{"line":36,"column":4},"end":{"line":36,"column":48}},"76":{"start":{"line":38,"column":4},"end":{"line":38,"column":96}},"77":{"start":{"line":39,"column":4},"end":{"line":39,"column":28}},"78":{"start":{"line":40,"column":4},"end":{"line":40,"column":24}},"79":{"start":{"line":42,"column":4},"end":{"line":42,"column":74}},"80":{"start":{"line":44,"column":4},"end":{"line":52,"column":7}},"81":{"start":{"line":45,"column":6},"end":{"line":45,"column":44}},"82":{"start":{"line":47,"column":6},"end":{"line":47,"column":40}},"83":{"start":{"line":49,"column":6},"end":{"line":51,"column":7}},"84":{"start":{"line":50,"column":8},"end":{"line":50,"column":57}},"85":{"start":{"line":55,"column":4},"end":{"line":63,"column":7}},"86":{"start":{"line":56,"column":6},"end":{"line":56,"column":44}},"87":{"start":{"line":58,"column":6},"end":{"line":58,"column":44}},"88":{"start":{"line":60,"column":6},"end":{"line":62,"column":7}},"89":{"start":{"line":61,"column":8},"end":{"line":61,"column":26}},"90":{"start":{"line":65,"column":4},"end":{"line":65,"column":47}},"91":{"start":{"line":67,"column":4},"end":{"line":67,"column":40}},"92":{"start":{"line":70,"column":4},"end":{"line":70,"column":69}},"93":{"start":{"line":71,"column":4},"end":{"line":71,"column":71}},"94":{"start":{"line":74,"column":2},"end":{"line":115,"column":6}},"95":{"start":{"line":77,"column":6},"end":{"line":77,"column":31}},"96":{"start":{"line":83,"column":6},"end":{"line":83,"column":59}},"97":{"start":{"line":85,"column":6},"end":{"line":85,"column":46}},"98":{"start":{"line":86,"column":6},"end":{"line":88,"column":7}},"99":{"start":{"line":87,"column":8},"end":{"line":87,"column":92}},"100":{"start":{"line":89,"column":6},"end":{"line":89,"column":53}},"101":{"start":{"line":94,"column":6},"end":{"line":94,"column":56}},"102":{"start":{"line":95,"column":6},"end":{"line":97,"column":7}},"103":{"start":{"line":96,"column":8},"end":{"line":96,"column":71}},"104":{"start":{"line":98,"column":6},"end":{"line":98,"column":55}},"105":{"start":{"line":103,"column":6},"end":{"line":103,"column":24}},"106":{"start":{"line":105,"column":6},"end":{"line":113,"column":9}},"107":{"start":{"line":106,"column":8},"end":{"line":106,"column":46}},"108":{"start":{"line":108,"column":8},"end":{"line":108,"column":42}},"109":{"start":{"line":110,"column":8},"end":{"line":112,"column":9}},"110":{"start":{"line":111,"column":10},"end":{"line":111,"column":27}},"111":{"start":{"line":117,"column":2},"end":{"line":117,"column":30}},"112":{"start":{"line":120,"column":0},"end":{"line":120,"column":38}}},"branchMap":{"1":{"line":10,"type":"binary-expr","locations":[{"start":{"line":10,"column":169},"end":{"line":10,"column":190}},{"start":{"line":10,"column":194},"end":{"line":10,"column":199}}]},"2":{"line":10,"type":"if","locations":[{"start":{"line":10,"column":233},"end":{"line":10,"column":233}},{"start":{"line":10,"column":233},"end":{"line":10,"column":233}}]},"3":{"line":10,"type":"if","locations":[{"start":{"line":10,"column":408},"end":{"line":10,"column":408}},{"start":{"line":10,"column":408},"end":{"line":10,"column":408}}]},"4":{"line":10,"type":"if","locations":[{"start":{"line":10,"column":477},"end":{"line":10,"column":477}},{"start":{"line":10,"column":477},"end":{"line":10,"column":477}}]},"5":{"line":12,"type":"if","locations":[{"start":{"line":12,"column":190},"end":{"line":12,"column":190}},{"start":{"line":12,"column":190},"end":{"line":12,"column":190}}]},"6":{"line":12,"type":"if","locations":[{"start":{"line":12,"column":302},"end":{"line":12,"column":302}},{"start":{"line":12,"column":302},"end":{"line":12,"column":302}}]},"7":{"line":12,"type":"if","locations":[{"start":{"line":12,"column":372},"end":{"line":12,"column":372}},{"start":{"line":12,"column":372},"end":{"line":12,"column":372}}]},"8":{"line":12,"type":"if","locations":[{"start":{"line":12,"column":512},"end":{"line":12,"column":512}},{"start":{"line":12,"column":512},"end":{"line":12,"column":512}}]},"9":{"line":12,"type":"if","locations":[{"start":{"line":12,"column":586},"end":{"line":12,"column":586}},{"start":{"line":12,"column":586},"end":{"line":12,"column":586}}]},"10":{"line":14,"type":"if","locations":[{"start":{"line":14,"column":346},"end":{"line":14,"column":346}},{"start":{"line":14,"column":346},"end":{"line":14,"column":346}}]},"11":{"line":16,"type":"if","locations":[{"start":{"line":16,"column":50},"end":{"line":16,"column":50}},{"start":{"line":16,"column":50},"end":{"line":16,"column":50}}]},"12":{"line":18,"type":"if","locations":[{"start":{"line":18,"column":43},"end":{"line":18,"column":43}},{"start":{"line":18,"column":43},"end":{"line":18,"column":43}}]},"13":{"line":18,"type":"binary-expr","locations":[{"start":{"line":18,"column":47},"end":{"line":18,"column":79}},{"start":{"line":18,"column":83},"end":{"line":18,"column":102}}]},"14":{"line":18,"type":"binary-expr","locations":[{"start":{"line":18,"column":244},"end":{"line":18,"column":254}},{"start":{"line":18,"column":258},"end":{"line":18,"column":278}}]},"15":{"line":18,"type":"if","locations":[{"start":{"line":18,"column":374},"end":{"line":18,"column":374}},{"start":{"line":18,"column":374},"end":{"line":18,"column":374}}]},"16":{"line":18,"type":"cond-expr","locations":[{"start":{"line":18,"column":414},"end":{"line":18,"column":457}},{"start":{"line":18,"column":460},"end":{"line":18,"column":491}}]},"17":{"line":34,"type":"cond-expr","locations":[{"start":{"line":34,"column":72},"end":{"line":34,"column":74}},{"start":{"line":34,"column":77},"end":{"line":34,"column":89}}]},"18":{"line":34,"type":"binary-expr","locations":[{"start":{"line":34,"column":18},"end":{"line":34,"column":39}},{"start":{"line":34,"column":43},"end":{"line":34,"column":69}}]},"19":{"line":60,"type":"if","locations":[{"start":{"line":60,"column":6},"end":{"line":60,"column":6}},{"start":{"line":60,"column":6},"end":{"line":60,"column":6}}]},"20":{"line":86,"type":"if","locations":[{"start":{"line":86,"column":6},"end":{"line":86,"column":6}},{"start":{"line":86,"column":6},"end":{"line":86,"column":6}}]},"21":{"line":95,"type":"if","locations":[{"start":{"line":95,"column":6},"end":{"line":95,"column":6}},{"start":{"line":95,"column":6},"end":{"line":95,"column":6}}]},"22":{"line":110,"type":"if","locations":[{"start":{"line":110,"column":8},"end":{"line":110,"column":8}},{"start":{"line":110,"column":8},"end":{"line":110,"column":8}}]}},"code":["","/*"," * Copyright (c) 2015-present, Facebook, Inc."," * All rights reserved."," *"," * This source code is licensed under the license found in the LICENSE file in"," * the root directory of this source tree."," */","","var _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ('value' in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();","","var _get = function get(_x2, _x3, _x4) { var _again = true; _function: while (_again) { var object = _x2, property = _x3, receiver = _x4; desc = parent = getter = undefined; _again = false; if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { _x2 = parent; _x3 = property; _x4 = receiver; _again = true; continue _function; } } else if ('value' in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } } };","","function _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { var callNext = step.bind(null, 'next'); var callThrow = step.bind(null, 'throw'); function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(callNext, callThrow); } } callNext(); }); }; }","","function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }","","function _inherits(subClass, superClass) { if (typeof superClass !== 'function' && superClass !== null) { throw new TypeError('Super expression must either be null or a function, not ' + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }","","var _require = require('events');","","var EventEmitter = _require.EventEmitter;","","var _require2 = require('./config');","","var loadConfigsOfServiceWithoutServiceFramework = _require2.loadConfigsOfServiceWithoutServiceFramework;","","var NuclideLocalEventbus = (function (_EventEmitter) {","  _inherits(NuclideLocalEventbus, _EventEmitter);","","  function NuclideLocalEventbus() {","    var _this = this;","","    var options = arguments.length <= 0 || arguments[0] === undefined ? {} : arguments[0];","","    _classCallCheck(this, NuclideLocalEventbus);","","    _get(Object.getPrototypeOf(NuclideLocalEventbus.prototype), 'constructor', this).call(this);","    this._options = options;","    this._services = {};","","    this._enabledServices = loadConfigsOfServiceWithoutServiceFramework();","","    this._enabledServices.forEach(function (service_path) {","      var _require3 = require(service_path);","","      var services = _require3.services;","","      for (var serviceId in services) {","        _this._services[serviceId] = services[serviceId];","      }","    });","","    // Run initialize after all services registered if exists.","    this._enabledServices.forEach(function (service_path) {","      var _require4 = require(service_path);","","      var initialize = _require4.initialize;","","      if (initialize) {","        initialize(_this);","      }","    });","","    var _require5 = require('nuclide-commons');","","    var fsPromise = _require5.fsPromise;","","    // readFile and writeFile aren't exposed as services for performance optimization.","    this._services['/fs/readFile'] = { handler: fsPromise.readFile };","    this._services['/fs/writeFile'] = { handler: fsPromise.writeFile };","  }","","  _createClass(NuclideLocalEventbus, [{","    key: 'testConnection',","    value: function testConnection() {","      return Promise.resolve();","    }","  }, {","    key: 'callMethod',","    value: _asyncToGenerator(function* (serviceName, methodName, methodArgs, extraOptions) {","","      var serviceId = '/' + serviceName + '/' + methodName;","      // extend the default options with the extra options","      var service = this._services[serviceId];","      if (!service) {","        throw new Error('Cannot call a non registered local service with id: ' + serviceId);","      }","      return service.handler.apply(this, methodArgs);","    })","  }, {","    key: 'callService',","    value: function callService(serviceName, args) {","      var serviceFunction = this._services[serviceName];","      if (!serviceFunction) {","        throw Error('No service registered with name: ' + serviceName);","      }","      return serviceFunction.handler.apply(this, args);","    }","  }, {","    key: 'close',","    value: function close() {","      var _this2 = this;","","      this._enabledServices.forEach(function (service_path) {","        var _require6 = require(service_path);","","        var shutdown = _require6.shutdown;","","        if (shutdown) {","          shutdown(_this2);","        }","      });","    }","  }]);","","  return NuclideLocalEventbus;","})(EventEmitter);","","module.exports = NuclideLocalEventbus;","//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi92YXIvZm9sZGVycy94Zi9yc3BoNF9jNTczMTVyczU3eHhzZHNrcnhudjM2dDAvVC90bXBwZmw1Mm5wdWJsaXNoX3BhY2thZ2VzL25wbS9udWNsaWRlLXNlcnZlci9saWIvTnVjbGlkZUxvY2FsRXZlbnRidXMuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsV0FBVyxDQUFDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7OztlQVdXLE9BQU8sQ0FBQyxRQUFRLENBQUM7O0lBQWpDLFlBQVksWUFBWixZQUFZOztnQkFFbUMsT0FBTyxDQUFDLFVBQVUsQ0FBQzs7SUFBbEUsMkNBQTJDLGFBQTNDLDJDQUEyQzs7SUFJNUMsb0JBQW9CO1lBQXBCLG9CQUFvQjs7QUFDYixXQURQLG9CQUFvQixHQUNFOzs7UUFBZCxPQUFPLHlEQUFHLEVBQUU7OzBCQURwQixvQkFBb0I7O0FBRXRCLCtCQUZFLG9CQUFvQiw2Q0FFZDtBQUNSLFFBQUksQ0FBQyxRQUFRLEdBQUcsT0FBTyxDQUFDO0FBQ3hCLFFBQUksQ0FBQyxTQUFTLEdBQUcsRUFBRSxDQUFDOztBQUVwQixRQUFJLENBQUMsZ0JBQWdCLEdBQUcsMkNBQTJDLEVBQUUsQ0FBQzs7QUFFdEUsUUFBSSxDQUFDLGdCQUFnQixDQUFDLE9BQU8sQ0FBQyxVQUFDLFlBQVksRUFBSztzQkFDM0IsT0FBTyxDQUFDLFlBQVksQ0FBQzs7VUFBakMsUUFBUSxhQUFSLFFBQVE7O0FBQ2YsV0FBSyxJQUFNLFNBQVMsSUFBSSxRQUFRLEVBQUU7QUFDaEMsY0FBSyxTQUFTLENBQUMsU0FBUyxDQUFDLEdBQUcsUUFBUSxDQUFDLFNBQVMsQ0FBQyxDQUFDO09BQ2pEO0tBQ0YsQ0FBQyxDQUFDOzs7QUFHSCxRQUFJLENBQUMsZ0JBQWdCLENBQUMsT0FBTyxDQUFDLFVBQUMsWUFBWSxFQUFLO3NCQUN6QixPQUFPLENBQUMsWUFBWSxDQUFDOztVQUFuQyxVQUFVLGFBQVYsVUFBVTs7QUFDakIsVUFBSSxVQUFVLEVBQUU7QUFDZCxrQkFBVSxPQUFNLENBQUM7T0FDbEI7S0FDRixDQUFDLENBQUM7O29CQUVpQixPQUFPLENBQUMsaUJBQWlCLENBQUM7O1FBQXZDLFNBQVMsYUFBVCxTQUFTOzs7QUFHaEIsUUFBSSxDQUFDLFNBQVMsQ0FBQyxjQUFjLENBQUMsR0FBRyxFQUFDLE9BQU8sRUFBRSxTQUFTLENBQUMsUUFBUSxFQUFDLENBQUM7QUFDL0QsUUFBSSxDQUFDLFNBQVMsQ0FBQyxlQUFlLENBQUMsR0FBRyxFQUFDLE9BQU8sRUFBRSxTQUFTLENBQUMsU0FBUyxFQUFDLENBQUM7R0FDbEU7O2VBNUJHLG9CQUFvQjs7V0E4QlYsMEJBQWtCO0FBQzlCLGFBQU8sT0FBTyxDQUFDLE9BQU8sRUFBRSxDQUFDO0tBQzFCOzs7NkJBRWUsV0FDWixXQUFtQixFQUNuQixVQUFrQixFQUNsQixVQUF1QixFQUN2QixZQUFrQixFQUNHOztBQUV2QixVQUFNLFNBQVMsR0FBRyxHQUFHLEdBQUcsV0FBVyxHQUFHLEdBQUcsR0FBRyxVQUFVLENBQUM7O0FBRXZELFVBQU0sT0FBTyxHQUFHLElBQUksQ0FBQyxTQUFTLENBQUMsU0FBUyxDQUFDLENBQUM7QUFDMUMsVUFBSSxDQUFDLE9BQU8sRUFBRTtBQUNaLGNBQU0sSUFBSSxLQUFLLENBQUMsc0RBQXNELEdBQUcsU0FBUyxDQUFDLENBQUM7T0FDckY7QUFDRCxhQUFPLE9BQU8sQ0FBQyxPQUFPLENBQUMsS0FBSyxDQUFDLElBQUksRUFBRSxVQUFVLENBQUMsQ0FBQztLQUNoRDs7O1dBRVUscUJBQUMsV0FBbUIsRUFBRSxJQUFnQixFQUFnQjtBQUMvRCxVQUFNLGVBQWUsR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLFdBQVcsQ0FBQyxDQUFDO0FBQ3BELFVBQUksQ0FBQyxlQUFlLEVBQUU7QUFDcEIsY0FBTSxLQUFLLENBQUMsbUNBQW1DLEdBQUcsV0FBVyxDQUFDLENBQUM7T0FDaEU7QUFDRCxhQUFPLGVBQWUsQ0FBQyxPQUFPLENBQUMsS0FBSyxDQUFDLElBQUksRUFBRSxJQUFJLENBQUMsQ0FBQztLQUNsRDs7O1dBRUksaUJBQVM7OztBQUNaLFVBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxPQUFPLENBQUMsVUFBQyxZQUFZLEVBQUs7d0JBQzNCLE9BQU8sQ0FBQyxZQUFZLENBQUM7O1lBQWpDLFFBQVEsYUFBUixRQUFROztBQUNmLFlBQUksUUFBUSxFQUFFO0FBQ1osa0JBQVEsUUFBTSxDQUFDO1NBQ2hCO09BQ0YsQ0FBQyxDQUFDO0tBQ0o7OztTQWpFRyxvQkFBb0I7R0FBUyxZQUFZOztBQW9FL0MsTUFBTSxDQUFDLE9BQU8sR0FBRyxvQkFBb0IsQ0FBQyIsImZpbGUiOiIvdmFyL2ZvbGRlcnMveGYvcnNwaDRfYzU3MzE1cnM1N3h4c2Rza3J4bnYzNnQwL1QvdG1wcGZsNTJucHVibGlzaF9wYWNrYWdlcy9ucG0vbnVjbGlkZS1zZXJ2ZXIvbGliL051Y2xpZGVMb2NhbEV2ZW50YnVzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBiYWJlbCc7XG4vKiBAZmxvdyAqL1xuXG4vKlxuICogQ29weXJpZ2h0IChjKSAyMDE1LXByZXNlbnQsIEZhY2Vib29rLCBJbmMuXG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIGxpY2Vuc2UgZm91bmQgaW4gdGhlIExJQ0VOU0UgZmlsZSBpblxuICogdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKi9cblxuY29uc3Qge0V2ZW50RW1pdHRlcn0gPSByZXF1aXJlKCdldmVudHMnKTtcblxuY29uc3Qge2xvYWRDb25maWdzT2ZTZXJ2aWNlV2l0aG91dFNlcnZpY2VGcmFtZXdvcmt9ID0gcmVxdWlyZSgnLi9jb25maWcnKTtcblxuXG5cbmNsYXNzIE51Y2xpZGVMb2NhbEV2ZW50YnVzIGV4dGVuZHMgRXZlbnRFbWl0dGVyIHtcbiAgY29uc3RydWN0b3Iob3B0aW9ucyA9IHt9KSB7XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLl9vcHRpb25zID0gb3B0aW9ucztcbiAgICB0aGlzLl9zZXJ2aWNlcyA9IHt9O1xuXG4gICAgdGhpcy5fZW5hYmxlZFNlcnZpY2VzID0gbG9hZENvbmZpZ3NPZlNlcnZpY2VXaXRob3V0U2VydmljZUZyYW1ld29yaygpO1xuXG4gICAgdGhpcy5fZW5hYmxlZFNlcnZpY2VzLmZvckVhY2goKHNlcnZpY2VfcGF0aCkgPT4ge1xuICAgICAgY29uc3Qge3NlcnZpY2VzfSA9IHJlcXVpcmUoc2VydmljZV9wYXRoKTtcbiAgICAgIGZvciAoY29uc3Qgc2VydmljZUlkIGluIHNlcnZpY2VzKSB7XG4gICAgICAgIHRoaXMuX3NlcnZpY2VzW3NlcnZpY2VJZF0gPSBzZXJ2aWNlc1tzZXJ2aWNlSWRdO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgLy8gUnVuIGluaXRpYWxpemUgYWZ0ZXIgYWxsIHNlcnZpY2VzIHJlZ2lzdGVyZWQgaWYgZXhpc3RzLlxuICAgIHRoaXMuX2VuYWJsZWRTZXJ2aWNlcy5mb3JFYWNoKChzZXJ2aWNlX3BhdGgpID0+IHtcbiAgICAgIGNvbnN0IHtpbml0aWFsaXplfSA9IHJlcXVpcmUoc2VydmljZV9wYXRoKTtcbiAgICAgIGlmIChpbml0aWFsaXplKSB7XG4gICAgICAgIGluaXRpYWxpemUodGhpcyk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBjb25zdCB7ZnNQcm9taXNlfSA9IHJlcXVpcmUoJ251Y2xpZGUtY29tbW9ucycpO1xuXG4gICAgLy8gcmVhZEZpbGUgYW5kIHdyaXRlRmlsZSBhcmVuJ3QgZXhwb3NlZCBhcyBzZXJ2aWNlcyBmb3IgcGVyZm9ybWFuY2Ugb3B0aW1pemF0aW9uLlxuICAgIHRoaXMuX3NlcnZpY2VzWycvZnMvcmVhZEZpbGUnXSA9IHtoYW5kbGVyOiBmc1Byb21pc2UucmVhZEZpbGV9O1xuICAgIHRoaXMuX3NlcnZpY2VzWycvZnMvd3JpdGVGaWxlJ10gPSB7aGFuZGxlcjogZnNQcm9taXNlLndyaXRlRmlsZX07XG4gIH1cblxuICB0ZXN0Q29ubmVjdGlvbigpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gIH1cblxuICBhc3luYyBjYWxsTWV0aG9kKFxuICAgICAgc2VydmljZU5hbWU6IHN0cmluZyxcbiAgICAgIG1ldGhvZE5hbWU6IHN0cmluZyxcbiAgICAgIG1ldGhvZEFyZ3M6ID9BcnJheTxhbnk+LFxuICAgICAgZXh0cmFPcHRpb25zOiA/YW55XG4gICAgKTogUHJvbWlzZTxzdHJpbmd8YW55PiB7XG5cbiAgICBjb25zdCBzZXJ2aWNlSWQgPSAnLycgKyBzZXJ2aWNlTmFtZSArICcvJyArIG1ldGhvZE5hbWU7XG4gICAgLy8gZXh0ZW5kIHRoZSBkZWZhdWx0IG9wdGlvbnMgd2l0aCB0aGUgZXh0cmEgb3B0aW9uc1xuICAgIGNvbnN0IHNlcnZpY2UgPSB0aGlzLl9zZXJ2aWNlc1tzZXJ2aWNlSWRdO1xuICAgIGlmICghc2VydmljZSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgY2FsbCBhIG5vbiByZWdpc3RlcmVkIGxvY2FsIHNlcnZpY2Ugd2l0aCBpZDogJyArIHNlcnZpY2VJZCk7XG4gICAgfVxuICAgIHJldHVybiBzZXJ2aWNlLmhhbmRsZXIuYXBwbHkodGhpcywgbWV0aG9kQXJncyk7XG4gIH1cblxuICBjYWxsU2VydmljZShzZXJ2aWNlTmFtZTogc3RyaW5nLCBhcmdzOiBBcnJheTxhbnk+KTogUHJvbWlzZTxhbnk+IHtcbiAgICBjb25zdCBzZXJ2aWNlRnVuY3Rpb24gPSB0aGlzLl9zZXJ2aWNlc1tzZXJ2aWNlTmFtZV07XG4gICAgaWYgKCFzZXJ2aWNlRnVuY3Rpb24pIHtcbiAgICAgIHRocm93IEVycm9yKCdObyBzZXJ2aWNlIHJlZ2lzdGVyZWQgd2l0aCBuYW1lOiAnICsgc2VydmljZU5hbWUpO1xuICAgIH1cbiAgICByZXR1cm4gc2VydmljZUZ1bmN0aW9uLmhhbmRsZXIuYXBwbHkodGhpcywgYXJncyk7XG4gIH1cblxuICBjbG9zZSgpOiB2b2lkIHtcbiAgICB0aGlzLl9lbmFibGVkU2VydmljZXMuZm9yRWFjaCgoc2VydmljZV9wYXRoKSA9PiB7XG4gICAgICBjb25zdCB7c2h1dGRvd259ID0gcmVxdWlyZShzZXJ2aWNlX3BhdGgpO1xuICAgICAgaWYgKHNodXRkb3duKSB7XG4gICAgICAgIHNodXRkb3duKHRoaXMpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gTnVjbGlkZUxvY2FsRXZlbnRidXM7XG4iXX0=",""],"l":{"10":4,"12":1,"14":1,"16":1,"18":1,"20":1,"22":1,"24":1,"26":1,"28":1,"29":1,"31":1,"32":0,"34":0,"36":0,"38":0,"39":0,"40":0,"42":0,"44":0,"45":0,"47":0,"49":0,"50":0,"55":0,"56":0,"58":0,"60":0,"61":0,"65":0,"67":0,"70":0,"71":0,"74":1,"77":0,"83":0,"85":0,"86":0,"87":0,"89":0,"94":0,"95":0,"96":0,"98":0,"103":0,"105":0,"106":0,"108":0,"110":0,"111":0,"117":1,"120":1}},"/home/travis/build/npmtest/node-npmtest-nuclide-server/node_modules/nuclide-server/lib/nuclide-main.js":{"path":"/home/travis/build/npmtest/node-npmtest-nuclide-server/node_modules/nuclide-server/lib/nuclide-main.js","s":{"1":1,"2":1},"b":{},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":14,"column":0},"end":{"line":14,"column":35}},"2":{"start":{"line":17,"column":0},"end":{"line":17,"column":18}}},"branchMap":{},"code":["/*"," * Copyright (c) 2015-present, Facebook, Inc."," * All rights reserved."," *"," * This source code is licensed under the license found in the LICENSE file in"," * the root directory of this source tree."," */","","/**"," * This is the main insertion point for starting nuclide-server."," */","","// Set up the on-the-fly transpiler.","require('nuclide-node-transpiler');","","// Load the ES6+ server code now that the transpiler is in place.","require('./main');",""],"l":{"14":1,"17":1}}}